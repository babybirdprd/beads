# Compatibility

The Rust port maintains strict compatibility with the existing Go implementation of Beads. This allows users to switch between implementations or use them concurrently on the same repository.

## Shared State

Both implementations share the following state:

1.  **SQLite Database**: The local database at `.beads/beads.db` uses the same schema.
2.  **JSONL Files**: Issues are exported to and imported from JSONL files in the `.beads/` directory. This is the source of truth for synchronization.
3.  **Git Branch**: The `beads` branch (or configured branch) is used for syncing.

## Key Compatibility Features

### ID Generation
The Rust port implements the same Base36 ID generation algorithm as the Go version. This ensures that IDs generated by the Rust tool follow the same format and collision-avoidance logic (using prefixes, length variation, and nonces).

### Sync Logic
The synchronization process (`export` -> `commit` -> `pull` -> `merge` -> `push` -> `import`) is identical. The Rust port respects the `dirty_issues` table, ensuring that any changes made locally are correctly exported to JSONL before syncing.

### 3-Way Merge
The merge logic for resolving conflicts during sync has been ported to ensure consistent conflict resolution strategies.

## Verification
Compatibility is verified via the `scripts/verify_compat.sh` script, which runs a suite of operations using both `bd-go` and `bd-rust` against a shared repository to detect any discrepancies.
