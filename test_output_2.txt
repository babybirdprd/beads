=== RUN   TestNewSQLiteStorage
--- PASS: TestNewSQLiteStorage (0.38s)
=== RUN   TestFindDatabasePath
--- PASS: TestFindDatabasePath (0.03s)
=== RUN   TestFindBeadsDir
--- PASS: TestFindBeadsDir (0.02s)
=== RUN   TestFindJSONLPath
--- PASS: TestFindJSONLPath (0.00s)
=== RUN   TestFindAllDatabases
--- PASS: TestFindAllDatabases (0.00s)
=== RUN   TestConstants
--- PASS: TestConstants (0.00s)
PASS
ok  	github.com/steveyegge/beads	1.473s
=== RUN   TestCheckAndAutoImport_NoAutoImportFlag
--- PASS: TestCheckAndAutoImport_NoAutoImportFlag (0.32s)
=== RUN   TestAutoImportIfNewer_NoAutoImportFlag
--- PASS: TestAutoImportIfNewer_NoAutoImportFlag (0.04s)
=== RUN   TestCheckAndAutoImport_DatabaseHasIssues
--- PASS: TestCheckAndAutoImport_DatabaseHasIssues (0.04s)
=== RUN   TestCheckAndAutoImport_EmptyDatabaseNoGit
--- PASS: TestCheckAndAutoImport_EmptyDatabaseNoGit (0.04s)
=== RUN   TestFindBeadsDir
--- PASS: TestFindBeadsDir (0.00s)
=== RUN   TestFindBeadsDir_NotFound
--- PASS: TestFindBeadsDir_NotFound (0.00s)
=== RUN   TestFindBeadsDir_ParentDirectory
--- PASS: TestFindBeadsDir_ParentDirectory (0.00s)
=== RUN   TestCheckGitForIssues_NoGitRepo
--- PASS: TestCheckGitForIssues_NoGitRepo (0.00s)
=== RUN   TestCheckGitForIssues_NoBeadsDir
--- PASS: TestCheckGitForIssues_NoBeadsDir (0.00s)
=== RUN   TestBoolToFlag
=== PAUSE TestBoolToFlag
=== RUN   TestIsNoDbModeConfigured
=== RUN   TestIsNoDbModeConfigured/no_config.yaml_exists
=== RUN   TestIsNoDbModeConfigured/config.yaml_without_no-db_key
=== RUN   TestIsNoDbModeConfigured/no-db:_true
=== RUN   TestIsNoDbModeConfigured/no-db:_false
=== RUN   TestIsNoDbModeConfigured/no-db_in_comment_should_not_match
=== RUN   TestIsNoDbModeConfigured/no-db_nested_under_section_should_not_match
=== RUN   TestIsNoDbModeConfigured/no-db_with_other_config
=== RUN   TestIsNoDbModeConfigured/empty_file
--- PASS: TestIsNoDbModeConfigured (0.01s)
    --- PASS: TestIsNoDbModeConfigured/no_config.yaml_exists (0.00s)
    --- PASS: TestIsNoDbModeConfigured/config.yaml_without_no-db_key (0.00s)
    --- PASS: TestIsNoDbModeConfigured/no-db:_true (0.00s)
    --- PASS: TestIsNoDbModeConfigured/no-db:_false (0.00s)
    --- PASS: TestIsNoDbModeConfigured/no-db_in_comment_should_not_match (0.00s)
    --- PASS: TestIsNoDbModeConfigured/no-db_nested_under_section_should_not_match (0.00s)
    --- PASS: TestIsNoDbModeConfigured/no-db_with_other_config (0.00s)
    --- PASS: TestIsNoDbModeConfigured/empty_file (0.00s)
=== RUN   TestGetLocalSyncBranch
=== RUN   TestGetLocalSyncBranch/no_config.yaml_exists
=== RUN   TestGetLocalSyncBranch/config.yaml_has_no_sync-branch_key
=== RUN   TestGetLocalSyncBranch/sync-branch_without_quotes
=== RUN   TestGetLocalSyncBranch/sync-branch_with_double_quotes
=== RUN   TestGetLocalSyncBranch/sync-branch_with_single_quotes
=== RUN   TestGetLocalSyncBranch/env_var_takes_precedence
=== RUN   TestGetLocalSyncBranch/empty_file
=== RUN   TestGetLocalSyncBranch/whitespace-only_lines
=== RUN   TestGetLocalSyncBranch/sync-branch_after_comments
=== RUN   TestGetLocalSyncBranch/sync-branch_with_trailing_comment
=== RUN   TestGetLocalSyncBranch/sync-branch_with_special_characters
=== RUN   TestGetLocalSyncBranch/sync-branch_indented_under_section_(not_top-level)
=== RUN   TestGetLocalSyncBranch/mixed_config_with_sync-branch
--- PASS: TestGetLocalSyncBranch (0.01s)
    --- PASS: TestGetLocalSyncBranch/no_config.yaml_exists (0.00s)
    --- PASS: TestGetLocalSyncBranch/config.yaml_has_no_sync-branch_key (0.00s)
    --- PASS: TestGetLocalSyncBranch/sync-branch_without_quotes (0.00s)
    --- PASS: TestGetLocalSyncBranch/sync-branch_with_double_quotes (0.00s)
    --- PASS: TestGetLocalSyncBranch/sync-branch_with_single_quotes (0.00s)
    --- PASS: TestGetLocalSyncBranch/env_var_takes_precedence (0.00s)
    --- PASS: TestGetLocalSyncBranch/empty_file (0.00s)
    --- PASS: TestGetLocalSyncBranch/whitespace-only_lines (0.00s)
    --- PASS: TestGetLocalSyncBranch/sync-branch_after_comments (0.00s)
    --- PASS: TestGetLocalSyncBranch/sync-branch_with_trailing_comment (0.00s)
    --- PASS: TestGetLocalSyncBranch/sync-branch_with_special_characters (0.00s)
    --- PASS: TestGetLocalSyncBranch/sync-branch_indented_under_section_(not_top-level) (0.00s)
    --- PASS: TestGetLocalSyncBranch/mixed_config_with_sync-branch (0.00s)
=== RUN   TestDaemonAutoStart
=== RUN   TestDaemonAutoStart/shouldAutoStartDaemon_defaults_to_true
=== RUN   TestDaemonAutoStart/shouldAutoStartDaemon_respects_false
=== RUN   TestDaemonAutoStart/shouldAutoStartDaemon_respects_0
=== RUN   TestDaemonAutoStart/shouldAutoStartDaemon_respects_no
=== RUN   TestDaemonAutoStart/shouldAutoStartDaemon_respects_off
=== RUN   TestDaemonAutoStart/shouldAutoStartDaemon_handles_case_and_whitespace
=== RUN   TestDaemonAutoStart/shouldAutoStartDaemon_respects_true
--- PASS: TestDaemonAutoStart (0.04s)
    --- PASS: TestDaemonAutoStart/shouldAutoStartDaemon_defaults_to_true (0.01s)
    --- PASS: TestDaemonAutoStart/shouldAutoStartDaemon_respects_false (0.01s)
    --- PASS: TestDaemonAutoStart/shouldAutoStartDaemon_respects_0 (0.01s)
    --- PASS: TestDaemonAutoStart/shouldAutoStartDaemon_respects_no (0.01s)
    --- PASS: TestDaemonAutoStart/shouldAutoStartDaemon_respects_off (0.01s)
    --- PASS: TestDaemonAutoStart/shouldAutoStartDaemon_handles_case_and_whitespace (0.01s)
    --- PASS: TestDaemonAutoStart/shouldAutoStartDaemon_respects_true (0.01s)
=== RUN   TestDaemonStartFailureTracking
=== RUN   TestDaemonStartFailureTracking/canRetryDaemonStart_allows_first_attempt
=== RUN   TestDaemonStartFailureTracking/exponential_backoff_after_failures
=== RUN   TestDaemonStartFailureTracking/exponential_backoff_durations_are_correct
=== RUN   TestDaemonStartFailureTracking/recordDaemonStartSuccess_resets_failures
--- PASS: TestDaemonStartFailureTracking (0.00s)
    --- PASS: TestDaemonStartFailureTracking/canRetryDaemonStart_allows_first_attempt (0.00s)
    --- PASS: TestDaemonStartFailureTracking/exponential_backoff_after_failures (0.00s)
    --- PASS: TestDaemonStartFailureTracking/exponential_backoff_durations_are_correct (0.00s)
    --- PASS: TestDaemonStartFailureTracking/recordDaemonStartSuccess_resets_failures (0.00s)
=== RUN   TestGetSocketPath
=== RUN   TestGetSocketPath/prefers_local_socket_when_it_exists
=== RUN   TestGetSocketPath/always_returns_local_socket_path
=== RUN   TestGetSocketPath/defaults_to_local_socket_when_none_exist
--- PASS: TestGetSocketPath (0.00s)
    --- PASS: TestGetSocketPath/prefers_local_socket_when_it_exists (0.00s)
    --- PASS: TestGetSocketPath/always_returns_local_socket_path (0.00s)
    --- PASS: TestGetSocketPath/defaults_to_local_socket_when_none_exist (0.00s)
=== RUN   TestReadMergeArtifactPatterns_PathTraversal
=== RUN   TestReadMergeArtifactPatterns_PathTraversal/normal_.gitignore_in_.beads
=== RUN   TestReadMergeArtifactPatterns_PathTraversal/missing_.gitignore
=== RUN   TestReadMergeArtifactPatterns_PathTraversal/path_traversal_via_beadsDir_(normalized_by_filepath.Join)
--- PASS: TestReadMergeArtifactPatterns_PathTraversal (0.00s)
    --- PASS: TestReadMergeArtifactPatterns_PathTraversal/normal_.gitignore_in_.beads (0.00s)
    --- PASS: TestReadMergeArtifactPatterns_PathTraversal/missing_.gitignore (0.00s)
    --- PASS: TestReadMergeArtifactPatterns_PathTraversal/path_traversal_via_beadsDir_(normalized_by_filepath.Join) (0.00s)
=== RUN   TestReadMergeArtifactPatterns_SymlinkSafety
--- PASS: TestReadMergeArtifactPatterns_SymlinkSafety (0.00s)
=== RUN   TestReadMergeArtifactPatterns_OnlyMergeSection
--- PASS: TestReadMergeArtifactPatterns_OnlyMergeSection (0.00s)
=== RUN   TestReadMergeArtifactPatterns_ValidatesPatternSafety
    clean_security_test.go:278: WARNING: Absolute pattern "/etc/shadow" would become "/tmp/TestReadMergeArtifactPatterns_ValidatesPatternSafety1561460565/001/.beads/etc/shadow"
--- PASS: TestReadMergeArtifactPatterns_ValidatesPatternSafety (0.00s)
=== RUN   TestCommentsSuite
=== RUN   TestCommentsSuite/CommentsCommand
=== RUN   TestCommentsSuite/CommentsCommand/add_comment
=== RUN   TestCommentsSuite/CommentsCommand/list_comments
=== RUN   TestCommentsSuite/CommentsCommand/multiple_comments
=== RUN   TestCommentsSuite/CommentsCommand/comments_on_non-existent_issue
=== RUN   TestCommentsSuite/CommentAlias
=== RUN   TestCommentsSuite/CommentAlias/comment_alias_shares_Run_function_with_comments_add
=== RUN   TestCommentsSuite/CommentAlias/comment_added_via_storage_API_works
--- PASS: TestCommentsSuite (0.06s)
    --- PASS: TestCommentsSuite/CommentsCommand (0.01s)
        --- PASS: TestCommentsSuite/CommentsCommand/add_comment (0.00s)
        --- PASS: TestCommentsSuite/CommentsCommand/list_comments (0.00s)
        --- PASS: TestCommentsSuite/CommentsCommand/multiple_comments (0.00s)
        --- PASS: TestCommentsSuite/CommentsCommand/comments_on_non-existent_issue (0.00s)
    --- PASS: TestCommentsSuite/CommentAlias (0.00s)
        --- PASS: TestCommentsSuite/CommentAlias/comment_alias_shares_Run_function_with_comments_add (0.00s)
        --- PASS: TestCommentsSuite/CommentAlias/comment_added_via_storage_API_works (0.00s)
=== RUN   TestIsUnknownOperationError
=== RUN   TestIsUnknownOperationError/nil_error
=== RUN   TestIsUnknownOperationError/unknown_operation_error
=== RUN   TestIsUnknownOperationError/other_error
--- PASS: TestIsUnknownOperationError (0.00s)
    --- PASS: TestIsUnknownOperationError/nil_error (0.00s)
    --- PASS: TestIsUnknownOperationError/unknown_operation_error (0.00s)
    --- PASS: TestIsUnknownOperationError/other_error (0.00s)
=== RUN   TestCompactSuite
=== RUN   TestCompactSuite/DryRun
=== RUN   TestCompactSuite/Stats
=== RUN   TestCompactSuite/RunCompactStats
Compaction Statistics
Tier 1 (30+ days closed):
  Candidates: 5
  Total size: 53 bytes
  Estimated savings: 37 bytes (70%)

Tier 2 (90+ days closed, Tier 1 compacted):
  Candidates: 0
  Total size: 0 bytes
{
  "tier1": {
    "candidates": 5,
    "total_size": 53
  },
  "tier2": {
    "candidates": 0,
    "total_size": 0
  }
}
=== RUN   TestCompactSuite/CompactStatsJSON
{
  "tier1": {
    "candidates": 6,
    "total_size": 53
  },
  "tier2": {
    "candidates": 0,
    "total_size": 0
  }
}
=== RUN   TestCompactSuite/RunCompactSingleDryRun
=== RUN   TestCompactSuite/RunCompactAllDryRun
--- PASS: TestCompactSuite (0.08s)
    --- PASS: TestCompactSuite/DryRun (0.00s)
    --- PASS: TestCompactSuite/Stats (0.01s)
    --- PASS: TestCompactSuite/RunCompactStats (0.01s)
    --- PASS: TestCompactSuite/CompactStatsJSON (0.00s)
    --- PASS: TestCompactSuite/RunCompactSingleDryRun (0.00s)
    --- PASS: TestCompactSuite/RunCompactAllDryRun (0.01s)
=== RUN   TestCompactValidation
=== RUN   TestCompactValidation/both_id_and_all
=== RUN   TestCompactValidation/force_without_id
=== RUN   TestCompactValidation/no_flags
=== RUN   TestCompactValidation/dry_run_only
=== RUN   TestCompactValidation/id_only
=== RUN   TestCompactValidation/all_only
--- PASS: TestCompactValidation (0.00s)
    --- PASS: TestCompactValidation/both_id_and_all (0.00s)
    --- PASS: TestCompactValidation/force_without_id (0.00s)
    --- PASS: TestCompactValidation/no_flags (0.00s)
    --- PASS: TestCompactValidation/dry_run_only (0.00s)
    --- PASS: TestCompactValidation/id_only (0.00s)
    --- PASS: TestCompactValidation/all_only (0.00s)
=== RUN   TestCompactProgressBar
--- PASS: TestCompactProgressBar (0.00s)
=== RUN   TestFormatUptime
=== RUN   TestFormatUptime/seconds
=== RUN   TestFormatUptime/minutes
=== RUN   TestFormatUptime/hours
=== RUN   TestFormatUptime/days
--- PASS: TestFormatUptime (0.00s)
    --- PASS: TestFormatUptime/seconds (0.00s)
    --- PASS: TestFormatUptime/minutes (0.00s)
    --- PASS: TestFormatUptime/hours (0.00s)
    --- PASS: TestFormatUptime/days (0.00s)
=== RUN   TestCompactInitCommand
--- PASS: TestCompactInitCommand (0.00s)
=== RUN   TestPruneExpiredTombstones
--- PASS: TestPruneExpiredTombstones (0.00s)
=== RUN   TestPruneExpiredTombstones_NoTombstones
--- PASS: TestPruneExpiredTombstones_NoTombstones (0.00s)
=== RUN   TestConfigCommands
--- PASS: TestConfigCommands (0.04s)
=== RUN   TestConfigNamespaces
--- PASS: TestConfigNamespaces (0.04s)
=== RUN   TestCreateSuite
=== RUN   TestCreateSuite/BasicIssue
=== RUN   TestCreateSuite/WithDescription
=== RUN   TestCreateSuite/WithDesignAndAcceptance
=== RUN   TestCreateSuite/WithLabels
=== RUN   TestCreateSuite/WithDependencies
=== RUN   TestCreateSuite/WithDiscoveredFromDependency
=== RUN   TestCreateSuite/WithExplicitID
=== RUN   TestCreateSuite/WithAssignee
=== RUN   TestCreateSuite/AllIssueTypes
=== RUN   TestCreateSuite/MultipleDependencies
=== RUN   TestCreateSuite/DiscoveredFromInheritsSourceRepo
--- PASS: TestCreateSuite (0.12s)
    --- PASS: TestCreateSuite/BasicIssue (0.00s)
    --- PASS: TestCreateSuite/WithDescription (0.00s)
    --- PASS: TestCreateSuite/WithDesignAndAcceptance (0.00s)
    --- PASS: TestCreateSuite/WithLabels (0.00s)
    --- PASS: TestCreateSuite/WithDependencies (0.01s)
    --- PASS: TestCreateSuite/WithDiscoveredFromDependency (0.01s)
    --- PASS: TestCreateSuite/WithExplicitID (0.00s)
    --- PASS: TestCreateSuite/WithAssignee (0.00s)
    --- PASS: TestCreateSuite/AllIssueTypes (0.01s)
    --- PASS: TestCreateSuite/MultipleDependencies (0.01s)
    --- PASS: TestCreateSuite/DiscoveredFromInheritsSourceRepo (0.01s)
=== RUN   TestDebouncer_BatchesMultipleTriggers
--- PASS: TestDebouncer_BatchesMultipleTriggers (0.06s)
=== RUN   TestDebouncer_ResetsTimerOnSubsequentTriggers
--- PASS: TestDebouncer_ResetsTimerOnSubsequentTriggers (0.08s)
=== RUN   TestDebouncer_CancelDuringWait
--- PASS: TestDebouncer_CancelDuringWait (0.06s)
=== RUN   TestDebouncer_CancelWithNoPendingAction
--- PASS: TestDebouncer_CancelWithNoPendingAction (0.10s)
=== RUN   TestDebouncer_ThreadSafety
--- PASS: TestDebouncer_ThreadSafety (0.07s)
=== RUN   TestDebouncer_ConcurrentCancelAndTrigger
--- PASS: TestDebouncer_ConcurrentCancelAndTrigger (0.10s)
=== RUN   TestDebouncer_MultipleSequentialTriggerCycles
--- PASS: TestDebouncer_MultipleSequentialTriggerCycles (0.12s)
=== RUN   TestDebouncer_CancelImmediatelyAfterTrigger
--- PASS: TestDebouncer_CancelImmediatelyAfterTrigger (0.06s)
=== RUN   TestLocalModeFlags
=== RUN   TestLocalModeFlags/local_mode_is_incompatible_with_auto-commit
    daemon_local_test.go:24: Correctly detected incompatible flags: --local and --auto-commit
=== RUN   TestLocalModeFlags/local_mode_is_incompatible_with_auto-push
    daemon_local_test.go:35: Correctly detected incompatible flags: --local and --auto-push
=== RUN   TestLocalModeFlags/local_mode_alone_is_valid
--- PASS: TestLocalModeFlags (0.00s)
    --- PASS: TestLocalModeFlags/local_mode_is_incompatible_with_auto-commit (0.00s)
    --- PASS: TestLocalModeFlags/local_mode_is_incompatible_with_auto-push (0.00s)
    --- PASS: TestLocalModeFlags/local_mode_alone_is_valid (0.00s)
=== RUN   TestLocalModeGitCheck
=== RUN   TestLocalModeGitCheck/git_check_skipped_when_local_mode_enabled
=== RUN   TestLocalModeGitCheck/git_check_enforced_when_local_mode_disabled
--- PASS: TestLocalModeGitCheck (0.00s)
    --- PASS: TestLocalModeGitCheck/git_check_skipped_when_local_mode_enabled (0.00s)
    --- PASS: TestLocalModeGitCheck/git_check_enforced_when_local_mode_disabled (0.00s)
=== RUN   TestCreateLocalSyncFunc
    daemon_local_test.go:82: Skipping integration test in short mode
--- SKIP: TestCreateLocalSyncFunc (0.00s)
=== RUN   TestCreateLocalExportFunc
    daemon_local_test.go:154: Skipping integration test in short mode
--- SKIP: TestCreateLocalExportFunc (0.00s)
=== RUN   TestCreateLocalAutoImportFunc
    daemon_local_test.go:226: Skipping integration test in short mode
--- SKIP: TestCreateLocalAutoImportFunc (0.00s)
=== RUN   TestLocalModeNoGitOperations
=== RUN   TestLocalModeNoGitOperations/createLocalSyncFunc_has_no_git_calls
    daemon_local_test.go:295: Verified: createLocalSyncFunc contains no git operations
=== RUN   TestLocalModeNoGitOperations/createLocalExportFunc_has_no_git_calls
    daemon_local_test.go:299: Verified: createLocalExportFunc contains no git operations
=== RUN   TestLocalModeNoGitOperations/createLocalAutoImportFunc_has_no_git_calls
    daemon_local_test.go:303: Verified: createLocalAutoImportFunc contains no git operations
--- PASS: TestLocalModeNoGitOperations (0.00s)
    --- PASS: TestLocalModeNoGitOperations/createLocalSyncFunc_has_no_git_calls (0.00s)
    --- PASS: TestLocalModeNoGitOperations/createLocalExportFunc_has_no_git_calls (0.00s)
    --- PASS: TestLocalModeNoGitOperations/createLocalAutoImportFunc_has_no_git_calls (0.00s)
=== RUN   TestLocalModeFingerprintValidationSkipped
=== RUN   TestLocalModeFingerprintValidationSkipped/fingerprint_validation_skipped_in_local_mode
=== RUN   TestLocalModeFingerprintValidationSkipped/fingerprint_validation_runs_in_normal_mode
--- PASS: TestLocalModeFingerprintValidationSkipped (0.00s)
    --- PASS: TestLocalModeFingerprintValidationSkipped/fingerprint_validation_skipped_in_local_mode (0.00s)
    --- PASS: TestLocalModeFingerprintValidationSkipped/fingerprint_validation_runs_in_normal_mode (0.00s)
=== RUN   TestLocalModeInNonGitDirectory
    daemon_local_test.go:334: Skipping integration test in short mode
--- SKIP: TestLocalModeInNonGitDirectory (0.00s)
=== RUN   TestLocalModeExportImportRoundTrip
    daemon_local_test.go:412: Skipping integration test in short mode
--- SKIP: TestLocalModeExportImportRoundTrip (0.00s)
=== RUN   TestLogRotation
--- PASS: TestLogRotation (0.00s)
=== RUN   TestGetEnvInt
=== RUN   TestGetEnvInt/not_set
=== RUN   TestGetEnvInt/valid_int
=== RUN   TestGetEnvInt/invalid_int
=== RUN   TestGetEnvInt/zero
=== RUN   TestGetEnvInt/negative
--- PASS: TestGetEnvInt (0.00s)
    --- PASS: TestGetEnvInt/not_set (0.00s)
    --- PASS: TestGetEnvInt/valid_int (0.00s)
    --- PASS: TestGetEnvInt/invalid_int (0.00s)
    --- PASS: TestGetEnvInt/zero (0.00s)
    --- PASS: TestGetEnvInt/negative (0.00s)
=== RUN   TestGetEnvBool
=== RUN   TestGetEnvBool/not_set_default_true
=== RUN   TestGetEnvBool/not_set_default_false
=== RUN   TestGetEnvBool/true_string
=== RUN   TestGetEnvBool/1_string
=== RUN   TestGetEnvBool/false_string
=== RUN   TestGetEnvBool/0_string
=== RUN   TestGetEnvBool/invalid_string
--- PASS: TestGetEnvBool (0.00s)
    --- PASS: TestGetEnvBool/not_set_default_true (0.00s)
    --- PASS: TestGetEnvBool/not_set_default_false (0.00s)
    --- PASS: TestGetEnvBool/true_string (0.00s)
    --- PASS: TestGetEnvBool/1_string (0.00s)
    --- PASS: TestGetEnvBool/false_string (0.00s)
    --- PASS: TestGetEnvBool/0_string (0.00s)
    --- PASS: TestGetEnvBool/invalid_string (0.00s)
=== RUN   TestLogFileRotationDefaults
--- PASS: TestLogFileRotationDefaults (0.00s)
=== RUN   TestExportToJSONLWithStore
--- PASS: TestExportToJSONLWithStore (0.05s)
=== RUN   TestExportToJSONLWithStore_EmptyDatabase
--- PASS: TestExportToJSONLWithStore_EmptyDatabase (0.04s)
=== RUN   TestImportToJSONLWithStore
--- PASS: TestImportToJSONLWithStore (0.04s)
=== RUN   TestExportImportRoundTrip
--- PASS: TestExportImportRoundTrip (0.09s)
=== RUN   TestExportUpdatesMetadata
--- PASS: TestExportUpdatesMetadata (0.04s)
=== RUN   TestUpdateExportMetadataMultiRepo
--- PASS: TestUpdateExportMetadataMultiRepo (0.04s)
=== RUN   TestExportWithMultiRepoConfigUpdatesAllMetadata
--- PASS: TestExportWithMultiRepoConfigUpdatesAllMetadata (0.05s)
=== RUN   TestUpdateExportMetadataInvalidKeySuffix
--- PASS: TestUpdateExportMetadataInvalidKeySuffix (0.04s)
=== RUN   TestIsProcessRunning_SelfCheck
--- PASS: TestIsProcessRunning_SelfCheck (0.00s)
=== RUN   TestIsProcessRunning_Init
--- PASS: TestIsProcessRunning_Init (0.00s)
=== RUN   TestIsProcessRunning_NonexistentProcess
--- PASS: TestIsProcessRunning_NonexistentProcess (0.00s)
=== RUN   TestIsProcessRunning_ParentProcess
--- PASS: TestIsProcessRunning_ParentProcess (0.00s)
=== RUN   TestFormatDaemonDuration
=== RUN   TestFormatDaemonDuration/zero
=== RUN   TestFormatDaemonDuration/seconds
=== RUN   TestFormatDaemonDuration/minutes
=== RUN   TestFormatDaemonDuration/hours
=== RUN   TestFormatDaemonDuration/days
=== RUN   TestFormatDaemonDuration/mixed
--- PASS: TestFormatDaemonDuration (0.00s)
    --- PASS: TestFormatDaemonDuration/zero (0.00s)
    --- PASS: TestFormatDaemonDuration/seconds (0.00s)
    --- PASS: TestFormatDaemonDuration/minutes (0.00s)
    --- PASS: TestFormatDaemonDuration/hours (0.00s)
    --- PASS: TestFormatDaemonDuration/days (0.00s)
    --- PASS: TestFormatDaemonDuration/mixed (0.00s)
=== RUN   TestFormatDaemonRelativeTime
=== RUN   TestFormatDaemonRelativeTime/just_now
=== RUN   TestFormatDaemonRelativeTime/minutes_ago
=== RUN   TestFormatDaemonRelativeTime/hours_ago
=== RUN   TestFormatDaemonRelativeTime/days_ago
--- PASS: TestFormatDaemonRelativeTime (0.00s)
    --- PASS: TestFormatDaemonRelativeTime/just_now (0.00s)
    --- PASS: TestFormatDaemonRelativeTime/minutes_ago (0.00s)
    --- PASS: TestFormatDaemonRelativeTime/hours_ago (0.00s)
    --- PASS: TestFormatDaemonRelativeTime/days_ago (0.00s)
=== RUN   TestMultiWorkspaceDeletionSync
3-way merge: pruned 1 deleted issue(s) from database (base: 0, left: 0, merged: 1)
--- PASS: TestMultiWorkspaceDeletionSync (0.11s)
=== RUN   TestDeletionWithLocalModification
3-way merge: pruned 1 deleted issue(s) from database (base: 0, left: 0, merged: 0)
--- PASS: TestDeletionWithLocalModification (0.06s)
=== RUN   TestComputeAcceptedDeletions
--- PASS: TestComputeAcceptedDeletions (0.00s)
=== RUN   TestComputeAcceptedDeletions_LocallyModified
--- PASS: TestComputeAcceptedDeletions_LocallyModified (0.00s)
=== RUN   TestSnapshotManagement
--- PASS: TestSnapshotManagement (0.01s)
=== RUN   TestMultiRepoDeletionTracking
3-way merge: pruned 1 deleted issue(s) from database (base: 0, left: 0, merged: 0)
--- PASS: TestMultiRepoDeletionTracking (0.07s)
=== RUN   TestGetMultiRepoJSONLPaths_EmptyPaths
--- PASS: TestGetMultiRepoJSONLPaths_EmptyPaths (0.00s)
=== RUN   TestGetMultiRepoJSONLPaths_Duplicates
--- PASS: TestGetMultiRepoJSONLPaths_Duplicates (0.00s)
=== RUN   TestGetMultiRepoJSONLPaths_PathsWithSpaces
--- PASS: TestGetMultiRepoJSONLPaths_PathsWithSpaces (0.00s)
=== RUN   TestGetMultiRepoJSONLPaths_RelativePaths
--- PASS: TestGetMultiRepoJSONLPaths_RelativePaths (0.00s)
=== RUN   TestGetMultiRepoJSONLPaths_TildeExpansion
--- PASS: TestGetMultiRepoJSONLPaths_TildeExpansion (0.00s)
=== RUN   TestMultiRepoSnapshotIsolation
--- PASS: TestMultiRepoSnapshotIsolation (0.02s)
=== RUN   TestMultiRepoFlushPrefixFiltering
--- PASS: TestMultiRepoFlushPrefixFiltering (0.05s)
=== RUN   TestDependencySuite
=== RUN   TestDependencySuite/DepAdd
=== RUN   TestDependencySuite/DepTypes
=== RUN   TestDependencySuite/DepCycleDetection
=== RUN   TestDependencySuite/DepRemove
--- PASS: TestDependencySuite (0.09s)
    --- PASS: TestDependencySuite/DepAdd (0.01s)
    --- PASS: TestDependencySuite/DepTypes (0.01s)
    --- PASS: TestDependencySuite/DepCycleDetection (0.01s)
    --- PASS: TestDependencySuite/DepRemove (0.01s)
=== RUN   TestDepCommandsInit
--- PASS: TestDepCommandsInit (0.00s)
=== RUN   TestDepTreeFormatFlag
--- PASS: TestDepTreeFormatFlag (0.00s)
=== RUN   TestGetStatusEmoji
=== RUN   TestGetStatusEmoji/open
=== RUN   TestGetStatusEmoji/in_progress
=== RUN   TestGetStatusEmoji/blocked
=== RUN   TestGetStatusEmoji/closed
=== RUN   TestGetStatusEmoji/unknown
--- PASS: TestGetStatusEmoji (0.00s)
    --- PASS: TestGetStatusEmoji/open (0.00s)
    --- PASS: TestGetStatusEmoji/in_progress (0.00s)
    --- PASS: TestGetStatusEmoji/blocked (0.00s)
    --- PASS: TestGetStatusEmoji/closed (0.00s)
    --- PASS: TestGetStatusEmoji/unknown (0.00s)
=== RUN   TestOutputMermaidTree
=== RUN   TestOutputMermaidTree/empty_tree
=== RUN   TestOutputMermaidTree/single_dependency
=== RUN   TestOutputMermaidTree/multiple_dependencies
--- PASS: TestOutputMermaidTree (0.00s)
    --- PASS: TestOutputMermaidTree/empty_tree (0.00s)
    --- PASS: TestOutputMermaidTree/single_dependency (0.00s)
    --- PASS: TestOutputMermaidTree/multiple_dependencies (0.00s)
=== RUN   TestOutputMermaidTree_Siblings
--- PASS: TestOutputMermaidTree_Siblings (0.00s)
=== RUN   TestDepTreeDirectionFlag
--- PASS: TestDepTreeDirectionFlag (0.00s)
=== RUN   TestDepTreeStatusFlag
--- PASS: TestDepTreeStatusFlag (0.00s)
=== RUN   TestFilterTreeByStatus
=== RUN   TestFilterTreeByStatus/filter_to_open_only
=== RUN   TestFilterTreeByStatus/filter_to_closed_only
=== RUN   TestFilterTreeByStatus/filter_to_non-existent_status
=== RUN   TestFilterTreeByStatus/filter_empty_tree
--- PASS: TestFilterTreeByStatus (0.00s)
    --- PASS: TestFilterTreeByStatus/filter_to_open_only (0.00s)
    --- PASS: TestFilterTreeByStatus/filter_to_closed_only (0.00s)
    --- PASS: TestFilterTreeByStatus/filter_to_non-existent_status (0.00s)
    --- PASS: TestFilterTreeByStatus/filter_empty_tree (0.00s)
=== RUN   TestFormatTreeNode
=== RUN   TestFormatTreeNode/open_issue_at_depth_0_shows_READY
=== RUN   TestFormatTreeNode/open_issue_at_depth_1_does_not_show_READY
=== RUN   TestFormatTreeNode/closed_issue
--- PASS: TestFormatTreeNode (0.00s)
    --- PASS: TestFormatTreeNode/open_issue_at_depth_0_shows_READY (0.00s)
    --- PASS: TestFormatTreeNode/open_issue_at_depth_1_does_not_show_READY (0.00s)
    --- PASS: TestFormatTreeNode/closed_issue (0.00s)
=== RUN   TestRenderTreeOutput
--- PASS: TestRenderTreeOutput (0.00s)
=== RUN   TestFallbackToDirectModeEnablesFlush
--- PASS: TestFallbackToDirectModeEnablesFlush (0.07s)
=== RUN   TestDoctorNoBeadsDir
--- PASS: TestDoctorNoBeadsDir (0.01s)
=== RUN   TestDoctorWithBeadsDir
--- PASS: TestDoctorWithBeadsDir (0.39s)
=== RUN   TestDoctorJSONOutput
--- PASS: TestDoctorJSONOutput (0.01s)
=== RUN   TestDetectHashBasedIDs
=== RUN   TestDetectHashBasedIDs/hash_IDs_with_letters
=== RUN   TestDetectHashBasedIDs/hash_IDs_with_mixed_alphanumeric
=== RUN   TestDetectHashBasedIDs/hash_IDs_all_numeric_with_variable_length
=== RUN   TestDetectHashBasedIDs/hash_IDs_with_leading_zeros
=== RUN   TestDetectHashBasedIDs/hash_IDs_all_numeric_non-sequential
=== RUN   TestDetectHashBasedIDs/sequential_IDs
=== RUN   TestDetectHashBasedIDs/sequential_IDs_with_gaps
=== RUN   TestDetectHashBasedIDs/database_with_child_counters_table
=== RUN   TestDetectHashBasedIDs/hash_IDs_with_hierarchical_children
=== RUN   TestDetectHashBasedIDs/edge_case:_single_ID_with_letters
=== RUN   TestDetectHashBasedIDs/edge_case:_single_sequential_ID
--- PASS: TestDetectHashBasedIDs (0.12s)
    --- PASS: TestDetectHashBasedIDs/hash_IDs_with_letters (0.01s)
    --- PASS: TestDetectHashBasedIDs/hash_IDs_with_mixed_alphanumeric (0.01s)
    --- PASS: TestDetectHashBasedIDs/hash_IDs_all_numeric_with_variable_length (0.01s)
    --- PASS: TestDetectHashBasedIDs/hash_IDs_with_leading_zeros (0.01s)
    --- PASS: TestDetectHashBasedIDs/hash_IDs_all_numeric_non-sequential (0.01s)
    --- PASS: TestDetectHashBasedIDs/sequential_IDs (0.01s)
    --- PASS: TestDetectHashBasedIDs/sequential_IDs_with_gaps (0.01s)
    --- PASS: TestDetectHashBasedIDs/database_with_child_counters_table (0.01s)
    --- PASS: TestDetectHashBasedIDs/hash_IDs_with_hierarchical_children (0.01s)
    --- PASS: TestDetectHashBasedIDs/edge_case:_single_ID_with_letters (0.01s)
    --- PASS: TestDetectHashBasedIDs/edge_case:_single_sequential_ID (0.01s)
=== RUN   TestCheckIDFormat
=== RUN   TestCheckIDFormat/hash_IDs_with_letters
=== RUN   TestCheckIDFormat/hash_IDs_all_numeric_with_leading_zeros
=== RUN   TestCheckIDFormat/hash_IDs_with_child_counters_table
=== RUN   TestCheckIDFormat/sequential_IDs
=== RUN   TestCheckIDFormat/mixed:_mostly_hash_IDs
--- PASS: TestCheckIDFormat (0.08s)
    --- PASS: TestCheckIDFormat/hash_IDs_with_letters (0.02s)
    --- PASS: TestCheckIDFormat/hash_IDs_all_numeric_with_leading_zeros (0.02s)
    --- PASS: TestCheckIDFormat/hash_IDs_with_child_counters_table (0.01s)
    --- PASS: TestCheckIDFormat/sequential_IDs (0.02s)
    --- PASS: TestCheckIDFormat/mixed:_mostly_hash_IDs (0.01s)
=== RUN   TestCheckInstallation
--- PASS: TestCheckInstallation (0.00s)
=== RUN   TestCheckDatabaseVersionJSONLMode
--- PASS: TestCheckDatabaseVersionJSONLMode (0.00s)
=== RUN   TestCheckDatabaseVersionFreshClone
--- PASS: TestCheckDatabaseVersionFreshClone (0.00s)
=== RUN   TestCompareVersions
--- PASS: TestCompareVersions (0.00s)
=== RUN   TestCheckMultipleDatabases
=== RUN   TestCheckMultipleDatabases/no_databases
=== RUN   TestCheckMultipleDatabases/single_database
=== RUN   TestCheckMultipleDatabases/multiple_databases
=== RUN   TestCheckMultipleDatabases/backup_files_ignored
=== RUN   TestCheckMultipleDatabases/vc.db_ignored
--- PASS: TestCheckMultipleDatabases (0.00s)
    --- PASS: TestCheckMultipleDatabases/no_databases (0.00s)
    --- PASS: TestCheckMultipleDatabases/single_database (0.00s)
    --- PASS: TestCheckMultipleDatabases/multiple_databases (0.00s)
    --- PASS: TestCheckMultipleDatabases/backup_files_ignored (0.00s)
    --- PASS: TestCheckMultipleDatabases/vc.db_ignored (0.00s)
=== RUN   TestCheckPermissions
--- PASS: TestCheckPermissions (0.00s)
=== RUN   TestCheckDatabaseJSONLSync
=== RUN   TestCheckDatabaseJSONLSync/no_database
=== RUN   TestCheckDatabaseJSONLSync/no_JSONL
--- PASS: TestCheckDatabaseJSONLSync (0.00s)
    --- PASS: TestCheckDatabaseJSONLSync/no_database (0.00s)
    --- PASS: TestCheckDatabaseJSONLSync/no_JSONL (0.00s)
=== RUN   TestCountJSONLIssuesWithMalformedLines
--- PASS: TestCountJSONLIssuesWithMalformedLines (0.00s)
=== RUN   TestCheckGitHooks
=== RUN   TestCheckGitHooks/not_a_git_repository
=== RUN   TestCheckGitHooks/all_hooks_installed
=== RUN   TestCheckGitHooks/no_hooks_installed
=== RUN   TestCheckGitHooks/some_hooks_installed
=== RUN   TestCheckGitHooks/partial_hooks_installed
--- PASS: TestCheckGitHooks (0.05s)
    --- PASS: TestCheckGitHooks/not_a_git_repository (0.00s)
    --- PASS: TestCheckGitHooks/all_hooks_installed (0.01s)
    --- PASS: TestCheckGitHooks/no_hooks_installed (0.01s)
    --- PASS: TestCheckGitHooks/some_hooks_installed (0.01s)
    --- PASS: TestCheckGitHooks/partial_hooks_installed (0.01s)
=== RUN   TestCheckMetadataVersionTracking
=== RUN   TestCheckMetadataVersionTracking/valid_current_version
=== RUN   TestCheckMetadataVersionTracking/slightly_outdated_version
=== RUN   TestCheckMetadataVersionTracking/very_old_version
=== RUN   TestCheckMetadataVersionTracking/empty_version_field
=== RUN   TestCheckMetadataVersionTracking/invalid_version_format
=== RUN   TestCheckMetadataVersionTracking/corrupted_metadata.json
=== RUN   TestCheckMetadataVersionTracking/missing_metadata.json
--- PASS: TestCheckMetadataVersionTracking (0.01s)
    --- PASS: TestCheckMetadataVersionTracking/valid_current_version (0.00s)
    --- PASS: TestCheckMetadataVersionTracking/slightly_outdated_version (0.00s)
    --- PASS: TestCheckMetadataVersionTracking/very_old_version (0.00s)
    --- PASS: TestCheckMetadataVersionTracking/empty_version_field (0.00s)
    --- PASS: TestCheckMetadataVersionTracking/invalid_version_format (0.00s)
    --- PASS: TestCheckMetadataVersionTracking/corrupted_metadata.json (0.00s)
    --- PASS: TestCheckMetadataVersionTracking/missing_metadata.json (0.00s)
=== RUN   TestIsValidSemver
--- PASS: TestIsValidSemver (0.00s)
=== RUN   TestParseVersionParts
--- PASS: TestParseVersionParts (0.00s)
=== RUN   TestCheckSyncBranchConfig
=== RUN   TestCheckSyncBranchConfig/no_beads_directory
=== RUN   TestCheckSyncBranchConfig/not_a_git_repo
=== RUN   TestCheckSyncBranchConfig/sync.branch_configured_via_env_var
--- PASS: TestCheckSyncBranchConfig (0.02s)
    --- PASS: TestCheckSyncBranchConfig/no_beads_directory (0.00s)
    --- PASS: TestCheckSyncBranchConfig/not_a_git_repo (0.01s)
    --- PASS: TestCheckSyncBranchConfig/sync.branch_configured_via_env_var (0.01s)
=== RUN   TestInteractiveFlagParsing
--- PASS: TestInteractiveFlagParsing (0.00s)
=== RUN   TestOutputFlagParsing
--- PASS: TestOutputFlagParsing (0.00s)
=== RUN   TestExportDiagnostics
--- PASS: TestExportDiagnostics (0.00s)
=== RUN   TestExportDiagnosticsInvalidPath
--- PASS: TestExportDiagnosticsInvalidPath (0.00s)
=== RUN   TestCheckSyncBranchHookCompatibility
=== RUN   TestCheckSyncBranchHookCompatibility/sync-branch_configured,_no_git_repo
=== RUN   TestCheckSyncBranchHookCompatibility/sync-branch_configured,_no_pre-push_hook
=== RUN   TestCheckSyncBranchHookCompatibility/sync-branch_configured,_custom_hook
=== RUN   TestCheckSyncBranchHookCompatibility/sync-branch_configured,_old_hook_(0.24.2)
=== RUN   TestCheckSyncBranchHookCompatibility/sync-branch_configured,_old_hook_(0.28.0)
=== RUN   TestCheckSyncBranchHookCompatibility/sync-branch_configured,_compatible_hook_(0.29.0)
=== RUN   TestCheckSyncBranchHookCompatibility/sync-branch_configured,_newer_hook_(0.30.0)
--- PASS: TestCheckSyncBranchHookCompatibility (0.09s)
    --- PASS: TestCheckSyncBranchHookCompatibility/sync-branch_configured,_no_git_repo (0.00s)
    --- PASS: TestCheckSyncBranchHookCompatibility/sync-branch_configured,_no_pre-push_hook (0.01s)
    --- PASS: TestCheckSyncBranchHookCompatibility/sync-branch_configured,_custom_hook (0.01s)
    --- PASS: TestCheckSyncBranchHookCompatibility/sync-branch_configured,_old_hook_(0.24.2) (0.01s)
    --- PASS: TestCheckSyncBranchHookCompatibility/sync-branch_configured,_old_hook_(0.28.0) (0.02s)
    --- PASS: TestCheckSyncBranchHookCompatibility/sync-branch_configured,_compatible_hook_(0.29.0) (0.02s)
    --- PASS: TestCheckSyncBranchHookCompatibility/sync-branch_configured,_newer_hook_(0.30.0) (0.01s)
=== RUN   TestCheckSyncBranchHookQuick
=== RUN   TestCheckSyncBranchHookQuick/old_hook_with_sync-branch
=== RUN   TestCheckSyncBranchHookQuick/compatible_hook_with_sync-branch
--- PASS: TestCheckSyncBranchHookQuick (0.03s)
    --- PASS: TestCheckSyncBranchHookQuick/old_hook_with_sync-branch (0.02s)
    --- PASS: TestCheckSyncBranchHookQuick/compatible_hook_with_sync-branch (0.01s)
=== RUN   TestExtractManualFix
=== RUN   TestExtractManualFix/manually_pattern_with_git_config
=== RUN   TestExtractManualFix/manually_pattern_with_newline
=== RUN   TestExtractManualFix/or_alternative_after_bd_doctor_--fix
=== RUN   TestExtractManualFix/or_alternative_before_bd_doctor_--fix
=== RUN   TestExtractManualFix/just_bd_doctor_--fix
=== RUN   TestExtractManualFix/no_bd_doctor_--fix_at_all
=== RUN   TestExtractManualFix/empty_input
=== RUN   TestExtractManualFix/update_configuration_suggestion
--- PASS: TestExtractManualFix (0.00s)
    --- PASS: TestExtractManualFix/manually_pattern_with_git_config (0.00s)
    --- PASS: TestExtractManualFix/manually_pattern_with_newline (0.00s)
    --- PASS: TestExtractManualFix/or_alternative_after_bd_doctor_--fix (0.00s)
    --- PASS: TestExtractManualFix/or_alternative_before_bd_doctor_--fix (0.00s)
    --- PASS: TestExtractManualFix/just_bd_doctor_--fix (0.00s)
    --- PASS: TestExtractManualFix/no_bd_doctor_--fix_at_all (0.00s)
    --- PASS: TestExtractManualFix/empty_input (0.00s)
    --- PASS: TestExtractManualFix/update_configuration_suggestion (0.00s)
=== RUN   TestFindDuplicateGroups
=== RUN   TestFindDuplicateGroups/no_duplicates
=== RUN   TestFindDuplicateGroups/simple_duplicate
=== RUN   TestFindDuplicateGroups/duplicate_with_different_status_ignored
=== RUN   TestFindDuplicateGroups/multiple_duplicates
=== RUN   TestFindDuplicateGroups/different_descriptions_are_duplicates_if_title_matches
=== RUN   TestFindDuplicateGroups/exact_content_match
=== RUN   TestFindDuplicateGroups/three-way_duplicate
--- PASS: TestFindDuplicateGroups (0.00s)
    --- PASS: TestFindDuplicateGroups/no_duplicates (0.00s)
    --- PASS: TestFindDuplicateGroups/simple_duplicate (0.00s)
    --- PASS: TestFindDuplicateGroups/duplicate_with_different_status_ignored (0.00s)
    --- PASS: TestFindDuplicateGroups/multiple_duplicates (0.00s)
    --- PASS: TestFindDuplicateGroups/different_descriptions_are_duplicates_if_title_matches (0.00s)
    --- PASS: TestFindDuplicateGroups/exact_content_match (0.00s)
    --- PASS: TestFindDuplicateGroups/three-way_duplicate (0.00s)
=== RUN   TestChooseMergeTarget
=== RUN   TestChooseMergeTarget/choose_by_reference_count
=== RUN   TestChooseMergeTarget/choose_by_lexicographic_order_if_same_references
=== RUN   TestChooseMergeTarget/prefer_higher_references_even_with_larger_ID
--- PASS: TestChooseMergeTarget (0.00s)
    --- PASS: TestChooseMergeTarget/choose_by_reference_count (0.00s)
    --- PASS: TestChooseMergeTarget/choose_by_lexicographic_order_if_same_references (0.00s)
    --- PASS: TestChooseMergeTarget/prefer_higher_references_even_with_larger_ID (0.00s)
=== RUN   TestCountReferences
--- PASS: TestCountReferences (0.00s)
=== RUN   TestDuplicateGroupsWithDifferentStatuses
--- PASS: TestDuplicateGroupsWithDifferentStatuses (0.00s)
=== RUN   TestDuplicatesIntegration
--- PASS: TestDuplicatesIntegration (0.05s)
=== RUN   TestPerformMerge
--- PASS: TestPerformMerge (0.06s)
=== RUN   TestEpicCommand
--- PASS: TestEpicCommand (0.05s)
=== RUN   TestEpicCommandInit
--- PASS: TestEpicCommandInit (0.00s)
=== RUN   TestEpicEligibleForClose
--- PASS: TestEpicEligibleForClose (0.06s)
=== RUN   TestExportImport
=== PAUSE TestExportImport
=== RUN   TestExportEmpty
=== PAUSE TestExportEmpty
=== RUN   TestImportInvalidJSON
=== PAUSE TestImportInvalidJSON
=== RUN   TestRoundTrip
=== PAUSE TestRoundTrip
=== RUN   TestExportIncludesTombstones
=== PAUSE TestExportIncludesTombstones
=== RUN   TestExportIntegrityAfterJSONLTruncation
⚠️  WARNING: JSONL file hash mismatch detected (bd-160)
  This indicates JSONL and export_hashes are out of sync.
  Clearing export_hashes to force full re-export.
--- PASS: TestExportIntegrityAfterJSONLTruncation (0.05s)
=== RUN   TestExportIntegrityAfterJSONLDeletion
⚠️  WARNING: JSONL file missing but export_hashes exist. Clearing export_hashes.
--- PASS: TestExportIntegrityAfterJSONLDeletion (0.04s)
=== RUN   TestMultipleExportsStayConsistent
--- PASS: TestMultipleExportsStayConsistent (0.05s)
=== RUN   TestExportStaleness_DBHasFewerIssues
--- PASS: TestExportStaleness_DBHasFewerIssues (0.00s)
=== RUN   TestExportStaleness_DBHasSameIssues
--- PASS: TestExportStaleness_DBHasSameIssues (0.00s)
=== RUN   TestExportStaleness_NoJSONL
--- PASS: TestExportStaleness_NoJSONL (0.00s)
=== RUN   TestExportStaleness_DifferentIssues
--- PASS: TestExportStaleness_DifferentIssues (0.00s)
=== RUN   TestGetIssueIDsFromJSONL_InvalidJSON
--- PASS: TestGetIssueIDsFromJSONL_InvalidJSON (0.00s)
=== RUN   TestExportCommand
=== RUN   TestExportCommand/export_to_file
Warning: failed to update database mtime: chtimes /tmp/bd-test-export-4221126368/beads.db: no such file or directory
=== RUN   TestExportCommand/export_includes_labels
=== RUN   TestExportCommand/export_includes_dependencies
=== RUN   TestExportCommand/validate_export_path
=== RUN   TestExportCommand/prevent_exporting_empty_database_over_non-empty_JSONL
=== RUN   TestExportCommand/verify_JSONL_line_count_matches_exported_count
=== RUN   TestExportCommand/export_cancellation
    export_test.go:373: Export returned error: failed to get issues: failed to search issues: context canceled (expected context.Canceled)
--- PASS: TestExportCommand (0.37s)
    --- PASS: TestExportCommand/export_to_file (0.00s)
    --- PASS: TestExportCommand/export_includes_labels (0.00s)
    --- PASS: TestExportCommand/export_includes_dependencies (0.00s)
    --- PASS: TestExportCommand/validate_export_path (0.00s)
    --- PASS: TestExportCommand/prevent_exporting_empty_database_over_non-empty_JSONL (0.04s)
    --- PASS: TestExportCommand/verify_JSONL_line_count_matches_exported_count (0.01s)
    --- PASS: TestExportCommand/export_cancellation (0.26s)
=== RUN   TestFlushManagerConcurrentMarkDirty
--- PASS: TestFlushManagerConcurrentMarkDirty (0.05s)
=== RUN   TestFlushManagerConcurrentFlushNow
Warning: auto-flush failed: failed to get stored JSONL hash: failed to get jsonl_file_hash: sql: database is closed
--- PASS: TestFlushManagerConcurrentFlushNow (0.00s)
=== RUN   TestFlushManagerMarkDirtyDuringFlush
Warning: auto-flush failed: failed to get stored JSONL hash: failed to get jsonl_file_hash: sql: database is closed
Warning: auto-flush failed: failed to get stored JSONL hash: failed to get jsonl_file_hash: sql: database is closed

⚠️  CRITICAL: Auto-flush has failed 3 times consecutively!
⚠️  Your JSONL file may be out of sync with the database.
⚠️  Run 'bd export -o .beads/issues.jsonl' manually to fix.

Warning: auto-flush failed: failed to get stored JSONL hash: failed to get jsonl_file_hash: sql: database is closed

⚠️  CRITICAL: Auto-flush has failed 4 times consecutively!
⚠️  Your JSONL file may be out of sync with the database.
⚠️  Run 'bd export -o .beads/issues.jsonl' manually to fix.

Warning: auto-flush failed: failed to get stored JSONL hash: failed to get jsonl_file_hash: sql: database is closed

⚠️  CRITICAL: Auto-flush has failed 5 times consecutively!
⚠️  Your JSONL file may be out of sync with the database.
⚠️  Run 'bd export -o .beads/issues.jsonl' manually to fix.

Warning: auto-flush failed: failed to get stored JSONL hash: failed to get jsonl_file_hash: sql: database is closed

⚠️  CRITICAL: Auto-flush has failed 6 times consecutively!
⚠️  Your JSONL file may be out of sync with the database.
⚠️  Run 'bd export -o .beads/issues.jsonl' manually to fix.

Warning: auto-flush failed: failed to get stored JSONL hash: failed to get jsonl_file_hash: sql: database is closed

⚠️  CRITICAL: Auto-flush has failed 7 times consecutively!
⚠️  Your JSONL file may be out of sync with the database.
⚠️  Run 'bd export -o .beads/issues.jsonl' manually to fix.

Warning: auto-flush failed: failed to get stored JSONL hash: failed to get jsonl_file_hash: sql: database is closed

⚠️  CRITICAL: Auto-flush has failed 8 times consecutively!
⚠️  Your JSONL file may be out of sync with the database.
⚠️  Run 'bd export -o .beads/issues.jsonl' manually to fix.

Warning: auto-flush failed: failed to get stored JSONL hash: failed to get jsonl_file_hash: sql: database is closed

⚠️  CRITICAL: Auto-flush has failed 9 times consecutively!
⚠️  Your JSONL file may be out of sync with the database.
⚠️  Run 'bd export -o .beads/issues.jsonl' manually to fix.

Warning: auto-flush failed: failed to get stored JSONL hash: failed to get jsonl_file_hash: sql: database is closed

⚠️  CRITICAL: Auto-flush has failed 10 times consecutively!
⚠️  Your JSONL file may be out of sync with the database.
⚠️  Run 'bd export -o .beads/issues.jsonl' manually to fix.

Warning: auto-flush failed: failed to get stored JSONL hash: failed to get jsonl_file_hash: sql: database is closed

⚠️  CRITICAL: Auto-flush has failed 11 times consecutively!
⚠️  Your JSONL file may be out of sync with the database.
⚠️  Run 'bd export -o .beads/issues.jsonl' manually to fix.

Warning: auto-flush failed: failed to get stored JSONL hash: failed to get jsonl_file_hash: sql: database is closed

⚠️  CRITICAL: Auto-flush has failed 12 times consecutively!
⚠️  Your JSONL file may be out of sync with the database.
⚠️  Run 'bd export -o .beads/issues.jsonl' manually to fix.

--- PASS: TestFlushManagerMarkDirtyDuringFlush (0.12s)
=== RUN   TestFlushManagerShutdownDuringOperation
Warning: auto-flush failed: failed to get stored JSONL hash: failed to get jsonl_file_hash: sql: database is closed

⚠️  CRITICAL: Auto-flush has failed 13 times consecutively!
⚠️  Your JSONL file may be out of sync with the database.
⚠️  Run 'bd export -o .beads/issues.jsonl' manually to fix.

--- PASS: TestFlushManagerShutdownDuringOperation (0.06s)
=== RUN   TestFlushManagerDebouncing
Warning: auto-flush failed: failed to get stored JSONL hash: failed to get jsonl_file_hash: sql: database is closed

⚠️  CRITICAL: Auto-flush has failed 14 times consecutively!
⚠️  Your JSONL file may be out of sync with the database.
⚠️  Run 'bd export -o .beads/issues.jsonl' manually to fix.

    flush_manager_test.go:194: Flush count: 0 (expected < 10 due to debouncing)
--- PASS: TestFlushManagerDebouncing (0.22s)
=== RUN   TestMarkDirtyAndScheduleFlushConcurrency
Warning: auto-flush failed: failed to get stored JSONL hash: failed to get jsonl_file_hash: sql: database is closed

⚠️  CRITICAL: Auto-flush has failed 15 times consecutively!
⚠️  Your JSONL file may be out of sync with the database.
⚠️  Run 'bd export -o .beads/issues.jsonl' manually to fix.

--- PASS: TestMarkDirtyAndScheduleFlushConcurrency (0.01s)
=== RUN   TestFlushManagerMarkDirtyTriggersFlush
Warning: auto-flush failed: failed to get stored JSONL hash: failed to get jsonl_file_hash: sql: database is closed

⚠️  CRITICAL: Auto-flush has failed 16 times consecutively!
⚠️  Your JSONL file may be out of sync with the database.
⚠️  Run 'bd export -o .beads/issues.jsonl' manually to fix.

--- PASS: TestFlushManagerMarkDirtyTriggersFlush (0.10s)
=== RUN   TestFlushManagerFlushNowBypassesDebounce
Warning: auto-flush failed: failed to get stored JSONL hash: failed to get jsonl_file_hash: sql: database is closed

⚠️  CRITICAL: Auto-flush has failed 17 times consecutively!
⚠️  Your JSONL file may be out of sync with the database.
⚠️  Run 'bd export -o .beads/issues.jsonl' manually to fix.

--- PASS: TestFlushManagerFlushNowBypassesDebounce (0.00s)
=== RUN   TestFlushManagerDisabledDoesNotFlush
--- PASS: TestFlushManagerDisabledDoesNotFlush (0.00s)
=== RUN   TestFlushManagerShutdownPerformsFinalFlush
Warning: auto-flush failed: failed to get stored JSONL hash: failed to get jsonl_file_hash: sql: database is closed

⚠️  CRITICAL: Auto-flush has failed 18 times consecutively!
⚠️  Your JSONL file may be out of sync with the database.
⚠️  Run 'bd export -o .beads/issues.jsonl' manually to fix.

--- PASS: TestFlushManagerShutdownPerformsFinalFlush (0.00s)
=== RUN   TestFlushManagerFullExportFlag
Warning: auto-flush failed: failed to get stored JSONL hash: failed to get jsonl_file_hash: sql: database is closed

⚠️  CRITICAL: Auto-flush has failed 19 times consecutively!
⚠️  Your JSONL file may be out of sync with the database.
⚠️  Run 'bd export -o .beads/issues.jsonl' manually to fix.

--- PASS: TestFlushManagerFullExportFlag (0.10s)
=== RUN   TestFlushManagerIdempotentShutdown
--- PASS: TestFlushManagerIdempotentShutdown (0.00s)
=== RUN   TestPerformFlushErrorHandling
--- PASS: TestPerformFlushErrorHandling (0.00s)
=== RUN   TestPerformFlushStoreInactive
--- PASS: TestPerformFlushStoreInactive (0.00s)
=== RUN   TestIsNumeric
--- PASS: TestIsNumeric (0.00s)
=== RUN   TestGetWorktreeGitDir
--- PASS: TestGetWorktreeGitDir (0.00s)
=== RUN   TestExtractPrefix
--- PASS: TestExtractPrefix (0.00s)
=== RUN   TestGetPrefixList
--- PASS: TestGetPrefixList (0.00s)
=== RUN   TestGetEmbeddedHooks
--- PASS: TestGetEmbeddedHooks (0.00s)
=== RUN   TestInstallHooks
--- PASS: TestInstallHooks (0.01s)
=== RUN   TestInstallHooksBackup
--- PASS: TestInstallHooksBackup (0.02s)
=== RUN   TestInstallHooksForce
--- PASS: TestInstallHooksForce (0.01s)
=== RUN   TestUninstallHooks
--- PASS: TestUninstallHooks (0.02s)
=== RUN   TestHooksCheckGitHooks
--- PASS: TestHooksCheckGitHooks (0.01s)
=== RUN   TestInstallHooksShared
--- PASS: TestInstallHooksShared (0.02s)
=== RUN   TestImportReturnsCorrectCounts
    import_bug_test.go:89: Second import: Created=0, Updated=0, Unchanged=5, Skipped=0
--- PASS: TestImportReturnsCorrectCounts (0.05s)
=== RUN   TestImportCancellation
Warning: failed to clear export_hashes before import: failed to clear export hashes: context canceled
    import_cancellation_test.go:61: Import returned error: failed to get configured prefix: get config: context canceled
--- PASS: TestImportCancellation (0.06s)
=== RUN   TestImportWithTimeout
Warning: failed to clear export_hashes before import: failed to clear export hashes: context deadline exceeded
    import_cancellation_test.go:128: Import with timeout returned: failed to get configured prefix: get config: context deadline exceeded (expected DeadlineExceeded or success)
    import_cancellation_test.go:139: Imported 0 issues before timeout
--- PASS: TestImportWithTimeout (0.05s)
=== RUN   TestIssueDataChanged
=== RUN   TestIssueDataChanged/no_changes
=== RUN   TestIssueDataChanged/title_changed
=== RUN   TestIssueDataChanged/status_as_string_vs_enum_-_unchanged
=== RUN   TestIssueDataChanged/status_as_enum_-_unchanged
=== RUN   TestIssueDataChanged/issue_type_as_string_vs_enum_-_unchanged
=== RUN   TestIssueDataChanged/priority_as_int_-_unchanged
=== RUN   TestIssueDataChanged/priority_as_int64_-_unchanged
=== RUN   TestIssueDataChanged/priority_as_float64_whole_number_-_unchanged
=== RUN   TestIssueDataChanged/priority_as_float64_fractional_-_changed
=== RUN   TestIssueDataChanged/empty_string_vs_empty_-_unchanged
=== RUN   TestIssueDataChanged/empty_string_vs_nil_-_unchanged_(treated_as_equal)
=== RUN   TestIssueDataChanged/non-empty_to_empty_-_changed
=== RUN   TestIssueDataChanged/external_ref_nil_vs_empty_-_unchanged
=== RUN   TestIssueDataChanged/external_ref_pointer_to_empty_vs_nil_-_unchanged
=== RUN   TestIssueDataChanged/external_ref_changed
=== RUN   TestIssueDataChanged/unknown_field_-_treated_as_changed
=== RUN   TestIssueDataChanged/invalid_type_for_title_-_treated_as_changed
--- PASS: TestIssueDataChanged (0.00s)
    --- PASS: TestIssueDataChanged/no_changes (0.00s)
    --- PASS: TestIssueDataChanged/title_changed (0.00s)
    --- PASS: TestIssueDataChanged/status_as_string_vs_enum_-_unchanged (0.00s)
    --- PASS: TestIssueDataChanged/status_as_enum_-_unchanged (0.00s)
    --- PASS: TestIssueDataChanged/issue_type_as_string_vs_enum_-_unchanged (0.00s)
    --- PASS: TestIssueDataChanged/priority_as_int_-_unchanged (0.00s)
    --- PASS: TestIssueDataChanged/priority_as_int64_-_unchanged (0.00s)
    --- PASS: TestIssueDataChanged/priority_as_float64_whole_number_-_unchanged (0.00s)
    --- PASS: TestIssueDataChanged/priority_as_float64_fractional_-_changed (0.00s)
    --- PASS: TestIssueDataChanged/empty_string_vs_empty_-_unchanged (0.00s)
    --- PASS: TestIssueDataChanged/empty_string_vs_nil_-_unchanged_(treated_as_equal) (0.00s)
    --- PASS: TestIssueDataChanged/non-empty_to_empty_-_changed (0.00s)
    --- PASS: TestIssueDataChanged/external_ref_nil_vs_empty_-_unchanged (0.00s)
    --- PASS: TestIssueDataChanged/external_ref_pointer_to_empty_vs_nil_-_unchanged (0.00s)
    --- PASS: TestIssueDataChanged/external_ref_changed (0.00s)
    --- PASS: TestIssueDataChanged/unknown_field_-_treated_as_changed (0.00s)
    --- PASS: TestIssueDataChanged/invalid_type_for_title_-_treated_as_changed (0.00s)
=== RUN   TestIdempotentImportNoTimestampChurn
--- PASS: TestIdempotentImportNoTimestampChurn (0.15s)
=== RUN   TestImportMultipleUnchangedIssues
--- PASS: TestImportMultipleUnchangedIssues (0.15s)
=== RUN   TestTouchDatabaseFile
--- PASS: TestTouchDatabaseFile (1.00s)
=== RUN   TestTouchDatabaseFileWithClockSkew
--- PASS: TestTouchDatabaseFileWithClockSkew (0.00s)
=== RUN   TestImportMultiPartIDs
--- PASS: TestImportMultiPartIDs (0.05s)
=== RUN   TestDetectPrefixFromIssues
=== RUN   TestDetectPrefixFromIssues/simple_IDs
=== RUN   TestDetectPrefixFromIssues/multi-part_IDs
=== RUN   TestDetectPrefixFromIssues/mixed_multi-part_IDs
=== RUN   TestDetectPrefixFromIssues/empty_list
--- PASS: TestDetectPrefixFromIssues (0.00s)
    --- PASS: TestDetectPrefixFromIssues/simple_IDs (0.00s)
    --- PASS: TestDetectPrefixFromIssues/multi-part_IDs (0.00s)
    --- PASS: TestDetectPrefixFromIssues/mixed_multi-part_IDs (0.00s)
    --- PASS: TestDetectPrefixFromIssues/empty_list (0.00s)
=== RUN   TestInfoCommand
    info_test.go:9: Manual test - bd info command is working, see manual testing
--- SKIP: TestInfoCommand (0.00s)
=== RUN   TestInfoWithNoDaemon
    info_test.go:13: Manual test - bd info --no-daemon command is working, see manual testing
--- SKIP: TestInfoWithNoDaemon (0.00s)
=== RUN   TestVersionChangesStructure
--- PASS: TestVersionChangesStructure (0.00s)
=== RUN   TestVersionChangesJSON
--- PASS: TestVersionChangesJSON (0.00s)
=== RUN   TestVersionChangesCoverage
--- PASS: TestVersionChangesCoverage (0.00s)
=== RUN   TestDetectExistingHooks
=== RUN   TestDetectExistingHooks/no_hook
=== RUN   TestDetectExistingHooks/bd_hook
=== RUN   TestDetectExistingHooks/pre-commit_framework_hook
=== RUN   TestDetectExistingHooks/custom_hook
--- PASS: TestDetectExistingHooks (0.02s)
    --- PASS: TestDetectExistingHooks/no_hook (0.00s)
    --- PASS: TestDetectExistingHooks/bd_hook (0.00s)
    --- PASS: TestDetectExistingHooks/pre-commit_framework_hook (0.00s)
    --- PASS: TestDetectExistingHooks/custom_hook (0.00s)
=== RUN   TestInstallGitHooks_NoExistingHooks
--- PASS: TestInstallGitHooks_NoExistingHooks (0.01s)
=== RUN   TestInstallGitHooks_ExistingHookBackup
--- PASS: TestInstallGitHooks_ExistingHookBackup (0.01s)
=== RUN   TestInitCommand
=== RUN   TestInitCommand/init_with_default_prefix
Warning: could not compute repository ID: not a git repository
Warning: could not compute clone ID: not a git repository: exit status 128
=== RUN   TestInitCommand/init_with_custom_prefix
Warning: could not compute repository ID: not a git repository
Warning: could not compute clone ID: not a git repository: exit status 128
=== RUN   TestInitCommand/init_with_quiet_flag
=== RUN   TestInitCommand/init_with_prefix_ending_in_hyphen
Warning: could not compute repository ID: not a git repository
Warning: could not compute clone ID: not a git repository: exit status 128
--- PASS: TestInitCommand (0.59s)
    --- PASS: TestInitCommand/init_with_default_prefix (0.17s)
    --- PASS: TestInitCommand/init_with_custom_prefix (0.16s)
    --- PASS: TestInitCommand/init_with_quiet_flag (0.09s)
    --- PASS: TestInitCommand/init_with_prefix_ending_in_hyphen (0.17s)
=== RUN   TestInitAlreadyInitialized
--- PASS: TestInitAlreadyInitialized (0.12s)
=== RUN   TestInitWithCustomDBPath
=== RUN   TestInitWithCustomDBPath/init_with_BEADS_DB_pointing_to_custom_path
=== RUN   TestInitWithCustomDBPath/init_with_BEADS_DB_env_var
=== RUN   TestInitWithCustomDBPath/init_with_BEADS_DB_path_containing_.beads
=== RUN   TestInitWithCustomDBPath/BEADS_DB_with_subdirectories
--- PASS: TestInitWithCustomDBPath (0.27s)
    --- PASS: TestInitWithCustomDBPath/init_with_BEADS_DB_pointing_to_custom_path (0.07s)
    --- PASS: TestInitWithCustomDBPath/init_with_BEADS_DB_env_var (0.07s)
    --- PASS: TestInitWithCustomDBPath/init_with_BEADS_DB_path_containing_.beads (0.06s)
    --- PASS: TestInitWithCustomDBPath/BEADS_DB_with_subdirectories (0.06s)
=== RUN   TestInitNoDbMode
⚠ Creating issue with 'Test' prefix in production database.
  For testing, consider using: BEADS_DB=/tmp/test.db ./bd create "Test issue"
--- PASS: TestInitNoDbMode (0.01s)
=== RUN   TestInitMergeDriverAutoConfiguration
=== RUN   TestInitMergeDriverAutoConfiguration/merge_driver_auto-configured_during_init
=== RUN   TestInitMergeDriverAutoConfiguration/skip_merge_driver_with_flag
=== RUN   TestInitMergeDriverAutoConfiguration/non-git_repo_skips_merge_driver_silently
=== RUN   TestInitMergeDriverAutoConfiguration/detect_already-installed_merge_driver
=== RUN   TestInitMergeDriverAutoConfiguration/append_to_existing_.gitattributes
=== RUN   TestInitMergeDriverAutoConfiguration/verify_git_config_has_correct_settings
=== RUN   TestInitMergeDriverAutoConfiguration/auto-repair_stale_merge_driver_with_invalid_placeholders
=== RUN   TestInitMergeDriverAutoConfiguration/detect_canonical_issues.jsonl_filename_in_gitattributes
--- PASS: TestInitMergeDriverAutoConfiguration (0.80s)
    --- PASS: TestInitMergeDriverAutoConfiguration/merge_driver_auto-configured_during_init (0.10s)
    --- PASS: TestInitMergeDriverAutoConfiguration/skip_merge_driver_with_flag (0.10s)
    --- PASS: TestInitMergeDriverAutoConfiguration/non-git_repo_skips_merge_driver_silently (0.06s)
    --- PASS: TestInitMergeDriverAutoConfiguration/detect_already-installed_merge_driver (0.10s)
    --- PASS: TestInitMergeDriverAutoConfiguration/append_to_existing_.gitattributes (0.10s)
    --- PASS: TestInitMergeDriverAutoConfiguration/verify_git_config_has_correct_settings (0.11s)
    --- PASS: TestInitMergeDriverAutoConfiguration/auto-repair_stale_merge_driver_with_invalid_placeholders (0.11s)
    --- PASS: TestInitMergeDriverAutoConfiguration/detect_canonical_issues.jsonl_filename_in_gitattributes (0.10s)
=== RUN   TestReadFirstIssueFromJSONL_ValidFile
--- PASS: TestReadFirstIssueFromJSONL_ValidFile (0.00s)
=== RUN   TestReadFirstIssueFromJSONL_EmptyLines
--- PASS: TestReadFirstIssueFromJSONL_EmptyLines (0.00s)
=== RUN   TestReadFirstIssueFromJSONL_EmptyFile
--- PASS: TestReadFirstIssueFromJSONL_EmptyFile (0.00s)
=== RUN   TestSetupClaudeSettings_InvalidJSON
--- PASS: TestSetupClaudeSettings_InvalidJSON (0.00s)
=== RUN   TestSetupClaudeSettings_ValidJSON
--- PASS: TestSetupClaudeSettings_ValidJSON (0.00s)
=== RUN   TestSetupClaudeSettings_NoExistingFile
--- PASS: TestSetupClaudeSettings_NoExistingFile (0.00s)
=== RUN   TestValidatePreExportSuite
=== RUN   TestValidatePreExportSuite/empty_DB_over_non-empty_JSONL_fails
=== RUN   TestValidatePreExportSuite/non-empty_DB_over_non-empty_JSONL_succeeds
=== RUN   TestValidatePreExportSuite/empty_DB_over_missing_JSONL_succeeds
=== RUN   TestValidatePreExportSuite/empty_DB_over_unreadable_JSONL_fails
=== RUN   TestValidatePreExportSuite/JSONL_content_changed_fails
--- PASS: TestValidatePreExportSuite (0.05s)
    --- PASS: TestValidatePreExportSuite/empty_DB_over_non-empty_JSONL_fails (0.00s)
    --- PASS: TestValidatePreExportSuite/non-empty_DB_over_non-empty_JSONL_succeeds (0.00s)
    --- PASS: TestValidatePreExportSuite/empty_DB_over_missing_JSONL_succeeds (0.00s)
    --- PASS: TestValidatePreExportSuite/empty_DB_over_unreadable_JSONL_fails (0.00s)
    --- PASS: TestValidatePreExportSuite/JSONL_content_changed_fails (0.00s)
=== RUN   TestValidatePostImport
=== RUN   TestValidatePostImport/issue_count_decreased_warns_but_succeeds
Warning: import reduced issue count: 10 → 5 (-5)
=== RUN   TestValidatePostImport/issue_count_same_succeeds
Import complete: no changes
=== RUN   TestValidatePostImport/issue_count_increased_succeeds
Import complete: 10 → 15 issues (+5)
--- PASS: TestValidatePostImport (0.00s)
    --- PASS: TestValidatePostImport/issue_count_decreased_warns_but_succeeds (0.00s)
    --- PASS: TestValidatePostImport/issue_count_same_succeeds (0.00s)
    --- PASS: TestValidatePostImport/issue_count_increased_succeeds (0.00s)
=== RUN   TestValidatePostImportWithExpectedDeletions
=== RUN   TestValidatePostImportWithExpectedDeletions/decrease_fully_accounted_for_by_expected_deletions_succeeds
Import complete: 26 → 25 issues (-1, expected deletions)
=== RUN   TestValidatePostImportWithExpectedDeletions/decrease_exceeds_expected_deletions_warns_but_succeeds
Warning: import reduced issue count: 20 → 15 (-5)
=== RUN   TestValidatePostImportWithExpectedDeletions/no_decrease_succeeds
Import complete: no changes
=== RUN   TestValidatePostImportWithExpectedDeletions/increase_succeeds
Import complete: 10 → 15 issues (+5)
--- PASS: TestValidatePostImportWithExpectedDeletions (0.00s)
    --- PASS: TestValidatePostImportWithExpectedDeletions/decrease_fully_accounted_for_by_expected_deletions_succeeds (0.00s)
    --- PASS: TestValidatePostImportWithExpectedDeletions/decrease_exceeds_expected_deletions_warns_but_succeeds (0.00s)
    --- PASS: TestValidatePostImportWithExpectedDeletions/no_decrease_succeeds (0.00s)
    --- PASS: TestValidatePostImportWithExpectedDeletions/increase_succeeds (0.00s)
=== RUN   TestCountDBIssuesSuite
=== RUN   TestCountDBIssuesSuite/count_issues_in_database
--- PASS: TestCountDBIssuesSuite (0.04s)
    --- PASS: TestCountDBIssuesSuite/count_issues_in_database (0.00s)
=== RUN   TestHasJSONLChangedSuite
=== RUN   TestHasJSONLChangedSuite/hash_matches_-_no_change
=== RUN   TestHasJSONLChangedSuite/hash_differs_-_has_changed
=== RUN   TestHasJSONLChangedSuite/empty_file
=== RUN   TestHasJSONLChangedSuite/missing_metadata_-_first_run
=== RUN   TestHasJSONLChangedSuite/file_read_error
=== RUN   TestHasJSONLChangedSuite/mtime_fast-path_-_unchanged
=== RUN   TestHasJSONLChangedSuite/mtime_changed_but_content_same_-_git_operation_scenario
--- PASS: TestHasJSONLChangedSuite (0.06s)
    --- PASS: TestHasJSONLChangedSuite/hash_matches_-_no_change (0.00s)
    --- PASS: TestHasJSONLChangedSuite/hash_differs_-_has_changed (0.00s)
    --- PASS: TestHasJSONLChangedSuite/empty_file (0.00s)
    --- PASS: TestHasJSONLChangedSuite/missing_metadata_-_first_run (0.00s)
    --- PASS: TestHasJSONLChangedSuite/file_read_error (0.00s)
    --- PASS: TestHasJSONLChangedSuite/mtime_fast-path_-_unchanged (0.00s)
    --- PASS: TestHasJSONLChangedSuite/mtime_changed_but_content_same_-_git_operation_scenario (0.01s)
=== RUN   TestComputeJSONLHash
=== RUN   TestComputeJSONLHash/computes_hash_correctly
=== RUN   TestComputeJSONLHash/same_content_produces_same_hash
=== RUN   TestComputeJSONLHash/different_content_produces_different_hash
=== RUN   TestComputeJSONLHash/nonexistent_file_returns_error
--- PASS: TestComputeJSONLHash (0.00s)
    --- PASS: TestComputeJSONLHash/computes_hash_correctly (0.00s)
    --- PASS: TestComputeJSONLHash/same_content_produces_same_hash (0.00s)
    --- PASS: TestComputeJSONLHash/different_content_produces_different_hash (0.00s)
    --- PASS: TestComputeJSONLHash/nonexistent_file_returns_error (0.00s)
=== RUN   TestCheckOrphanedDepsSuite
=== RUN   TestCheckOrphanedDepsSuite/function_executes_without_error
=== RUN   TestCheckOrphanedDepsSuite/no_orphaned_dependencies
--- PASS: TestCheckOrphanedDepsSuite (0.06s)
    --- PASS: TestCheckOrphanedDepsSuite/function_executes_without_error (0.01s)
    --- PASS: TestCheckOrphanedDepsSuite/no_orphaned_dependencies (0.01s)
=== RUN   TestIsJiraExternalRef
=== RUN   TestIsJiraExternalRef/valid_Jira_Cloud_URL
=== RUN   TestIsJiraExternalRef/valid_Jira_Cloud_URL_with_trailing_slash_in_config
=== RUN   TestIsJiraExternalRef/valid_Jira_Server_URL
=== RUN   TestIsJiraExternalRef/mismatched_Jira_host
=== RUN   TestIsJiraExternalRef/GitHub_issue_URL
=== RUN   TestIsJiraExternalRef/empty_external_ref
=== RUN   TestIsJiraExternalRef/no_jiraURL_configured_-_valid_pattern
=== RUN   TestIsJiraExternalRef/no_jiraURL_configured_-_invalid_pattern
=== RUN   TestIsJiraExternalRef/browse_in_path_but_not_Jira_format
=== RUN   TestIsJiraExternalRef/browse_in_path_with_jiraURL_check
--- PASS: TestIsJiraExternalRef (0.00s)
    --- PASS: TestIsJiraExternalRef/valid_Jira_Cloud_URL (0.00s)
    --- PASS: TestIsJiraExternalRef/valid_Jira_Cloud_URL_with_trailing_slash_in_config (0.00s)
    --- PASS: TestIsJiraExternalRef/valid_Jira_Server_URL (0.00s)
    --- PASS: TestIsJiraExternalRef/mismatched_Jira_host (0.00s)
    --- PASS: TestIsJiraExternalRef/GitHub_issue_URL (0.00s)
    --- PASS: TestIsJiraExternalRef/empty_external_ref (0.00s)
    --- PASS: TestIsJiraExternalRef/no_jiraURL_configured_-_valid_pattern (0.00s)
    --- PASS: TestIsJiraExternalRef/no_jiraURL_configured_-_invalid_pattern (0.00s)
    --- PASS: TestIsJiraExternalRef/browse_in_path_but_not_Jira_format (0.00s)
    --- PASS: TestIsJiraExternalRef/browse_in_path_with_jiraURL_check (0.00s)
=== RUN   TestJiraSyncStats
--- PASS: TestJiraSyncStats (0.00s)
=== RUN   TestJiraSyncResult
--- PASS: TestJiraSyncResult (0.00s)
=== RUN   TestPullStats
--- PASS: TestPullStats (0.00s)
=== RUN   TestPushStats
--- PASS: TestPushStats (0.00s)
=== RUN   TestJSONLIntegrityValidation
=== RUN   TestJSONLIntegrityValidation/MatchingHash
=== RUN   TestJSONLIntegrityValidation/MismatchedHash
⚠️  WARNING: JSONL file hash mismatch detected (bd-160)
  This indicates JSONL and export_hashes are out of sync.
  Clearing export_hashes to force full re-export.
=== RUN   TestJSONLIntegrityValidation/MissingJSONL
⚠️  WARNING: JSONL file missing but export_hashes exist. Clearing export_hashes.
--- PASS: TestJSONLIntegrityValidation (0.04s)
    --- PASS: TestJSONLIntegrityValidation/MatchingHash (0.00s)
    --- PASS: TestJSONLIntegrityValidation/MismatchedHash (0.00s)
    --- PASS: TestJSONLIntegrityValidation/MissingJSONL (0.00s)
=== RUN   TestImportClearsExportHashes
--- PASS: TestImportClearsExportHashes (0.04s)
=== RUN   TestLabelCommands
=== RUN   TestLabelCommands/add_label_to_issue
=== RUN   TestLabelCommands/add_multiple_labels
=== RUN   TestLabelCommands/add_duplicate_label_is_idempotent
=== RUN   TestLabelCommands/remove_label_from_issue
=== RUN   TestLabelCommands/remove_one_of_multiple_labels
=== RUN   TestLabelCommands/remove_non-existent_label_is_no-op
=== RUN   TestLabelCommands/get_labels_for_issue_with_no_labels
=== RUN   TestLabelCommands/label_operations_create_events
=== RUN   TestLabelCommands/labels_persist_after_issue_update
=== RUN   TestLabelCommands/labels_work_with_different_issue_types
--- PASS: TestLabelCommands (0.09s)
    --- PASS: TestLabelCommands/add_label_to_issue (0.00s)
    --- PASS: TestLabelCommands/add_multiple_labels (0.00s)
    --- PASS: TestLabelCommands/add_duplicate_label_is_idempotent (0.00s)
    --- PASS: TestLabelCommands/remove_label_from_issue (0.00s)
    --- PASS: TestLabelCommands/remove_one_of_multiple_labels (0.00s)
    --- PASS: TestLabelCommands/remove_non-existent_label_is_no-op (0.00s)
    --- PASS: TestLabelCommands/get_labels_for_issue_with_no_labels (0.00s)
    --- PASS: TestLabelCommands/label_operations_create_events (0.00s)
    --- PASS: TestLabelCommands/labels_persist_after_issue_update (0.00s)
    --- PASS: TestLabelCommands/labels_work_with_different_issue_types (0.01s)
=== RUN   TestListCommandSuite
=== RUN   TestListCommandSuite/ListCommand
=== RUN   TestListCommandSuite/ListCommand/list_all_issues
=== RUN   TestListCommandSuite/ListCommand/filter_by_status
=== RUN   TestListCommandSuite/ListCommand/filter_by_priority
=== RUN   TestListCommandSuite/ListCommand/filter_by_assignee
=== RUN   TestListCommandSuite/ListCommand/filter_by_issue_type
=== RUN   TestListCommandSuite/ListCommand/filter_by_label
=== RUN   TestListCommandSuite/ListCommand/filter_by_title_search
=== RUN   TestListCommandSuite/ListCommand/limit_results
=== RUN   TestListCommandSuite/ListCommand/normalize_labels
=== RUN   TestListCommandSuite/ListCommand/output_dot_format
digraph dependencies {
  rankdir=TB;
  node [shape=box, style=rounded];

  "test-9o1" [label="test-9o1\n[bug P0]\nBug Issue\n(open)", style="rounded,filled", fillcolor="white", fontcolor="black"];
  "test-cn9" [label="test-cn9\n[feature P1]\nFeature Issue\n(in_progress)", style="rounded,filled", fillcolor="lightyellow", fontcolor="black"];
  "test-9i8" [label="test-9i8\n[task P2]\nTask Issue\n(closed)", style="rounded,filled", fillcolor="lightgray", fontcolor="dimgray"];

  "test-9o1" -> "test-cn9" [label="blocks", color=red, style=bold];
}
=== RUN   TestListCommandSuite/ListCommand/output_formatted_list_dot
digraph dependencies {
  rankdir=TB;
  node [shape=box, style=rounded];

  "test-9o1" [label="test-9o1\n[bug P0]\nBug Issue\n(open)", style="rounded,filled", fillcolor="white", fontcolor="black"];
  "test-cn9" [label="test-cn9\n[feature P1]\nFeature Issue\n(in_progress)", style="rounded,filled", fillcolor="lightyellow", fontcolor="black"];
  "test-9i8" [label="test-9i8\n[task P2]\nTask Issue\n(closed)", style="rounded,filled", fillcolor="lightgray", fontcolor="dimgray"];

  "test-9o1" -> "test-cn9" [label="blocks", color=red, style=bold];
}
=== RUN   TestListCommandSuite/ListCommand/output_formatted_list_digraph_preset
test-9o1 test-cn9
=== RUN   TestListCommandSuite/ListCommand/output_formatted_list_custom_template
<no value> <no value>
=== RUN   TestListCommandSuite/ListCommand/output_formatted_list_invalid_template
--- PASS: TestListCommandSuite (0.06s)
    --- PASS: TestListCommandSuite/ListCommand (0.02s)
        --- PASS: TestListCommandSuite/ListCommand/list_all_issues (0.00s)
        --- PASS: TestListCommandSuite/ListCommand/filter_by_status (0.00s)
        --- PASS: TestListCommandSuite/ListCommand/filter_by_priority (0.00s)
        --- PASS: TestListCommandSuite/ListCommand/filter_by_assignee (0.00s)
        --- PASS: TestListCommandSuite/ListCommand/filter_by_issue_type (0.00s)
        --- PASS: TestListCommandSuite/ListCommand/filter_by_label (0.00s)
        --- PASS: TestListCommandSuite/ListCommand/filter_by_title_search (0.00s)
        --- PASS: TestListCommandSuite/ListCommand/limit_results (0.00s)
        --- PASS: TestListCommandSuite/ListCommand/normalize_labels (0.00s)
        --- PASS: TestListCommandSuite/ListCommand/output_dot_format (0.00s)
        --- PASS: TestListCommandSuite/ListCommand/output_formatted_list_dot (0.00s)
        --- PASS: TestListCommandSuite/ListCommand/output_formatted_list_digraph_preset (0.00s)
        --- PASS: TestListCommandSuite/ListCommand/output_formatted_list_custom_template (0.00s)
        --- PASS: TestListCommandSuite/ListCommand/output_formatted_list_invalid_template (0.00s)
=== RUN   TestListQueryCapabilitiesSuite
=== RUN   TestListQueryCapabilitiesSuite/pattern_matching_-_title_contains
=== RUN   TestListQueryCapabilitiesSuite/pattern_matching_-_description_contains
=== RUN   TestListQueryCapabilitiesSuite/pattern_matching_-_notes_contains
=== RUN   TestListQueryCapabilitiesSuite/empty_description_check
=== RUN   TestListQueryCapabilitiesSuite/no_assignee_check
=== RUN   TestListQueryCapabilitiesSuite/no_labels_check
=== RUN   TestListQueryCapabilitiesSuite/priority_range_-_min
=== RUN   TestListQueryCapabilitiesSuite/priority_range_-_max
=== RUN   TestListQueryCapabilitiesSuite/priority_range_-_min_and_max
=== RUN   TestListQueryCapabilitiesSuite/date_range_-_created_after
=== RUN   TestListQueryCapabilitiesSuite/date_range_-_updated_before
=== RUN   TestListQueryCapabilitiesSuite/date_range_-_closed_after
=== RUN   TestListQueryCapabilitiesSuite/combined_filters
--- PASS: TestListQueryCapabilitiesSuite (0.06s)
    --- PASS: TestListQueryCapabilitiesSuite/pattern_matching_-_title_contains (0.00s)
    --- PASS: TestListQueryCapabilitiesSuite/pattern_matching_-_description_contains (0.00s)
    --- PASS: TestListQueryCapabilitiesSuite/pattern_matching_-_notes_contains (0.00s)
    --- PASS: TestListQueryCapabilitiesSuite/empty_description_check (0.00s)
    --- PASS: TestListQueryCapabilitiesSuite/no_assignee_check (0.00s)
    --- PASS: TestListQueryCapabilitiesSuite/no_labels_check (0.00s)
    --- PASS: TestListQueryCapabilitiesSuite/priority_range_-_min (0.00s)
    --- PASS: TestListQueryCapabilitiesSuite/priority_range_-_max (0.00s)
    --- PASS: TestListQueryCapabilitiesSuite/priority_range_-_min_and_max (0.00s)
    --- PASS: TestListQueryCapabilitiesSuite/date_range_-_created_after (0.00s)
    --- PASS: TestListQueryCapabilitiesSuite/date_range_-_updated_before (0.00s)
    --- PASS: TestListQueryCapabilitiesSuite/date_range_-_closed_after (0.00s)
    --- PASS: TestListQueryCapabilitiesSuite/combined_filters (0.00s)
=== RUN   TestParseTimeFlag
=== RUN   TestParseTimeFlag/RFC3339
=== RUN   TestParseTimeFlag/Date_only
=== RUN   TestParseTimeFlag/DateTime_without_zone
=== RUN   TestParseTimeFlag/DateTime_with_space
=== RUN   TestParseTimeFlag/Invalid_format
=== RUN   TestParseTimeFlag/Empty_string
--- PASS: TestParseTimeFlag (0.00s)
    --- PASS: TestParseTimeFlag/RFC3339 (0.00s)
    --- PASS: TestParseTimeFlag/Date_only (0.00s)
    --- PASS: TestParseTimeFlag/DateTime_without_zone (0.00s)
    --- PASS: TestParseTimeFlag/DateTime_with_space (0.00s)
    --- PASS: TestParseTimeFlag/Invalid_format (0.00s)
    --- PASS: TestParseTimeFlag/Empty_string (0.00s)
=== RUN   TestMailSendAndInbox
--- PASS: TestMailSendAndInbox (0.06s)
=== RUN   TestMailInboxEmpty
--- PASS: TestMailInboxEmpty (0.06s)
=== RUN   TestMailAck
--- PASS: TestMailAck (0.04s)
=== RUN   TestMailReply
--- PASS: TestMailReply (0.04s)
=== RUN   TestMailPriority
--- PASS: TestMailPriority (0.05s)
=== RUN   TestMailTypeValidation
--- PASS: TestMailTypeValidation (0.04s)
=== RUN   TestMailSenderField
--- PASS: TestMailSenderField (0.05s)
=== RUN   TestAutoFlushOnExit
--- PASS: TestAutoFlushOnExit (0.04s)
=== RUN   TestAutoFlushJSONLContent
--- PASS: TestAutoFlushJSONLContent (0.05s)
=== RUN   TestAutoImportIfNewer
--- PASS: TestAutoImportIfNewer (0.06s)
=== RUN   TestAutoImportDisabled
--- PASS: TestAutoImportDisabled (0.04s)
=== RUN   TestAutoImportWithUpdate
--- PASS: TestAutoImportWithUpdate (0.06s)
=== RUN   TestAutoImportNoUpdate
--- PASS: TestAutoImportNoUpdate (0.05s)
=== RUN   TestAutoImportMergeConflict
--- PASS: TestAutoImportMergeConflict (0.04s)
=== RUN   TestAutoImportConflictMarkerFalsePositive
--- PASS: TestAutoImportConflictMarkerFalsePositive (0.05s)
=== RUN   TestAutoImportClosedAtInvariant
--- PASS: TestAutoImportClosedAtInvariant (0.04s)
=== RUN   TestImportOpenToClosedTransition
--- PASS: TestImportOpenToClosedTransition (0.04s)
=== RUN   TestImportClosedToOpenTransition
--- PASS: TestImportClosedToOpenTransition (0.04s)
=== RUN   TestParseMarkdownFile
=== RUN   TestParseMarkdownFile/simple_issue
=== RUN   TestParseMarkdownFile/multiple_issues
=== RUN   TestParseMarkdownFile/issue_with_all_fields
=== RUN   TestParseMarkdownFile/dependencies_with_types
=== RUN   TestParseMarkdownFile/default_values
--- PASS: TestParseMarkdownFile (0.01s)
    --- PASS: TestParseMarkdownFile/simple_issue (0.00s)
    --- PASS: TestParseMarkdownFile/multiple_issues (0.01s)
    --- PASS: TestParseMarkdownFile/issue_with_all_fields (0.00s)
    --- PASS: TestParseMarkdownFile/dependencies_with_types (0.00s)
    --- PASS: TestParseMarkdownFile/default_values (0.00s)
=== RUN   TestParseMarkdownFile_FileNotFound
--- PASS: TestParseMarkdownFile_FileNotFound (0.00s)
=== RUN   TestCleanupMergeArtifacts_CommandInjectionPrevention
=== RUN   TestCleanupMergeArtifacts_CommandInjectionPrevention/shell_metacharacter_semicolon
=== RUN   TestCleanupMergeArtifacts_CommandInjectionPrevention/shell_metacharacter_pipe
    merge_security_test.go:88: Could not create file with name "backup | cat /etc/passwd" (OS prevented): open /tmp/TestCleanupMergeArtifacts_CommandInjectionPreventionshell_metacharacter_pipe940552782/001/.beads/backup | cat /etc/passwd: no such file or directory
=== RUN   TestCleanupMergeArtifacts_CommandInjectionPrevention/shell_metacharacter_ampersand
=== RUN   TestCleanupMergeArtifacts_CommandInjectionPrevention/shell_variable_expansion
=== RUN   TestCleanupMergeArtifacts_CommandInjectionPrevention/command_substitution_backticks
=== RUN   TestCleanupMergeArtifacts_CommandInjectionPrevention/command_substitution_dollar-paren
=== RUN   TestCleanupMergeArtifacts_CommandInjectionPrevention/normal_backup_file
=== RUN   TestCleanupMergeArtifacts_CommandInjectionPrevention/backup_with_spaces
=== RUN   TestCleanupMergeArtifacts_CommandInjectionPrevention/path_traversal_attempt
    merge_security_test.go:105: File "../../backup_etc_passwd" still exists after cleanup - this is OK if not tracked
--- PASS: TestCleanupMergeArtifacts_CommandInjectionPrevention (0.06s)
    --- PASS: TestCleanupMergeArtifacts_CommandInjectionPrevention/shell_metacharacter_semicolon (0.01s)
    --- PASS: TestCleanupMergeArtifacts_CommandInjectionPrevention/shell_metacharacter_pipe (0.00s)
    --- PASS: TestCleanupMergeArtifacts_CommandInjectionPrevention/shell_metacharacter_ampersand (0.01s)
    --- PASS: TestCleanupMergeArtifacts_CommandInjectionPrevention/shell_variable_expansion (0.01s)
    --- PASS: TestCleanupMergeArtifacts_CommandInjectionPrevention/command_substitution_backticks (0.01s)
    --- PASS: TestCleanupMergeArtifacts_CommandInjectionPrevention/command_substitution_dollar-paren (0.01s)
    --- PASS: TestCleanupMergeArtifacts_CommandInjectionPrevention/normal_backup_file (0.01s)
    --- PASS: TestCleanupMergeArtifacts_CommandInjectionPrevention/backup_with_spaces (0.01s)
    --- PASS: TestCleanupMergeArtifacts_CommandInjectionPrevention/path_traversal_attempt (0.00s)
=== RUN   TestCleanupMergeArtifacts_OnlyBackupFiles
--- PASS: TestCleanupMergeArtifacts_OnlyBackupFiles (0.02s)
=== RUN   TestCleanupMergeArtifacts_GitRmSafety
--- PASS: TestCleanupMergeArtifacts_GitRmSafety (0.01s)
=== RUN   TestMigrateHashIDs
--- PASS: TestMigrateHashIDs (0.08s)
=== RUN   TestMigrateHashIDsWithParentChild
--- PASS: TestMigrateHashIDsWithParentChild (0.05s)
=== RUN   TestIsHashID
--- PASS: TestIsHashID (0.00s)
=== RUN   TestCopyFile
--- PASS: TestCopyFile (0.00s)
=== RUN   TestMigrateSyncValidation
=== RUN   TestMigrateSyncValidation/valid_simple
=== RUN   TestMigrateSyncValidation/valid_with_slash
=== RUN   TestMigrateSyncValidation/valid_with_dots
=== RUN   TestMigrateSyncValidation/invalid_empty
=== RUN   TestMigrateSyncValidation/invalid_HEAD
=== RUN   TestMigrateSyncValidation/invalid_dots
=== RUN   TestMigrateSyncValidation/invalid_leading_slash
=== RUN   TestMigrateSyncValidation/invalid_trailing_slash
--- PASS: TestMigrateSyncValidation (0.00s)
    --- PASS: TestMigrateSyncValidation/valid_simple (0.00s)
    --- PASS: TestMigrateSyncValidation/valid_with_slash (0.00s)
    --- PASS: TestMigrateSyncValidation/valid_with_dots (0.00s)
    --- PASS: TestMigrateSyncValidation/invalid_empty (0.00s)
    --- PASS: TestMigrateSyncValidation/invalid_HEAD (0.00s)
    --- PASS: TestMigrateSyncValidation/invalid_dots (0.00s)
    --- PASS: TestMigrateSyncValidation/invalid_leading_slash (0.00s)
    --- PASS: TestMigrateSyncValidation/invalid_trailing_slash (0.00s)
=== RUN   TestMigrateSyncDryRun
--- PASS: TestMigrateSyncDryRun (0.03s)
=== RUN   TestHasChangesInWorktreeDir
--- PASS: TestHasChangesInWorktreeDir (0.03s)
=== RUN   TestMigrateCommand
=== RUN   TestMigrateCommand/no_databases
=== RUN   TestMigrateCommand/single_old_database
=== RUN   TestMigrateCommand/version_detection
--- PASS: TestMigrateCommand (0.08s)
    --- PASS: TestMigrateCommand/no_databases (0.00s)
    --- PASS: TestMigrateCommand/single_old_database (0.05s)
    --- PASS: TestMigrateCommand/version_detection (0.03s)
=== RUN   TestFormatDBList
--- PASS: TestFormatDBList (0.00s)
=== RUN   TestMigrateRespectsConfigJSON
--- PASS: TestMigrateRespectsConfigJSON (0.04s)
=== RUN   TestExtractIssuePrefix
=== RUN   TestExtractIssuePrefix/standard_ID
=== RUN   TestExtractIssuePrefix/custom_prefix
=== RUN   TestExtractIssuePrefix/hash_ID
=== RUN   TestExtractIssuePrefix/multi-part_prefix_with_numeric_suffix
=== RUN   TestExtractIssuePrefix/multi-part_non-numeric_suffix
=== RUN   TestExtractIssuePrefix/beads-vscode_style
=== RUN   TestExtractIssuePrefix/no_hyphen
=== RUN   TestExtractIssuePrefix/empty
--- PASS: TestExtractIssuePrefix (0.00s)
    --- PASS: TestExtractIssuePrefix/standard_ID (0.00s)
    --- PASS: TestExtractIssuePrefix/custom_prefix (0.00s)
    --- PASS: TestExtractIssuePrefix/hash_ID (0.00s)
    --- PASS: TestExtractIssuePrefix/multi-part_prefix_with_numeric_suffix (0.00s)
    --- PASS: TestExtractIssuePrefix/multi-part_non-numeric_suffix (0.00s)
    --- PASS: TestExtractIssuePrefix/beads-vscode_style (0.00s)
    --- PASS: TestExtractIssuePrefix/no_hyphen (0.00s)
    --- PASS: TestExtractIssuePrefix/empty (0.00s)
=== RUN   TestLoadIssuesFromJSONL
--- PASS: TestLoadIssuesFromJSONL (0.00s)
=== RUN   TestLoadIssuesFromJSONL_InvalidJSON
--- PASS: TestLoadIssuesFromJSONL_InvalidJSON (0.00s)
=== RUN   TestLoadIssuesFromJSONL_NonExistent
--- PASS: TestLoadIssuesFromJSONL_NonExistent (0.00s)
=== RUN   TestDetectPrefix
=== RUN   TestDetectPrefix/from_existing_issues
=== RUN   TestDetectPrefix/mixed_prefixes_error
=== RUN   TestDetectPrefix/empty_database_defaults_to_dir_name
--- PASS: TestDetectPrefix (0.00s)
    --- PASS: TestDetectPrefix/from_existing_issues (0.00s)
    --- PASS: TestDetectPrefix/mixed_prefixes_error (0.00s)
    --- PASS: TestDetectPrefix/empty_database_defaults_to_dir_name (0.00s)
=== RUN   TestWriteIssuesToJSONL
--- PASS: TestWriteIssuesToJSONL (0.00s)
=== RUN   TestOnboardCommand
=== RUN   TestOnboardCommand/onboard_output_contains_key_sections
=== RUN   TestOnboardCommand/agents_content_includes_slop_management
=== RUN   TestOnboardCommand/agents_content_includes_bd_workflow
--- PASS: TestOnboardCommand (0.00s)
    --- PASS: TestOnboardCommand/onboard_output_contains_key_sections (0.00s)
    --- PASS: TestOnboardCommand/agents_content_includes_slop_management (0.00s)
    --- PASS: TestOnboardCommand/agents_content_includes_bd_workflow (0.00s)
=== RUN   TestGenerateBDGuide
=== RUN   TestGenerateBDGuide/generates_BD_GUIDE.md_with_version_stamp
=== RUN   TestGenerateBDGuide/includes_agents_content
=== RUN   TestGenerateBDGuide/includes_copilot_instructions_content
=== RUN   TestGenerateBDGuide/has_proper_structure_with_separators
--- PASS: TestGenerateBDGuide (0.00s)
    --- PASS: TestGenerateBDGuide/generates_BD_GUIDE.md_with_version_stamp (0.00s)
    --- PASS: TestGenerateBDGuide/includes_agents_content (0.00s)
    --- PASS: TestGenerateBDGuide/includes_copilot_instructions_content (0.00s)
    --- PASS: TestGenerateBDGuide/has_proper_structure_with_separators (0.00s)
=== RUN   TestOutputJSON
--- PASS: TestOutputJSON (0.00s)
=== RUN   TestOutputJSONArray
--- PASS: TestOutputJSONArray (0.00s)
=== RUN   TestOutputContextFunction
=== RUN   TestOutputContextFunction/CLI_Normal_(non-ephemeral)
=== RUN   TestOutputContextFunction/CLI_Normal_(ephemeral)
=== RUN   TestOutputContextFunction/CLI_Stealth
=== RUN   TestOutputContextFunction/MCP_Normal_(non-ephemeral)
=== RUN   TestOutputContextFunction/MCP_Normal_(ephemeral)
=== RUN   TestOutputContextFunction/MCP_Stealth
--- PASS: TestOutputContextFunction (0.00s)
    --- PASS: TestOutputContextFunction/CLI_Normal_(non-ephemeral) (0.00s)
    --- PASS: TestOutputContextFunction/CLI_Normal_(ephemeral) (0.00s)
    --- PASS: TestOutputContextFunction/CLI_Stealth (0.00s)
    --- PASS: TestOutputContextFunction/MCP_Normal_(non-ephemeral) (0.00s)
    --- PASS: TestOutputContextFunction/MCP_Normal_(ephemeral) (0.00s)
    --- PASS: TestOutputContextFunction/MCP_Stealth (0.00s)
=== RUN   TestReadonlyModeBlocksWrites
=== RUN   TestReadonlyModeBlocksWrites/create
=== RUN   TestReadonlyModeBlocksWrites/update
=== RUN   TestReadonlyModeBlocksWrites/close
=== RUN   TestReadonlyModeBlocksWrites/delete
=== RUN   TestReadonlyModeBlocksWrites/sync
=== RUN   TestReadonlyModeBlocksWrites/import
=== RUN   TestReadonlyModeBlocksWrites/reopen
=== RUN   TestReadonlyModeBlocksWrites/edit
=== RUN   TestReadonlyModeBlocksWrites/comment_add
=== RUN   TestReadonlyModeBlocksWrites/dep_add
=== RUN   TestReadonlyModeBlocksWrites/dep_remove
=== RUN   TestReadonlyModeBlocksWrites/label_add
=== RUN   TestReadonlyModeBlocksWrites/label_remove
=== RUN   TestReadonlyModeBlocksWrites/repair-deps
=== RUN   TestReadonlyModeBlocksWrites/compact
=== RUN   TestReadonlyModeBlocksWrites/duplicates_--auto-merge
=== RUN   TestReadonlyModeBlocksWrites/epic_close-eligible
=== RUN   TestReadonlyModeBlocksWrites/migrate
=== RUN   TestReadonlyModeBlocksWrites/migrate-hash-ids
=== RUN   TestReadonlyModeBlocksWrites/migrate-issues
=== RUN   TestReadonlyModeBlocksWrites/rename-prefix
=== RUN   TestReadonlyModeBlocksWrites/validate_--fix-all
=== RUN   TestReadonlyModeBlocksWrites/jira_sync
--- PASS: TestReadonlyModeBlocksWrites (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/create (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/update (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/close (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/delete (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/sync (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/import (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/reopen (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/edit (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/comment_add (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/dep_add (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/dep_remove (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/label_add (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/label_remove (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/repair-deps (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/compact (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/duplicates_--auto-merge (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/epic_close-eligible (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/migrate (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/migrate-hash-ids (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/migrate-issues (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/rename-prefix (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/validate_--fix-all (0.00s)
    --- PASS: TestReadonlyModeBlocksWrites/jira_sync (0.00s)
=== RUN   TestReadonlyModeAllowsReads
--- PASS: TestReadonlyModeAllowsReads (0.00s)
=== RUN   TestCheckReadonlyReturnsEarlyWhenDisabled
--- PASS: TestCheckReadonlyReturnsEarlyWhenDisabled (0.00s)
=== RUN   TestReadonlyFlagRegistered
--- PASS: TestReadonlyFlagRegistered (0.00s)
=== RUN   TestReadonlyModeVariable
--- PASS: TestReadonlyModeVariable (0.00s)
=== RUN   TestCheckReadonlyErrorMessage
--- PASS: TestCheckReadonlyErrorMessage (0.00s)
=== RUN   TestReadySuite
=== RUN   TestReadySuite/ReadyWork
=== RUN   TestReadySuite/ReadyWorkWithAssignee
=== RUN   TestReadySuite/ReadyWorkUnassigned
=== RUN   TestReadySuite/ReadyWorkInProgress
--- PASS: TestReadySuite (0.06s)
    --- PASS: TestReadySuite/ReadyWork (0.01s)
    --- PASS: TestReadySuite/ReadyWorkWithAssignee (0.00s)
    --- PASS: TestReadySuite/ReadyWorkUnassigned (0.00s)
    --- PASS: TestReadySuite/ReadyWorkInProgress (0.00s)
=== RUN   TestReadyCommandInit
--- PASS: TestReadyCommandInit (0.00s)
=== RUN   TestReadyWorkUnassigned
--- PASS: TestReadyWorkUnassigned (0.05s)
=== RUN   TestDatabaseReinitialization
=== RUN   TestDatabaseReinitialization/fresh_clone_auto_import
=== RUN   TestDatabaseReinitialization/database_removal_scenario
=== RUN   TestDatabaseReinitialization/legacy_filename_support
=== RUN   TestDatabaseReinitialization/precedence_test
=== RUN   TestDatabaseReinitialization/init_safety_check
    reinit_test.go:396: Safety check correctly detected 1 issues in git at .beads/issues.jsonl
--- PASS: TestDatabaseReinitialization (0.38s)
    --- PASS: TestDatabaseReinitialization/fresh_clone_auto_import (0.08s)
    --- PASS: TestDatabaseReinitialization/database_removal_scenario (0.09s)
    --- PASS: TestDatabaseReinitialization/legacy_filename_support (0.09s)
    --- PASS: TestDatabaseReinitialization/precedence_test (0.04s)
    --- PASS: TestDatabaseReinitialization/init_safety_check (0.08s)
=== RUN   TestRepairMultiplePrefixes
Repairing database with multiple prefixes...
  Issues with correct prefix (test): 2
  Issues to repair: 3

  Renamed another-1 -> test-3nh
  Renamed old-1 -> test-l9a
  Renamed old-2 -> test-b3u

✓ Successfully consolidated 3 prefixes into test
  3 issues repaired, 2 issues unchanged
{
  "issues_repaired": 3,
  "issues_unchanged": 2,
  "prefixes_found": 3,
  "target_prefix": "test"
}
--- PASS: TestRepairMultiplePrefixes (0.05s)
=== RUN   TestValidatePrefix
=== RUN   TestValidatePrefix/valid_lowercase
=== RUN   TestValidatePrefix/valid_with_numbers
=== RUN   TestValidatePrefix/valid_with_hyphen
=== RUN   TestValidatePrefix/empty
=== RUN   TestValidatePrefix/too_long
=== RUN   TestValidatePrefix/starts_with_number
=== RUN   TestValidatePrefix/uppercase
=== RUN   TestValidatePrefix/no_hyphen
=== RUN   TestValidatePrefix/just_hyphen
=== RUN   TestValidatePrefix/starts_with_hyphen
--- PASS: TestValidatePrefix (0.00s)
    --- PASS: TestValidatePrefix/valid_lowercase (0.00s)
    --- PASS: TestValidatePrefix/valid_with_numbers (0.00s)
    --- PASS: TestValidatePrefix/valid_with_hyphen (0.00s)
    --- PASS: TestValidatePrefix/empty (0.00s)
    --- PASS: TestValidatePrefix/too_long (0.00s)
    --- PASS: TestValidatePrefix/starts_with_number (0.00s)
    --- PASS: TestValidatePrefix/uppercase (0.00s)
    --- PASS: TestValidatePrefix/no_hyphen (0.00s)
    --- PASS: TestValidatePrefix/just_hyphen (0.00s)
    --- PASS: TestValidatePrefix/starts_with_hyphen (0.00s)
=== RUN   TestRenamePrefixCommand
--- PASS: TestRenamePrefixCommand (0.06s)
=== RUN   TestRenamePrefixInDB
--- PASS: TestRenamePrefixInDB (0.04s)
=== RUN   TestReopenCommand
=== RUN   TestReopenCommand/reopen_closed_issue
=== RUN   TestReopenCommand/reopen_with_reason_adds_comment
=== RUN   TestReopenCommand/reopen_multiple_issues
=== RUN   TestReopenCommand/reopen_already_open_issue_is_no-op
--- PASS: TestReopenCommand (0.07s)
    --- PASS: TestReopenCommand/reopen_closed_issue (0.01s)
    --- PASS: TestReopenCommand/reopen_with_reason_adds_comment (0.01s)
    --- PASS: TestReopenCommand/reopen_multiple_issues (0.01s)
    --- PASS: TestReopenCommand/reopen_already_open_issue_is_no-op (0.00s)
=== RUN   TestRepairDeps_NoOrphans
--- PASS: TestRepairDeps_NoOrphans (0.04s)
=== RUN   TestRepairDeps_FindOrphans
    repair_deps_test.go:101: Created i1: test--5t1
    repair_deps_test.go:107: Created i2: test--0w8
    repair_deps_test.go:153: Got 1 issues with dependencies
    repair_deps_test.go:155: Issue test--0w8 has 2 dependencies
    repair_deps_test.go:157:   -> nonexistent-123 (blocks)
    repair_deps_test.go:157:   -> test--5t1 (blocks)
    repair_deps_test.go:172: Valid issue IDs: map[test--0w8:true test--5t1:true]
    repair_deps_test.go:183: Found orphan: test--0w8 -> nonexistent-123
--- PASS: TestRepairDeps_FindOrphans (0.04s)
=== RUN   TestRepairDeps_FixOrphans
--- PASS: TestRepairDeps_FixOrphans (0.06s)
=== RUN   TestRepairDeps_MultipleTypes
--- PASS: TestRepairDeps_MultipleTypes (0.08s)
=== RUN   TestRemoveGitattributesEntry
=== RUN   TestRemoveGitattributesEntry/removes_beads_entry
=== RUN   TestRemoveGitattributesEntry/removes_file_if_only_beads_entry
--- PASS: TestRemoveGitattributesEntry (0.00s)
    --- PASS: TestRemoveGitattributesEntry/removes_beads_entry (0.00s)
    --- PASS: TestRemoveGitattributesEntry/removes_file_if_only_beads_entry (0.00s)
=== RUN   TestReadIssueFromJSONL
=== RUN   TestReadIssueFromJSONL/find_existing_issue
=== RUN   TestReadIssueFromJSONL/issue_not_found
=== RUN   TestReadIssueFromJSONL/find_first_issue
=== RUN   TestReadIssueFromJSONL/find_last_issue
--- PASS: TestReadIssueFromJSONL (0.00s)
    --- PASS: TestReadIssueFromJSONL/find_existing_issue (0.00s)
    --- PASS: TestReadIssueFromJSONL/issue_not_found (0.00s)
    --- PASS: TestReadIssueFromJSONL/find_first_issue (0.00s)
    --- PASS: TestReadIssueFromJSONL/find_last_issue (0.00s)
=== RUN   TestReadIssueFromJSONL_NonExistentFile
--- PASS: TestReadIssueFromJSONL_NonExistentFile (0.00s)
=== RUN   TestReadIssueFromJSONL_MalformedJSON
--- PASS: TestReadIssueFromJSONL_MalformedJSON (0.00s)
=== RUN   TestGitHasUncommittedChanges_NotInGitRepo
--- PASS: TestGitHasUncommittedChanges_NotInGitRepo (0.00s)
=== RUN   TestGetCurrentGitHead_NotInGitRepo
--- PASS: TestGetCurrentGitHead_NotInGitRepo (0.01s)
=== RUN   TestGitCheckout_InvalidRef
--- PASS: TestGitCheckout_InvalidRef (0.00s)
=== RUN   TestSandboxDetection
--- PASS: TestSandboxDetection (0.00s)
=== RUN   TestSandboxDetectionExists
    sandbox_test.go:26: isSandboxed() returned: false
--- PASS: TestSandboxDetectionExists (0.00s)
=== RUN   TestSearchCommand_HelpErrorHandling
=== RUN   TestSearchCommand_HelpErrorHandling/normal_help_output
=== RUN   TestSearchCommand_HelpErrorHandling/help_with_failed_writer
    search_test.go:68: cmd.Execute() returned: <nil>
--- PASS: TestSearchCommand_HelpErrorHandling (0.00s)
    --- PASS: TestSearchCommand_HelpErrorHandling/normal_help_output (0.00s)
    --- PASS: TestSearchCommand_HelpErrorHandling/help_with_failed_writer (0.00s)
=== RUN   TestSearchCommand_HelpSuppression
    search_test.go:103: Help() succeeded even with failing writer (cobra may handle gracefully)
--- PASS: TestSearchCommand_HelpSuppression (0.00s)
=== RUN   TestSearchCommand_MissingQueryShowsHelp
Test

Usage:
  search [query] [flags]

Flags:
  -h, --help   help for search
--- PASS: TestSearchCommand_MissingQueryShowsHelp (0.00s)
=== RUN   TestSearchWithDateAndPriorityFilters
=== RUN   TestSearchWithDateAndPriorityFilters/search_with_priority_range_-_min
=== RUN   TestSearchWithDateAndPriorityFilters/search_with_priority_range_-_max
=== RUN   TestSearchWithDateAndPriorityFilters/search_with_priority_range_-_min_and_max
=== RUN   TestSearchWithDateAndPriorityFilters/search_with_created_after
=== RUN   TestSearchWithDateAndPriorityFilters/search_with_updated_before
=== RUN   TestSearchWithDateAndPriorityFilters/search_with_closed_after
=== RUN   TestSearchWithDateAndPriorityFilters/search_with_combined_filters
--- PASS: TestSearchWithDateAndPriorityFilters (0.07s)
    --- PASS: TestSearchWithDateAndPriorityFilters/search_with_priority_range_-_min (0.00s)
    --- PASS: TestSearchWithDateAndPriorityFilters/search_with_priority_range_-_max (0.00s)
    --- PASS: TestSearchWithDateAndPriorityFilters/search_with_priority_range_-_min_and_max (0.00s)
    --- PASS: TestSearchWithDateAndPriorityFilters/search_with_created_after (0.00s)
    --- PASS: TestSearchWithDateAndPriorityFilters/search_with_updated_before (0.00s)
    --- PASS: TestSearchWithDateAndPriorityFilters/search_with_closed_after (0.00s)
    --- PASS: TestSearchWithDateAndPriorityFilters/search_with_combined_filters (0.00s)
=== RUN   TestParseLabelArgs
=== RUN   TestParseLabelArgs/single_ID_single_label
=== RUN   TestParseLabelArgs/multiple_IDs_single_label
=== RUN   TestParseLabelArgs/three_IDs_one_label
--- PASS: TestParseLabelArgs (0.00s)
    --- PASS: TestParseLabelArgs/single_ID_single_label (0.00s)
    --- PASS: TestParseLabelArgs/multiple_IDs_single_label (0.00s)
    --- PASS: TestParseLabelArgs/three_IDs_one_label (0.00s)
=== RUN   TestStaleIssues
--- PASS: TestStaleIssues (0.04s)
=== RUN   TestStaleIssuesWithStatusFilter
--- PASS: TestStaleIssuesWithStatusFilter (0.04s)
=== RUN   TestStaleIssuesWithLimit
--- PASS: TestStaleIssuesWithLimit (0.05s)
=== RUN   TestStaleIssuesEmpty
--- PASS: TestStaleIssuesEmpty (0.04s)
=== RUN   TestStaleIssuesDifferentDaysThreshold
--- PASS: TestStaleIssuesDifferentDaysThreshold (0.04s)
=== RUN   TestStaleCommandInit
--- PASS: TestStaleCommandInit (0.00s)
=== RUN   TestStatusCommand
    status_test.go:135: Status output:
        {
          "summary": {
            "total_issues": 5,
            "open_issues": 2,
            "in_progress_issues": 1,
            "blocked_issues": 0,
            "closed_issues": 1,
            "ready_issues": 2
          }
        }
--- PASS: TestStatusCommand (0.04s)
=== RUN   TestGetGitActivity
    status_test.go:177: No git activity found (not in a git repo or no recent commits)
--- PASS: TestGetGitActivity (0.00s)
=== RUN   TestGetAssignedStatus
--- PASS: TestGetAssignedStatus (0.05s)
=== RUN   TestDBNeedsExport_InSync
--- PASS: TestDBNeedsExport_InSync (0.05s)
=== RUN   TestDBNeedsExport_DBNewer
--- PASS: TestDBNeedsExport_DBNewer (0.05s)
=== RUN   TestDBNeedsExport_CountMismatch
--- PASS: TestDBNeedsExport_CountMismatch (0.05s)
=== RUN   TestDBNeedsExport_NoJSONL
--- PASS: TestDBNeedsExport_NoJSONL (0.04s)
=== RUN   TestIsGitRepo_InGitRepo
--- PASS: TestIsGitRepo_InGitRepo (0.00s)
=== RUN   TestIsGitRepo_NotInGitRepo
--- PASS: TestIsGitRepo_NotInGitRepo (0.00s)
=== RUN   TestGitHasUpstream_NoUpstream
--- PASS: TestGitHasUpstream_NoUpstream (0.03s)
=== RUN   TestGitHasChanges_NoFile
--- PASS: TestGitHasChanges_NoFile (0.03s)
=== RUN   TestGitHasChanges_ModifiedFile
--- PASS: TestGitHasChanges_ModifiedFile (0.03s)
=== RUN   TestGitHasUnmergedPaths_CleanRepo
--- PASS: TestGitHasUnmergedPaths_CleanRepo (0.03s)
=== RUN   TestGitCommit_Success
--- PASS: TestGitCommit_Success (0.04s)
=== RUN   TestGitCommit_AutoMessage
--- PASS: TestGitCommit_AutoMessage (0.04s)
=== RUN   TestCountIssuesInJSONL_NonExistent
=== PAUSE TestCountIssuesInJSONL_NonExistent
=== RUN   TestCountIssuesInJSONL_EmptyFile
=== PAUSE TestCountIssuesInJSONL_EmptyFile
=== RUN   TestCountIssuesInJSONL_MultipleIssues
=== PAUSE TestCountIssuesInJSONL_MultipleIssues
=== RUN   TestCountIssuesInJSONL_WithMalformedLines
=== PAUSE TestCountIssuesInJSONL_WithMalformedLines
=== RUN   TestGetCurrentBranch
--- PASS: TestGetCurrentBranch (0.03s)
=== RUN   TestMergeSyncBranch_NoSyncBranchConfigured
--- PASS: TestMergeSyncBranch_NoSyncBranchConfigured (0.06s)
=== RUN   TestMergeSyncBranch_OnSyncBranch
--- PASS: TestMergeSyncBranch_OnSyncBranch (0.03s)
=== RUN   TestMergeSyncBranch_DirtyWorkingTree
--- PASS: TestMergeSyncBranch_DirtyWorkingTree (0.03s)
=== RUN   TestGetSyncBranch_EnvOverridesDB
--- PASS: TestGetSyncBranch_EnvOverridesDB (0.03s)
=== RUN   TestIsInRebase_NotInRebase
--- PASS: TestIsInRebase_NotInRebase (0.03s)
=== RUN   TestIsInRebase_InRebase
--- PASS: TestIsInRebase_InRebase (0.03s)
=== RUN   TestIsInRebase_InRebaseApply
--- PASS: TestIsInRebase_InRebaseApply (0.01s)
=== RUN   TestHasJSONLConflict_NoConflict
--- PASS: TestHasJSONLConflict_NoConflict (0.03s)
=== RUN   TestHasJSONLConflict_OnlyJSONLConflict
--- PASS: TestHasJSONLConflict_OnlyJSONLConflict (0.08s)
=== RUN   TestHasJSONLConflict_MultipleConflicts
--- PASS: TestHasJSONLConflict_MultipleConflicts (0.08s)
=== RUN   TestZFCSkipsExportAfterImport
    sync_test.go:445: Test requires subprocess spawning which doesn't work in test environment
--- SKIP: TestZFCSkipsExportAfterImport (0.00s)
=== RUN   TestHashBasedStalenessDetection_bd_f2f
    sync_test.go:660: ✓ bd-f2f fix verified: hash mismatch detected even with equal counts
--- PASS: TestHashBasedStalenessDetection_bd_f2f (0.04s)
=== RUN   TestResolveNoGitHistoryForFromMain
=== PAUSE TestResolveNoGitHistoryForFromMain
=== RUN   TestSanitizeTemplateName
=== RUN   TestSanitizeTemplateName/valid_simple_name
=== RUN   TestSanitizeTemplateName/valid_with_dash
=== RUN   TestSanitizeTemplateName/valid_with_underscore
=== RUN   TestSanitizeTemplateName/path_traversal_with_../
=== RUN   TestSanitizeTemplateName/path_traversal_with_..
=== RUN   TestSanitizeTemplateName/absolute_path
=== RUN   TestSanitizeTemplateName/relative_path
=== RUN   TestSanitizeTemplateName/hidden_file
--- PASS: TestSanitizeTemplateName (0.00s)
    --- PASS: TestSanitizeTemplateName/valid_simple_name (0.00s)
    --- PASS: TestSanitizeTemplateName/valid_with_dash (0.00s)
    --- PASS: TestSanitizeTemplateName/valid_with_underscore (0.00s)
    --- PASS: TestSanitizeTemplateName/path_traversal_with_../ (0.00s)
    --- PASS: TestSanitizeTemplateName/path_traversal_with_.. (0.00s)
    --- PASS: TestSanitizeTemplateName/absolute_path (0.00s)
    --- PASS: TestSanitizeTemplateName/relative_path (0.00s)
    --- PASS: TestSanitizeTemplateName/hidden_file (0.00s)
=== RUN   TestLoadTemplatePathTraversal
--- PASS: TestLoadTemplatePathTraversal (0.00s)
=== RUN   TestLoadBuiltinTemplate
=== RUN   TestLoadBuiltinTemplate/epic_template
=== RUN   TestLoadBuiltinTemplate/bug_template
=== RUN   TestLoadBuiltinTemplate/feature_template
--- PASS: TestLoadBuiltinTemplate (0.00s)
    --- PASS: TestLoadBuiltinTemplate/epic_template (0.00s)
    --- PASS: TestLoadBuiltinTemplate/bug_template (0.00s)
    --- PASS: TestLoadBuiltinTemplate/feature_template (0.00s)
=== RUN   TestLoadBuiltinTemplateNotFound
--- PASS: TestLoadBuiltinTemplateNotFound (0.00s)
=== RUN   TestLoadCustomTemplate
--- PASS: TestLoadCustomTemplate (0.00s)
=== RUN   TestLoadTemplate_PreferCustomOverBuiltin
--- PASS: TestLoadTemplate_PreferCustomOverBuiltin (0.00s)
=== RUN   TestIsBuiltinTemplate
=== RUN   TestIsBuiltinTemplate/epic_is_builtin
=== RUN   TestIsBuiltinTemplate/bug_is_builtin
=== RUN   TestIsBuiltinTemplate/feature_is_builtin
=== RUN   TestIsBuiltinTemplate/custom_is_not_builtin
=== RUN   TestIsBuiltinTemplate/random_is_not_builtin
--- PASS: TestIsBuiltinTemplate (0.00s)
    --- PASS: TestIsBuiltinTemplate/epic_is_builtin (0.00s)
    --- PASS: TestIsBuiltinTemplate/bug_is_builtin (0.00s)
    --- PASS: TestIsBuiltinTemplate/feature_is_builtin (0.00s)
    --- PASS: TestIsBuiltinTemplate/custom_is_not_builtin (0.00s)
    --- PASS: TestIsBuiltinTemplate/random_is_not_builtin (0.00s)
=== RUN   TestExampleTipDefinitions
--- PASS: TestExampleTipDefinitions (0.00s)
=== RUN   TestProbabilityGuidelines
--- PASS: TestProbabilityGuidelines (0.00s)
=== RUN   TestTipSelection
--- PASS: TestTipSelection (0.00s)
=== RUN   TestTipProbability
--- PASS: TestTipProbability (0.00s)
=== RUN   TestGetLastShown
--- PASS: TestGetLastShown (0.00s)
=== RUN   TestRecordTipShown
--- PASS: TestRecordTipShown (0.00s)
=== RUN   TestMaybeShowTip_RespectsFlags

💡 Tip: Always show tip
--- PASS: TestMaybeShowTip_RespectsFlags (0.00s)
=== RUN   TestTipFrequency
--- PASS: TestTipFrequency (0.00s)
=== RUN   TestInjectTip
--- PASS: TestInjectTip (0.00s)
=== RUN   TestRemoveTip
--- PASS: TestRemoveTip (0.00s)
=== RUN   TestInjectTipConcurrency
--- PASS: TestInjectTipConcurrency (0.00s)
=== RUN   TestIsClaudeDetected
--- PASS: TestIsClaudeDetected (0.00s)
=== RUN   TestIsClaudeSetupComplete
--- PASS: TestIsClaudeSetupComplete (0.00s)
=== RUN   TestClaudeSetupTipRegistered
--- PASS: TestClaudeSetupTipRegistered (0.00s)
=== RUN   TestClaudeSetupTipCondition
--- PASS: TestClaudeSetupTipCondition (0.00s)
=== RUN   TestParseChecks
=== PAUSE TestParseChecks
=== RUN   TestValidationResultsHasFailures
=== PAUSE TestValidationResultsHasFailures
=== RUN   TestValidationResultsToJSON
=== PAUSE TestValidationResultsToJSON
=== RUN   TestValidateOrphanedDeps
--- PASS: TestValidateOrphanedDeps (0.00s)
=== RUN   TestValidateDuplicates
--- PASS: TestValidateDuplicates (0.00s)
=== RUN   TestValidatePollution
--- PASS: TestValidatePollution (0.00s)
=== RUN   TestValidateGitConflicts_NoFile
--- PASS: TestValidateGitConflicts_NoFile (0.00s)
=== RUN   TestValidateGitConflicts_WithMarkers
--- PASS: TestValidateGitConflicts_WithMarkers (0.00s)
=== RUN   TestValidateGitConflicts_Clean
--- PASS: TestValidateGitConflicts_Clean (0.00s)
=== RUN   TestVersionCommand
=== RUN   TestVersionCommand/plain_text_version_output
=== RUN   TestVersionCommand/json_version_output
--- PASS: TestVersionCommand (0.01s)
    --- PASS: TestVersionCommand/plain_text_version_output (0.00s)
    --- PASS: TestVersionCommand/json_version_output (0.00s)
=== RUN   TestResolveCommitHash
=== RUN   TestResolveCommitHash/returns_ldflag_value_when_set
=== RUN   TestResolveCommitHash/returns_empty_string_when_not_set
--- PASS: TestResolveCommitHash (0.00s)
    --- PASS: TestResolveCommitHash/returns_ldflag_value_when_set (0.00s)
    --- PASS: TestResolveCommitHash/returns_empty_string_when_not_set (0.00s)
=== RUN   TestResolveBranch
=== RUN   TestResolveBranch/returns_ldflag_value_when_set
=== RUN   TestResolveBranch/returns_empty_string_or_git_branch_when_not_set
    version_test.go:127: Got branch: "jules-12820272093609018257-961ae0bc"
--- PASS: TestResolveBranch (0.00s)
    --- PASS: TestResolveBranch/returns_ldflag_value_when_set (0.00s)
    --- PASS: TestResolveBranch/returns_empty_string_or_git_branch_when_not_set (0.00s)
=== RUN   TestVersionOutputWithCommitAndBranch
=== RUN   TestVersionOutputWithCommitAndBranch/text_output_includes_commit_and_branch_when_available
=== RUN   TestVersionOutputWithCommitAndBranch/json_output_includes_commit_and_branch_when_available
--- PASS: TestVersionOutputWithCommitAndBranch (0.00s)
    --- PASS: TestVersionOutputWithCommitAndBranch/text_output_includes_commit_and_branch_when_available (0.00s)
    --- PASS: TestVersionOutputWithCommitAndBranch/json_output_includes_commit_and_branch_when_available (0.00s)
=== RUN   TestVersionFlag
=== RUN   TestVersionFlag/--version_flag
=== RUN   TestVersionFlag/-v_shorthand
--- PASS: TestVersionFlag (0.01s)
    --- PASS: TestVersionFlag/--version_flag (0.01s)
    --- PASS: TestVersionFlag/-v_shorthand (0.00s)
=== RUN   TestGetVersionsSince
=== RUN   TestGetVersionsSince/empty_version_returns_all
=== RUN   TestGetVersionsSince/version_not_in_changelog
=== RUN   TestGetVersionsSince/oldest_version_in_changelog
=== RUN   TestGetVersionsSince/latest_version_returns_empty
--- PASS: TestGetVersionsSince (0.00s)
    --- PASS: TestGetVersionsSince/empty_version_returns_all (0.00s)
    --- PASS: TestGetVersionsSince/version_not_in_changelog (0.00s)
    --- PASS: TestGetVersionsSince/oldest_version_in_changelog (0.00s)
    --- PASS: TestGetVersionsSince/latest_version_returns_empty (0.00s)
=== RUN   TestGetVersionsSinceOrder
--- PASS: TestGetVersionsSinceOrder (0.00s)
=== RUN   TestTrackBdVersion_NoBeadsDir
--- PASS: TestTrackBdVersion_NoBeadsDir (0.01s)
=== RUN   TestTrackBdVersion_FirstRun
--- PASS: TestTrackBdVersion_FirstRun (0.01s)
=== RUN   TestTrackBdVersion_UpgradeDetection
--- PASS: TestTrackBdVersion_UpgradeDetection (0.01s)
=== RUN   TestTrackBdVersion_SameVersion
--- PASS: TestTrackBdVersion_SameVersion (0.01s)
=== RUN   TestMaybeShowUpgradeNotification
🔄 bd upgraded from v0.22.0 to v0.30.2 since last use
💡 Run 'bd upgrade review' to see what changed
💊 Run 'bd doctor' to verify upgrade completed cleanly

--- PASS: TestMaybeShowUpgradeNotification (0.01s)
=== RUN   TestAutoMigrateOnVersionBump_NoUpgrade
--- PASS: TestAutoMigrateOnVersionBump_NoUpgrade (0.00s)
=== RUN   TestAutoMigrateOnVersionBump_NoDatabase
auto-migrate: skipping migration, database does not exist: /tmp/TestAutoMigrateOnVersionBump_NoDatabase3557480741/001/nonexistent.db--- PASS: TestAutoMigrateOnVersionBump_NoDatabase (0.00s)
=== RUN   TestAutoMigrateOnVersionBump_MigratesVersion
    version_tracking_test.go:390: Calling autoMigrateOnVersionBump with dbPath=/tmp/TestAutoMigrateOnVersionBump_MigratesVersion2439866555/001/test-migrate-version-unique.db, versionUpgradeDetected=true
auto-migrate: migrating database from 0.22.0 to 0.30.2auto-migrate: successfully migrated database to version 0.30.2--- PASS: TestAutoMigrateOnVersionBump_MigratesVersion (0.07s)
=== RUN   TestAutoMigrateOnVersionBump_AlreadyMigrated
auto-migrate: database already at version 0.30.2--- PASS: TestAutoMigrateOnVersionBump_AlreadyMigrated (0.06s)
=== RUN   TestShouldDisableDaemonForWorktree
Debug: loaded config from /app/.beads/config.yaml
=== RUN   TestShouldDisableDaemonForWorktree/returns_false_in_regular_repo_without_sync-branch
=== RUN   TestShouldDisableDaemonForWorktree/returns_false_in_regular_repo_with_sync-branch
=== RUN   TestShouldDisableDaemonForWorktree/returns_true_in_worktree_without_sync-branch
Debug: loaded config from /tmp/TestShouldDisableDaemonForWorktreereturns_true_in_worktree_without_sync-branch1980071040/002/.beads/config.yaml
    worktree_daemon_test.go:92: isGitWorktree() = true, worktreeDir = /tmp/TestShouldDisableDaemonForWorktreereturns_true_in_worktree_without_sync-branch1980071040/002
Debug: loaded config from /app/.beads/config.yaml
=== RUN   TestShouldDisableDaemonForWorktree/returns_false_in_worktree_with_sync-branch_configured
Debug: loaded config from /tmp/TestShouldDisableDaemonForWorktreereturns_false_in_worktree_with_sync-branch_configured2779043285/002/.beads/config.yaml
Debug: loaded config from /app/.beads/config.yaml
=== RUN   TestShouldDisableDaemonForWorktree/returns_false_in_worktree_with_sync-branch_in_database_config
Debug: loaded config from /tmp/TestShouldDisableDaemonForWorktreereturns_false_in_worktree_with_sync-branch_in_database_config1007240315/002/.beads/config.yaml
Debug: loaded config from /app/.beads/config.yaml
--- PASS: TestShouldDisableDaemonForWorktree (0.25s)
    --- PASS: TestShouldDisableDaemonForWorktree/returns_false_in_regular_repo_without_sync-branch (0.03s)
    --- PASS: TestShouldDisableDaemonForWorktree/returns_false_in_regular_repo_with_sync-branch (0.03s)
    --- PASS: TestShouldDisableDaemonForWorktree/returns_true_in_worktree_without_sync-branch (0.07s)
    --- PASS: TestShouldDisableDaemonForWorktree/returns_false_in_worktree_with_sync-branch_configured (0.05s)
    --- PASS: TestShouldDisableDaemonForWorktree/returns_false_in_worktree_with_sync-branch_in_database_config (0.07s)
=== RUN   TestShouldAutoStartDaemonWorktreeIntegration
Debug: loaded config from /app/.beads/config.yaml
=== RUN   TestShouldAutoStartDaemonWorktreeIntegration/disables_auto-start_in_worktree_without_sync-branch
Debug: loaded config from /tmp/TestShouldAutoStartDaemonWorktreeIntegrationdisables_auto-start_in_worktree_without_sync-branch523986802/002/.beads/config.yaml
Debug: loaded config from /app/.beads/config.yaml
=== RUN   TestShouldAutoStartDaemonWorktreeIntegration/enables_auto-start_in_worktree_with_sync-branch
Debug: loaded config from /tmp/TestShouldAutoStartDaemonWorktreeIntegrationenables_auto-start_in_worktree_with_sync-branch2354115666/002/.beads/config.yaml
Debug: loaded config from /app/.beads/config.yaml
=== RUN   TestShouldAutoStartDaemonWorktreeIntegration/BEADS_NO_DAEMON_still_takes_precedence_in_worktree
Debug: loaded config from /tmp/TestShouldAutoStartDaemonWorktreeIntegrationBEADS_NO_DAEMON_still_takes_precedence_in_worktree1480124346/002/.beads/config.yaml
Debug: loaded config from /app/.beads/config.yaml
--- PASS: TestShouldAutoStartDaemonWorktreeIntegration (0.16s)
    --- PASS: TestShouldAutoStartDaemonWorktreeIntegration/disables_auto-start_in_worktree_without_sync-branch (0.07s)
    --- PASS: TestShouldAutoStartDaemonWorktreeIntegration/enables_auto-start_in_worktree_with_sync-branch (0.05s)
    --- PASS: TestShouldAutoStartDaemonWorktreeIntegration/BEADS_NO_DAEMON_still_takes_precedence_in_worktree (0.04s)
=== RUN   TestTruncateForBox
=== RUN   TestTruncateForBox/short_path_no_truncate
=== RUN   TestTruncateForBox/exact_length
=== RUN   TestTruncateForBox/needs_truncate
=== RUN   TestTruncateForBox/truncate_to_minimum
--- PASS: TestTruncateForBox (0.00s)
    --- PASS: TestTruncateForBox/short_path_no_truncate (0.00s)
    --- PASS: TestTruncateForBox/exact_length (0.00s)
    --- PASS: TestTruncateForBox/needs_truncate (0.00s)
    --- PASS: TestTruncateForBox/truncate_to_minimum (0.00s)
=== RUN   TestGitRevParse
    worktree_test.go:60: Git dir: /app/.git
--- PASS: TestGitRevParse (0.00s)
=== CONT  TestBoolToFlag
=== RUN   TestBoolToFlag/true_condition
=== CONT  TestCountIssuesInJSONL_EmptyFile
=== CONT  TestValidationResultsToJSON
=== CONT  TestImportInvalidJSON
--- PASS: TestValidationResultsToJSON (0.00s)
=== PAUSE TestBoolToFlag/true_condition
=== CONT  TestValidationResultsHasFailures
=== RUN   TestBoolToFlag/false_condition
=== PAUSE TestBoolToFlag/false_condition
--- PASS: TestImportInvalidJSON (0.00s)
=== CONT  TestResolveNoGitHistoryForFromMain
--- PASS: TestCountIssuesInJSONL_EmptyFile (0.00s)
=== CONT  TestCountIssuesInJSONL_NonExistent
=== RUN   TestBoolToFlag/true_with_empty_flag
=== PAUSE TestBoolToFlag/true_with_empty_flag
=== RUN   TestBoolToFlag/false_with_flag
=== RUN   TestResolveNoGitHistoryForFromMain/fromMain=true_forces_noGitHistory=true_regardless_of_flag
=== PAUSE TestBoolToFlag/false_with_flag
--- PASS: TestCountIssuesInJSONL_NonExistent (0.00s)
=== RUN   TestValidationResultsHasFailures/no_failures_-_all_clean
=== PAUSE TestResolveNoGitHistoryForFromMain/fromMain=true_forces_noGitHistory=true_regardless_of_flag
=== PAUSE TestValidationResultsHasFailures/no_failures_-_all_clean
=== RUN   TestResolveNoGitHistoryForFromMain/fromMain=true_with_noGitHistory=true_stays_true
=== PAUSE TestResolveNoGitHistoryForFromMain/fromMain=true_with_noGitHistory=true_stays_true
=== RUN   TestValidationResultsHasFailures/has_error
=== PAUSE TestValidationResultsHasFailures/has_error
=== RUN   TestResolveNoGitHistoryForFromMain/fromMain=false_preserves_noGitHistory=false
=== RUN   TestValidationResultsHasFailures/issues_found_but_not_all_fixed
=== PAUSE TestValidationResultsHasFailures/issues_found_but_not_all_fixed
=== RUN   TestValidationResultsHasFailures/issues_found_and_all_fixed
=== CONT  TestParseChecks
=== PAUSE TestValidationResultsHasFailures/issues_found_and_all_fixed
=== CONT  TestExportIncludesTombstones
=== RUN   TestParseChecks/empty_returns_all_defaults
=== CONT  TestCountIssuesInJSONL_MultipleIssues
=== PAUSE TestParseChecks/empty_returns_all_defaults
=== RUN   TestParseChecks/single_check
=== PAUSE TestParseChecks/single_check
=== PAUSE TestResolveNoGitHistoryForFromMain/fromMain=false_preserves_noGitHistory=false
=== RUN   TestParseChecks/multiple_checks
=== RUN   TestResolveNoGitHistoryForFromMain/fromMain=false_preserves_noGitHistory=true
=== PAUSE TestParseChecks/multiple_checks
=== PAUSE TestResolveNoGitHistoryForFromMain/fromMain=false_preserves_noGitHistory=true
=== CONT  TestCountIssuesInJSONL_WithMalformedLines
=== RUN   TestParseChecks/synonym_dupes->duplicates
=== PAUSE TestParseChecks/synonym_dupes->duplicates
=== RUN   TestParseChecks/synonym_git-conflicts->conflicts
=== PAUSE TestParseChecks/synonym_git-conflicts->conflicts
=== RUN   TestParseChecks/mixed_with_whitespace
=== PAUSE TestParseChecks/mixed_with_whitespace
=== RUN   TestParseChecks/deduplication
=== PAUSE TestParseChecks/deduplication
=== RUN   TestParseChecks/invalid_check
=== PAUSE TestParseChecks/invalid_check
=== RUN   TestParseChecks/empty_parts_ignored
=== PAUSE TestParseChecks/empty_parts_ignored
=== CONT  TestExportEmpty
--- PASS: TestCountIssuesInJSONL_MultipleIssues (0.00s)
=== CONT  TestExportImport
--- PASS: TestCountIssuesInJSONL_WithMalformedLines (0.00s)
=== CONT  TestRoundTrip
=== RUN   TestExportImport/Export
=== RUN   TestExportImport/JSONL_Format
=== RUN   TestExportImport/Import
--- PASS: TestExportIncludesTombstones (0.05s)
=== CONT  TestBoolToFlag/false_condition
=== CONT  TestBoolToFlag/false_with_flag
=== CONT  TestBoolToFlag/true_with_empty_flag
=== CONT  TestBoolToFlag/true_condition
--- PASS: TestBoolToFlag (0.00s)
    --- PASS: TestBoolToFlag/false_condition (0.00s)
    --- PASS: TestBoolToFlag/false_with_flag (0.00s)
    --- PASS: TestBoolToFlag/true_with_empty_flag (0.00s)
    --- PASS: TestBoolToFlag/true_condition (0.00s)
=== CONT  TestValidationResultsHasFailures/no_failures_-_all_clean
=== CONT  TestValidationResultsHasFailures/issues_found_and_all_fixed
=== CONT  TestValidationResultsHasFailures/issues_found_but_not_all_fixed
=== CONT  TestValidationResultsHasFailures/has_error
--- PASS: TestValidationResultsHasFailures (0.00s)
    --- PASS: TestValidationResultsHasFailures/no_failures_-_all_clean (0.00s)
    --- PASS: TestValidationResultsHasFailures/issues_found_and_all_fixed (0.00s)
    --- PASS: TestValidationResultsHasFailures/issues_found_but_not_all_fixed (0.00s)
    --- PASS: TestValidationResultsHasFailures/has_error (0.00s)
=== CONT  TestResolveNoGitHistoryForFromMain/fromMain=true_with_noGitHistory=true_stays_true
=== CONT  TestResolveNoGitHistoryForFromMain/fromMain=false_preserves_noGitHistory=false
=== CONT  TestResolveNoGitHistoryForFromMain/fromMain=false_preserves_noGitHistory=true
=== CONT  TestParseChecks/empty_returns_all_defaults
=== CONT  TestResolveNoGitHistoryForFromMain/fromMain=true_forces_noGitHistory=true_regardless_of_flag
=== CONT  TestParseChecks/synonym_dupes->duplicates
--- PASS: TestResolveNoGitHistoryForFromMain (0.00s)
    --- PASS: TestResolveNoGitHistoryForFromMain/fromMain=true_with_noGitHistory=true_stays_true (0.00s)
    --- PASS: TestResolveNoGitHistoryForFromMain/fromMain=false_preserves_noGitHistory=false (0.00s)
    --- PASS: TestResolveNoGitHistoryForFromMain/fromMain=false_preserves_noGitHistory=true (0.00s)
    --- PASS: TestResolveNoGitHistoryForFromMain/fromMain=true_forces_noGitHistory=true_regardless_of_flag (0.00s)
=== CONT  TestParseChecks/invalid_check
=== CONT  TestParseChecks/empty_parts_ignored
=== CONT  TestParseChecks/mixed_with_whitespace
=== CONT  TestParseChecks/synonym_git-conflicts->conflicts
=== CONT  TestParseChecks/multiple_checks
=== CONT  TestParseChecks/deduplication
=== CONT  TestParseChecks/single_check
--- PASS: TestParseChecks (0.00s)
    --- PASS: TestParseChecks/empty_returns_all_defaults (0.00s)
    --- PASS: TestParseChecks/synonym_dupes->duplicates (0.00s)
    --- PASS: TestParseChecks/invalid_check (0.00s)
    --- PASS: TestParseChecks/empty_parts_ignored (0.00s)
    --- PASS: TestParseChecks/mixed_with_whitespace (0.00s)
    --- PASS: TestParseChecks/synonym_git-conflicts->conflicts (0.00s)
    --- PASS: TestParseChecks/multiple_checks (0.00s)
    --- PASS: TestParseChecks/deduplication (0.00s)
    --- PASS: TestParseChecks/single_check (0.00s)
--- PASS: TestRoundTrip (0.05s)
--- PASS: TestExportEmpty (0.05s)
=== RUN   TestExportImport/Import_Update
=== RUN   TestExportImport/Export_with_Filter
--- PASS: TestExportImport (0.10s)
    --- PASS: TestExportImport/Export (0.00s)
    --- PASS: TestExportImport/JSONL_Format (0.00s)
    --- PASS: TestExportImport/Import (0.05s)
    --- PASS: TestExportImport/Import_Update (0.00s)
    --- PASS: TestExportImport/Export_with_Filter (0.00s)
PASS
ok  	github.com/steveyegge/beads/cmd/bd	13.909s
=== RUN   TestCheckBdInPath
--- PASS: TestCheckBdInPath (0.00s)
=== RUN   TestCheckDocumentationBdPrimeReference
=== RUN   TestCheckDocumentationBdPrimeReference/no_documentation_files
=== RUN   TestCheckDocumentationBdPrimeReference/documentation_without_bd_prime
=== RUN   TestCheckDocumentationBdPrimeReference/AGENTS.md_references_bd_prime
=== RUN   TestCheckDocumentationBdPrimeReference/CLAUDE.md_references_bd_prime
=== RUN   TestCheckDocumentationBdPrimeReference/.claude/CLAUDE.md_references_bd_prime
=== RUN   TestCheckDocumentationBdPrimeReference/claude.local.md_references_bd_prime_(local-only)
=== RUN   TestCheckDocumentationBdPrimeReference/.claude/claude.local.md_references_bd_prime_(local-only)
=== RUN   TestCheckDocumentationBdPrimeReference/multiple_files_reference_bd_prime
--- PASS: TestCheckDocumentationBdPrimeReference (0.01s)
    --- PASS: TestCheckDocumentationBdPrimeReference/no_documentation_files (0.00s)
    --- PASS: TestCheckDocumentationBdPrimeReference/documentation_without_bd_prime (0.00s)
    --- PASS: TestCheckDocumentationBdPrimeReference/AGENTS.md_references_bd_prime (0.00s)
    --- PASS: TestCheckDocumentationBdPrimeReference/CLAUDE.md_references_bd_prime (0.00s)
    --- PASS: TestCheckDocumentationBdPrimeReference/.claude/CLAUDE.md_references_bd_prime (0.00s)
    --- PASS: TestCheckDocumentationBdPrimeReference/claude.local.md_references_bd_prime_(local-only) (0.00s)
    --- PASS: TestCheckDocumentationBdPrimeReference/.claude/claude.local.md_references_bd_prime_(local-only) (0.00s)
    --- PASS: TestCheckDocumentationBdPrimeReference/multiple_files_reference_bd_prime (0.00s)
=== RUN   TestCheckDocumentationBdPrimeReferenceNoFiles
--- PASS: TestCheckDocumentationBdPrimeReferenceNoFiles (0.00s)
=== RUN   TestIsMCPServerInstalled
--- PASS: TestIsMCPServerInstalled (0.00s)
=== RUN   TestIsBeadsPluginInstalled
--- PASS: TestIsBeadsPluginInstalled (0.00s)
=== RUN   TestHasClaudeHooks
--- PASS: TestHasClaudeHooks (0.00s)
=== RUN   TestCheckClaude
--- PASS: TestCheckClaude (0.00s)
=== RUN   TestHasBeadsHooksWithInvalidPath
--- PASS: TestHasBeadsHooksWithInvalidPath (0.00s)
=== RUN   TestHasBeadsHooksWithInvalidJSON
--- PASS: TestHasBeadsHooksWithInvalidJSON (0.00s)
=== RUN   TestHasBeadsHooksWithNoHooksSection
--- PASS: TestHasBeadsHooksWithNoHooksSection (0.00s)
=== RUN   TestHasBeadsHooksWithBdPrime
--- PASS: TestHasBeadsHooksWithBdPrime (0.00s)
=== RUN   TestHasBeadsHooksWithoutBdPrime
--- PASS: TestHasBeadsHooksWithoutBdPrime (0.00s)
=== RUN   TestIsValidBranchName
=== RUN   TestIsValidBranchName/valid_simple
=== RUN   TestIsValidBranchName/valid_with_slash
=== RUN   TestIsValidBranchName/valid_with_dash
=== RUN   TestIsValidBranchName/valid_with_underscore
=== RUN   TestIsValidBranchName/valid_with_dot
=== RUN   TestIsValidBranchName/valid_complex
=== RUN   TestIsValidBranchName/empty
=== RUN   TestIsValidBranchName/starts_with_dash
=== RUN   TestIsValidBranchName/ends_with_dot
=== RUN   TestIsValidBranchName/ends_with_slash
=== RUN   TestIsValidBranchName/contains_space
=== RUN   TestIsValidBranchName/contains_tilde
=== RUN   TestIsValidBranchName/contains_caret
=== RUN   TestIsValidBranchName/contains_colon
=== RUN   TestIsValidBranchName/contains_backslash
=== RUN   TestIsValidBranchName/contains_question
=== RUN   TestIsValidBranchName/contains_asterisk
=== RUN   TestIsValidBranchName/contains_bracket
=== RUN   TestIsValidBranchName/contains_double_dot
=== RUN   TestIsValidBranchName/ends_with_.lock
=== RUN   TestIsValidBranchName/contains_@{
--- PASS: TestIsValidBranchName (0.00s)
    --- PASS: TestIsValidBranchName/valid_simple (0.00s)
    --- PASS: TestIsValidBranchName/valid_with_slash (0.00s)
    --- PASS: TestIsValidBranchName/valid_with_dash (0.00s)
    --- PASS: TestIsValidBranchName/valid_with_underscore (0.00s)
    --- PASS: TestIsValidBranchName/valid_with_dot (0.00s)
    --- PASS: TestIsValidBranchName/valid_complex (0.00s)
    --- PASS: TestIsValidBranchName/empty (0.00s)
    --- PASS: TestIsValidBranchName/starts_with_dash (0.00s)
    --- PASS: TestIsValidBranchName/ends_with_dot (0.00s)
    --- PASS: TestIsValidBranchName/ends_with_slash (0.00s)
    --- PASS: TestIsValidBranchName/contains_space (0.00s)
    --- PASS: TestIsValidBranchName/contains_tilde (0.00s)
    --- PASS: TestIsValidBranchName/contains_caret (0.00s)
    --- PASS: TestIsValidBranchName/contains_colon (0.00s)
    --- PASS: TestIsValidBranchName/contains_backslash (0.00s)
    --- PASS: TestIsValidBranchName/contains_question (0.00s)
    --- PASS: TestIsValidBranchName/contains_asterisk (0.00s)
    --- PASS: TestIsValidBranchName/contains_bracket (0.00s)
    --- PASS: TestIsValidBranchName/contains_double_dot (0.00s)
    --- PASS: TestIsValidBranchName/ends_with_.lock (0.00s)
    --- PASS: TestIsValidBranchName/contains_@{ (0.00s)
=== RUN   TestCheckConfigValues
=== RUN   TestCheckConfigValues/valid_config
=== RUN   TestCheckConfigValues/invalid_flush-debounce
=== RUN   TestCheckConfigValues/invalid_issue-prefix
=== RUN   TestCheckConfigValues/invalid_routing.mode
=== RUN   TestCheckConfigValues/invalid_sync-branch
=== RUN   TestCheckConfigValues/too_long_issue-prefix
--- PASS: TestCheckConfigValues (0.01s)
    --- PASS: TestCheckConfigValues/valid_config (0.00s)
    --- PASS: TestCheckConfigValues/invalid_flush-debounce (0.00s)
    --- PASS: TestCheckConfigValues/invalid_issue-prefix (0.00s)
    --- PASS: TestCheckConfigValues/invalid_routing.mode (0.00s)
    --- PASS: TestCheckConfigValues/invalid_sync-branch (0.00s)
    --- PASS: TestCheckConfigValues/too_long_issue-prefix (0.00s)
=== RUN   TestCheckMetadataConfigValues
=== RUN   TestCheckMetadataConfigValues/valid_metadata
=== RUN   TestCheckMetadataConfigValues/path_in_database_field
=== RUN   TestCheckMetadataConfigValues/wrong_jsonl_extension
--- PASS: TestCheckMetadataConfigValues (0.00s)
    --- PASS: TestCheckMetadataConfigValues/valid_metadata (0.00s)
    --- PASS: TestCheckMetadataConfigValues/path_in_database_field (0.00s)
    --- PASS: TestCheckMetadataConfigValues/wrong_jsonl_extension (0.00s)
=== RUN   TestIsValidBoolString
=== RUN   TestIsValidBoolString/true
=== RUN   TestIsValidBoolString/false
=== RUN   TestIsValidBoolString/True_uppercase
=== RUN   TestIsValidBoolString/FALSE_uppercase
=== RUN   TestIsValidBoolString/yes
=== RUN   TestIsValidBoolString/no
=== RUN   TestIsValidBoolString/1
=== RUN   TestIsValidBoolString/0
=== RUN   TestIsValidBoolString/on
=== RUN   TestIsValidBoolString/off
=== RUN   TestIsValidBoolString/t
=== RUN   TestIsValidBoolString/f
=== RUN   TestIsValidBoolString/y
=== RUN   TestIsValidBoolString/n
=== RUN   TestIsValidBoolString/invalid_string
=== RUN   TestIsValidBoolString/maybe
=== RUN   TestIsValidBoolString/2
=== RUN   TestIsValidBoolString/empty
--- PASS: TestIsValidBoolString (0.00s)
    --- PASS: TestIsValidBoolString/true (0.00s)
    --- PASS: TestIsValidBoolString/false (0.00s)
    --- PASS: TestIsValidBoolString/True_uppercase (0.00s)
    --- PASS: TestIsValidBoolString/FALSE_uppercase (0.00s)
    --- PASS: TestIsValidBoolString/yes (0.00s)
    --- PASS: TestIsValidBoolString/no (0.00s)
    --- PASS: TestIsValidBoolString/1 (0.00s)
    --- PASS: TestIsValidBoolString/0 (0.00s)
    --- PASS: TestIsValidBoolString/on (0.00s)
    --- PASS: TestIsValidBoolString/off (0.00s)
    --- PASS: TestIsValidBoolString/t (0.00s)
    --- PASS: TestIsValidBoolString/f (0.00s)
    --- PASS: TestIsValidBoolString/y (0.00s)
    --- PASS: TestIsValidBoolString/n (0.00s)
    --- PASS: TestIsValidBoolString/invalid_string (0.00s)
    --- PASS: TestIsValidBoolString/maybe (0.00s)
    --- PASS: TestIsValidBoolString/2 (0.00s)
    --- PASS: TestIsValidBoolString/empty (0.00s)
=== RUN   TestExpandPath
=== RUN   TestExpandPath/tilde_only
=== RUN   TestExpandPath/tilde_path
=== RUN   TestExpandPath/no_tilde
=== RUN   TestExpandPath/relative
--- PASS: TestExpandPath (0.00s)
    --- PASS: TestExpandPath/tilde_only (0.00s)
    --- PASS: TestExpandPath/tilde_path (0.00s)
    --- PASS: TestExpandPath/no_tilde (0.00s)
    --- PASS: TestExpandPath/relative (0.00s)
=== RUN   TestValidActorRegex
=== RUN   TestValidActorRegex/simple_name
=== RUN   TestValidActorRegex/with_numbers
=== RUN   TestValidActorRegex/with_dash
=== RUN   TestValidActorRegex/with_underscore
=== RUN   TestValidActorRegex/with_dot
=== RUN   TestValidActorRegex/email
=== RUN   TestValidActorRegex/starts_with_number
=== RUN   TestValidActorRegex/empty
=== RUN   TestValidActorRegex/starts_with_dash
=== RUN   TestValidActorRegex/starts_with_dot
=== RUN   TestValidActorRegex/starts_with_at
=== RUN   TestValidActorRegex/contains_space
=== RUN   TestValidActorRegex/contains_special
--- PASS: TestValidActorRegex (0.00s)
    --- PASS: TestValidActorRegex/simple_name (0.00s)
    --- PASS: TestValidActorRegex/with_numbers (0.00s)
    --- PASS: TestValidActorRegex/with_dash (0.00s)
    --- PASS: TestValidActorRegex/with_underscore (0.00s)
    --- PASS: TestValidActorRegex/with_dot (0.00s)
    --- PASS: TestValidActorRegex/email (0.00s)
    --- PASS: TestValidActorRegex/starts_with_number (0.00s)
    --- PASS: TestValidActorRegex/empty (0.00s)
    --- PASS: TestValidActorRegex/starts_with_dash (0.00s)
    --- PASS: TestValidActorRegex/starts_with_dot (0.00s)
    --- PASS: TestValidActorRegex/starts_with_at (0.00s)
    --- PASS: TestValidActorRegex/contains_space (0.00s)
    --- PASS: TestValidActorRegex/contains_special (0.00s)
=== RUN   TestValidCustomStatusRegex
=== RUN   TestValidCustomStatusRegex/simple
=== RUN   TestValidCustomStatusRegex/with_numbers
=== RUN   TestValidCustomStatusRegex/lowercase_only
=== RUN   TestValidCustomStatusRegex/underscore_prefix
=== RUN   TestValidCustomStatusRegex/uppercase
=== RUN   TestValidCustomStatusRegex/starts_with_number
=== RUN   TestValidCustomStatusRegex/starts_with_underscore
=== RUN   TestValidCustomStatusRegex/contains_dash
=== RUN   TestValidCustomStatusRegex/empty
=== RUN   TestValidCustomStatusRegex/space
--- PASS: TestValidCustomStatusRegex (0.00s)
    --- PASS: TestValidCustomStatusRegex/simple (0.00s)
    --- PASS: TestValidCustomStatusRegex/with_numbers (0.00s)
    --- PASS: TestValidCustomStatusRegex/lowercase_only (0.00s)
    --- PASS: TestValidCustomStatusRegex/underscore_prefix (0.00s)
    --- PASS: TestValidCustomStatusRegex/uppercase (0.00s)
    --- PASS: TestValidCustomStatusRegex/starts_with_number (0.00s)
    --- PASS: TestValidCustomStatusRegex/starts_with_underscore (0.00s)
    --- PASS: TestValidCustomStatusRegex/contains_dash (0.00s)
    --- PASS: TestValidCustomStatusRegex/empty (0.00s)
    --- PASS: TestValidCustomStatusRegex/space (0.00s)
=== RUN   TestCheckConfigValuesActor
=== RUN   TestCheckConfigValuesActor/invalid_actor
=== RUN   TestCheckConfigValuesActor/valid_actor
--- PASS: TestCheckConfigValuesActor (0.00s)
    --- PASS: TestCheckConfigValuesActor/invalid_actor (0.00s)
    --- PASS: TestCheckConfigValuesActor/valid_actor (0.00s)
=== RUN   TestCheckConfigValuesDbPath
=== RUN   TestCheckConfigValuesDbPath/unusual_db_extension
=== RUN   TestCheckConfigValuesDbPath/valid_db_path
--- PASS: TestCheckConfigValuesDbPath (0.00s)
    --- PASS: TestCheckConfigValuesDbPath/unusual_db_extension (0.00s)
    --- PASS: TestCheckConfigValuesDbPath/valid_db_path (0.00s)
=== RUN   TestFixGitignore_FilePermissions
=== RUN   TestFixGitignore_FilePermissions/creates_new_file_with_0600_permissions
=== RUN   TestFixGitignore_FilePermissions/replaces_existing_file_with_insecure_permissions
=== RUN   TestFixGitignore_FilePermissions/replaces_existing_file_with_secure_permissions
=== RUN   TestFixGitignore_FilePermissions/fails_gracefully_when_.beads_directory_doesn't_exist
--- PASS: TestFixGitignore_FilePermissions (0.00s)
    --- PASS: TestFixGitignore_FilePermissions/creates_new_file_with_0600_permissions (0.00s)
    --- PASS: TestFixGitignore_FilePermissions/replaces_existing_file_with_insecure_permissions (0.00s)
    --- PASS: TestFixGitignore_FilePermissions/replaces_existing_file_with_secure_permissions (0.00s)
    --- PASS: TestFixGitignore_FilePermissions/fails_gracefully_when_.beads_directory_doesn't_exist (0.00s)
=== RUN   TestFixGitignore_FileOwnership
--- PASS: TestFixGitignore_FileOwnership (0.00s)
=== RUN   TestFixGitignore_DoesNotLoosenPermissions
    gitignore_test.go:264: Permissions changed from 400 to 600 (both secure, 0600 is standard)
--- PASS: TestFixGitignore_DoesNotLoosenPermissions (0.00s)
=== RUN   TestCheckGitignore
=== RUN   TestCheckGitignore/missing_.gitignore_file
=== RUN   TestCheckGitignore/up-to-date_.gitignore
=== RUN   TestCheckGitignore/outdated_.gitignore_missing_required_patterns
--- PASS: TestCheckGitignore (0.00s)
    --- PASS: TestCheckGitignore/missing_.gitignore_file (0.00s)
    --- PASS: TestCheckGitignore/up-to-date_.gitignore (0.00s)
    --- PASS: TestCheckGitignore/outdated_.gitignore_missing_required_patterns (0.00s)
=== RUN   TestCheckAgentDocumentation
=== RUN   TestCheckAgentDocumentation/no_documentation
=== RUN   TestCheckAgentDocumentation/AGENTS.md_exists
=== RUN   TestCheckAgentDocumentation/CLAUDE.md_exists
=== RUN   TestCheckAgentDocumentation/.claude/CLAUDE.md_exists
=== RUN   TestCheckAgentDocumentation/claude.local.md_exists_(local-only)
=== RUN   TestCheckAgentDocumentation/.claude/claude.local.md_exists_(local-only)
=== RUN   TestCheckAgentDocumentation/multiple_docs
--- PASS: TestCheckAgentDocumentation (0.01s)
    --- PASS: TestCheckAgentDocumentation/no_documentation (0.00s)
    --- PASS: TestCheckAgentDocumentation/AGENTS.md_exists (0.00s)
    --- PASS: TestCheckAgentDocumentation/CLAUDE.md_exists (0.00s)
    --- PASS: TestCheckAgentDocumentation/.claude/CLAUDE.md_exists (0.00s)
    --- PASS: TestCheckAgentDocumentation/claude.local.md_exists_(local-only) (0.00s)
    --- PASS: TestCheckAgentDocumentation/.claude/claude.local.md_exists_(local-only) (0.00s)
    --- PASS: TestCheckAgentDocumentation/multiple_docs (0.00s)
=== RUN   TestCheckLegacyBeadsSlashCommands
=== RUN   TestCheckLegacyBeadsSlashCommands/no_documentation_files
=== RUN   TestCheckLegacyBeadsSlashCommands/clean_documentation
=== RUN   TestCheckLegacyBeadsSlashCommands/legacy_slash_command_in_AGENTS.md
=== RUN   TestCheckLegacyBeadsSlashCommands/legacy_slash_command_in_CLAUDE.md
=== RUN   TestCheckLegacyBeadsSlashCommands/legacy_slash_command_in_.claude/CLAUDE.md
=== RUN   TestCheckLegacyBeadsSlashCommands/legacy_slash_command_in_claude.local.md
=== RUN   TestCheckLegacyBeadsSlashCommands/legacy_slash_command_in_.claude/claude.local.md
=== RUN   TestCheckLegacyBeadsSlashCommands/multiple_files_with_legacy_commands
--- PASS: TestCheckLegacyBeadsSlashCommands (0.01s)
    --- PASS: TestCheckLegacyBeadsSlashCommands/no_documentation_files (0.00s)
    --- PASS: TestCheckLegacyBeadsSlashCommands/clean_documentation (0.00s)
    --- PASS: TestCheckLegacyBeadsSlashCommands/legacy_slash_command_in_AGENTS.md (0.00s)
    --- PASS: TestCheckLegacyBeadsSlashCommands/legacy_slash_command_in_CLAUDE.md (0.00s)
    --- PASS: TestCheckLegacyBeadsSlashCommands/legacy_slash_command_in_.claude/CLAUDE.md (0.00s)
    --- PASS: TestCheckLegacyBeadsSlashCommands/legacy_slash_command_in_claude.local.md (0.00s)
    --- PASS: TestCheckLegacyBeadsSlashCommands/legacy_slash_command_in_.claude/claude.local.md (0.00s)
    --- PASS: TestCheckLegacyBeadsSlashCommands/multiple_files_with_legacy_commands (0.00s)
=== RUN   TestCheckLegacyJSONLFilename
=== RUN   TestCheckLegacyJSONLFilename/no_JSONL_files
=== RUN   TestCheckLegacyJSONLFilename/single_issues.jsonl
=== RUN   TestCheckLegacyJSONLFilename/single_beads.jsonl_is_ok
=== RUN   TestCheckLegacyJSONLFilename/custom_name_is_ok
=== RUN   TestCheckLegacyJSONLFilename/multiple_JSONL_files_warning
=== RUN   TestCheckLegacyJSONLFilename/backup_files_ignored
=== RUN   TestCheckLegacyJSONLFilename/multiple_real_files_with_backups
=== RUN   TestCheckLegacyJSONLFilename/deletions.jsonl_ignored_as_system_file
=== RUN   TestCheckLegacyJSONLFilename/merge_artifacts_ignored
=== RUN   TestCheckLegacyJSONLFilename/merge_artifacts_with_right_variant_ignored
=== RUN   TestCheckLegacyJSONLFilename/beads_merge_artifacts_ignored_(bd-ov1)
--- PASS: TestCheckLegacyJSONLFilename (0.01s)
    --- PASS: TestCheckLegacyJSONLFilename/no_JSONL_files (0.00s)
    --- PASS: TestCheckLegacyJSONLFilename/single_issues.jsonl (0.00s)
    --- PASS: TestCheckLegacyJSONLFilename/single_beads.jsonl_is_ok (0.00s)
    --- PASS: TestCheckLegacyJSONLFilename/custom_name_is_ok (0.00s)
    --- PASS: TestCheckLegacyJSONLFilename/multiple_JSONL_files_warning (0.00s)
    --- PASS: TestCheckLegacyJSONLFilename/backup_files_ignored (0.00s)
    --- PASS: TestCheckLegacyJSONLFilename/multiple_real_files_with_backups (0.00s)
    --- PASS: TestCheckLegacyJSONLFilename/deletions.jsonl_ignored_as_system_file (0.00s)
    --- PASS: TestCheckLegacyJSONLFilename/merge_artifacts_ignored (0.00s)
    --- PASS: TestCheckLegacyJSONLFilename/merge_artifacts_with_right_variant_ignored (0.00s)
    --- PASS: TestCheckLegacyJSONLFilename/beads_merge_artifacts_ignored_(bd-ov1) (0.00s)
=== RUN   TestCheckLegacyJSONLConfig
=== RUN   TestCheckLegacyJSONLConfig/no_config_(defaults)
=== RUN   TestCheckLegacyJSONLConfig/using_canonical_issues.jsonl
=== RUN   TestCheckLegacyJSONLConfig/using_custom_name
=== RUN   TestCheckLegacyJSONLConfig/using_legacy_beads.jsonl
=== RUN   TestCheckLegacyJSONLConfig/config_says_beads.jsonl_but_issues.jsonl_exists
--- PASS: TestCheckLegacyJSONLConfig (0.00s)
    --- PASS: TestCheckLegacyJSONLConfig/no_config_(defaults) (0.00s)
    --- PASS: TestCheckLegacyJSONLConfig/using_canonical_issues.jsonl (0.00s)
    --- PASS: TestCheckLegacyJSONLConfig/using_custom_name (0.00s)
    --- PASS: TestCheckLegacyJSONLConfig/using_legacy_beads.jsonl (0.00s)
    --- PASS: TestCheckLegacyJSONLConfig/config_says_beads.jsonl_but_issues.jsonl_exists (0.00s)
=== RUN   TestCheckFreshClone
=== RUN   TestCheckFreshClone/no_beads_directory
=== RUN   TestCheckFreshClone/no_JSONL_file
=== RUN   TestCheckFreshClone/database_exists
=== RUN   TestCheckFreshClone/empty_JSONL
=== RUN   TestCheckFreshClone/fresh_clone_with_issues.jsonl_(bd-4ew)
=== RUN   TestCheckFreshClone/fresh_clone_with_beads.jsonl
--- PASS: TestCheckFreshClone (0.01s)
    --- PASS: TestCheckFreshClone/no_beads_directory (0.00s)
    --- PASS: TestCheckFreshClone/no_JSONL_file (0.00s)
    --- PASS: TestCheckFreshClone/database_exists (0.00s)
    --- PASS: TestCheckFreshClone/empty_JSONL (0.00s)
    --- PASS: TestCheckFreshClone/fresh_clone_with_issues.jsonl_(bd-4ew) (0.00s)
    --- PASS: TestCheckFreshClone/fresh_clone_with_beads.jsonl (0.00s)
PASS
ok  	github.com/steveyegge/beads/cmd/bd/doctor	(cached)
=== RUN   TestSafeWorkspacePath
=== RUN   TestSafeWorkspacePath/normal_relative_path
=== RUN   TestSafeWorkspacePath/nested_relative_path
=== RUN   TestSafeWorkspacePath/absolute_path_rejected
=== RUN   TestSafeWorkspacePath/path_traversal_rejected
--- PASS: TestSafeWorkspacePath (0.01s)
    --- PASS: TestSafeWorkspacePath/normal_relative_path (0.00s)
    --- PASS: TestSafeWorkspacePath/nested_relative_path (0.00s)
    --- PASS: TestSafeWorkspacePath/absolute_path_rejected (0.00s)
    --- PASS: TestSafeWorkspacePath/path_traversal_rejected (0.00s)
=== RUN   TestDatabaseConfigFix_JSONLMismatch
  Updating jsonl_export: beads.jsonl → issues.jsonl
--- PASS: TestDatabaseConfigFix_JSONLMismatch (0.00s)
=== RUN   TestDatabaseConfigFix_PrefersIssuesJSONL
  Updating jsonl_export: old.jsonl → issues.jsonl
--- PASS: TestDatabaseConfigFix_PrefersIssuesJSONL (0.00s)
=== RUN   TestFindActualJSONLFile_SkipsBackups
--- PASS: TestFindActualJSONLFile_SkipsBackups (0.00s)
=== RUN   TestLegacyJSONLConfig_MigratesBeadsToIssues
  Renaming beads.jsonl → issues.jsonl
  Updated metadata.json
--- PASS: TestLegacyJSONLConfig_MigratesBeadsToIssues (0.00s)
=== RUN   TestLegacyJSONLConfig_UpdatesGitattributes
  Renaming beads.jsonl → issues.jsonl
  Updated .gitattributes
  Updated metadata.json
--- PASS: TestLegacyJSONLConfig_UpdatesGitattributes (0.00s)
=== RUN   TestPermissions_SkipsSymlinkedBeadsDir
--- PASS: TestPermissions_SkipsSymlinkedBeadsDir (0.00s)
=== RUN   TestPermissions_SkipsSymlinkedDatabase
--- PASS: TestPermissions_SkipsSymlinkedDatabase (0.00s)
=== RUN   TestPermissions_FixesRegularFiles
--- PASS: TestPermissions_FixesRegularFiles (0.00s)
PASS
ok  	github.com/steveyegge/beads/cmd/bd/doctor/fix	(cached)
=== RUN   TestAddHookCommand
=== RUN   TestAddHookCommand/add_hook_to_empty_hooks
=== RUN   TestAddHookCommand/add_stealth_hook_to_empty_hooks
=== RUN   TestAddHookCommand/hook_already_exists
✓ Hook already registered: SessionStart
=== RUN   TestAddHookCommand/stealth_hook_already_exists
✓ Hook already registered: SessionStart
=== RUN   TestAddHookCommand/add_second_hook_alongside_existing
--- PASS: TestAddHookCommand (0.00s)
    --- PASS: TestAddHookCommand/add_hook_to_empty_hooks (0.00s)
    --- PASS: TestAddHookCommand/add_stealth_hook_to_empty_hooks (0.00s)
    --- PASS: TestAddHookCommand/hook_already_exists (0.00s)
    --- PASS: TestAddHookCommand/stealth_hook_already_exists (0.00s)
    --- PASS: TestAddHookCommand/add_second_hook_alongside_existing (0.00s)
=== RUN   TestRemoveHookCommand
=== RUN   TestRemoveHookCommand/remove_only_hook
✓ Removed SessionStart hook
=== RUN   TestRemoveHookCommand/remove_stealth_hook
✓ Removed SessionStart hook
=== RUN   TestRemoveHookCommand/remove_one_of_multiple_hooks
✓ Removed SessionStart hook
--- PASS: TestRemoveHookCommand (0.00s)
    --- PASS: TestRemoveHookCommand/remove_only_hook (0.00s)
    --- PASS: TestRemoveHookCommand/remove_stealth_hook (0.00s)
    --- PASS: TestRemoveHookCommand/remove_one_of_multiple_hooks (0.00s)
=== RUN   TestHasBeadsHooks
=== RUN   TestHasBeadsHooks/has_bd_prime_hook
=== RUN   TestHasBeadsHooks/has_bd_prime_--stealth_hook
=== RUN   TestHasBeadsHooks/has_bd_prime_in_PreCompact
=== RUN   TestHasBeadsHooks/has_bd_prime_--stealth_in_PreCompact
=== RUN   TestHasBeadsHooks/no_hooks
=== RUN   TestHasBeadsHooks/has_other_hooks_but_not_bd_prime
--- PASS: TestHasBeadsHooks (0.01s)
    --- PASS: TestHasBeadsHooks/has_bd_prime_hook (0.00s)
    --- PASS: TestHasBeadsHooks/has_bd_prime_--stealth_hook (0.00s)
    --- PASS: TestHasBeadsHooks/has_bd_prime_in_PreCompact (0.00s)
    --- PASS: TestHasBeadsHooks/has_bd_prime_--stealth_in_PreCompact (0.00s)
    --- PASS: TestHasBeadsHooks/no_hooks (0.00s)
    --- PASS: TestHasBeadsHooks/has_other_hooks_but_not_bd_prime (0.00s)
=== RUN   TestIdempotency
✓ Hook already registered: SessionStart
--- PASS: TestIdempotency (0.00s)
=== RUN   TestIdempotencyWithStealth
✓ Hook already registered: SessionStart
--- PASS: TestIdempotencyWithStealth (0.00s)
=== RUN   TestAtomicWriteFile
--- PASS: TestAtomicWriteFile (0.00s)
=== RUN   TestDirExists
--- PASS: TestDirExists (0.00s)
=== RUN   TestFileExists
--- PASS: TestFileExists (0.00s)
=== RUN   TestEnsureDir
--- PASS: TestEnsureDir (0.00s)
PASS
ok  	github.com/steveyegge/beads/cmd/bd/setup	(cached)
=== RUN   TestAutoImportIfNewer_NoJSONL
--- PASS: TestAutoImportIfNewer_NoJSONL (0.00s)
=== RUN   TestAutoImportIfNewer_UnchangedHash
--- PASS: TestAutoImportIfNewer_UnchangedHash (0.00s)
=== RUN   TestAutoImportIfNewer_ChangedHash
--- PASS: TestAutoImportIfNewer_ChangedHash (0.00s)
=== RUN   TestAutoImportIfNewer_MergeConflict
--- PASS: TestAutoImportIfNewer_MergeConflict (0.00s)
=== RUN   TestAutoImportIfNewer_WithRemapping
--- PASS: TestAutoImportIfNewer_WithRemapping (0.00s)
=== RUN   TestCheckStaleness_NoMetadata
--- PASS: TestCheckStaleness_NoMetadata (0.00s)
=== RUN   TestCheckStaleness_NewerJSONL
--- PASS: TestCheckStaleness_NewerJSONL (0.00s)
=== RUN   TestCheckStaleness_CorruptedMetadata
--- PASS: TestCheckStaleness_CorruptedMetadata (0.00s)
=== RUN   TestCheckForMergeConflicts
=== RUN   TestCheckForMergeConflicts/no_conflict
=== RUN   TestCheckForMergeConflicts/conflict_with_HEAD_marker
=== RUN   TestCheckForMergeConflicts/conflict_with_separator
=== RUN   TestCheckForMergeConflicts/conflict_with_end_marker
--- PASS: TestCheckForMergeConflicts (0.00s)
    --- PASS: TestCheckForMergeConflicts/no_conflict (0.00s)
    --- PASS: TestCheckForMergeConflicts/conflict_with_HEAD_marker (0.00s)
    --- PASS: TestCheckForMergeConflicts/conflict_with_separator (0.00s)
    --- PASS: TestCheckForMergeConflicts/conflict_with_end_marker (0.00s)
=== RUN   TestParseJSONL
=== RUN   TestParseJSONL/valid_jsonl
=== RUN   TestParseJSONL/empty_lines_ignored
=== RUN   TestParseJSONL/invalid_json
=== RUN   TestParseJSONL/closed_without_closedAt
--- PASS: TestParseJSONL (0.00s)
    --- PASS: TestParseJSONL/valid_jsonl (0.00s)
    --- PASS: TestParseJSONL/empty_lines_ignored (0.00s)
    --- PASS: TestParseJSONL/invalid_json (0.00s)
    --- PASS: TestParseJSONL/closed_without_closedAt (0.00s)
=== RUN   TestShowRemapping
--- PASS: TestShowRemapping (0.00s)
=== RUN   TestStderrNotifier
=== RUN   TestStderrNotifier/debug_enabled
Debug: test debug
test info
Warning: test warn
Error: test error
=== RUN   TestStderrNotifier/debug_disabled
test info
--- PASS: TestStderrNotifier (0.00s)
    --- PASS: TestStderrNotifier/debug_enabled (0.00s)
    --- PASS: TestStderrNotifier/debug_disabled (0.00s)
=== RUN   TestCheckStaleness_SymlinkedJSONL
--- PASS: TestCheckStaleness_SymlinkedJSONL (0.00s)
=== RUN   TestCheckStaleness_SymlinkedJSONL_NotStale
--- PASS: TestCheckStaleness_SymlinkedJSONL_NotStale (0.00s)
PASS
ok  	github.com/steveyegge/beads/internal/autoimport	(cached)
=== RUN   TestFindDatabasePathEnvVar
--- PASS: TestFindDatabasePathEnvVar (0.00s)
=== RUN   TestFindDatabasePathInTree
--- PASS: TestFindDatabasePathInTree (0.01s)
=== RUN   TestFindDatabasePathNotFound
--- PASS: TestFindDatabasePathNotFound (0.01s)
=== RUN   TestFindJSONLPathWithExistingFile
--- PASS: TestFindJSONLPathWithExistingFile (0.00s)
=== RUN   TestFindJSONLPathDefault
--- PASS: TestFindJSONLPathDefault (0.00s)
=== RUN   TestFindJSONLPathEmpty
--- PASS: TestFindJSONLPathEmpty (0.00s)
=== RUN   TestFindJSONLPathMultipleFiles
--- PASS: TestFindJSONLPathMultipleFiles (0.00s)
=== RUN   TestFindJSONLPathSkipsDeletions
=== RUN   TestFindJSONLPathSkipsDeletions/prefers_issues.jsonl_over_deletions.jsonl
=== RUN   TestFindJSONLPathSkipsDeletions/skips_deletions.jsonl_when_only_option
=== RUN   TestFindJSONLPathSkipsDeletions/skips_merge_artifacts
=== RUN   TestFindJSONLPathSkipsDeletions/prefers_issues_over_beads
=== RUN   TestFindJSONLPathSkipsDeletions/uses_beads.jsonl_as_legacy_fallback
--- PASS: TestFindJSONLPathSkipsDeletions (0.00s)
    --- PASS: TestFindJSONLPathSkipsDeletions/prefers_issues.jsonl_over_deletions.jsonl (0.00s)
    --- PASS: TestFindJSONLPathSkipsDeletions/skips_deletions.jsonl_when_only_option (0.00s)
    --- PASS: TestFindJSONLPathSkipsDeletions/skips_merge_artifacts (0.00s)
    --- PASS: TestFindJSONLPathSkipsDeletions/prefers_issues_over_beads (0.00s)
    --- PASS: TestFindJSONLPathSkipsDeletions/uses_beads.jsonl_as_legacy_fallback (0.00s)
=== RUN   TestHasBeadsProjectFiles
=== RUN   TestHasBeadsProjectFiles/empty_directory
=== RUN   TestHasBeadsProjectFiles/daemon_registry_only
=== RUN   TestHasBeadsProjectFiles/has_database
=== RUN   TestHasBeadsProjectFiles/has_issues.jsonl
=== RUN   TestHasBeadsProjectFiles/has_metadata.json
=== RUN   TestHasBeadsProjectFiles/has_config.yaml
=== RUN   TestHasBeadsProjectFiles/ignores_backup_db
=== RUN   TestHasBeadsProjectFiles/ignores_vc.db
=== RUN   TestHasBeadsProjectFiles/real_db_with_backup
--- PASS: TestHasBeadsProjectFiles (0.00s)
    --- PASS: TestHasBeadsProjectFiles/empty_directory (0.00s)
    --- PASS: TestHasBeadsProjectFiles/daemon_registry_only (0.00s)
    --- PASS: TestHasBeadsProjectFiles/has_database (0.00s)
    --- PASS: TestHasBeadsProjectFiles/has_issues.jsonl (0.00s)
    --- PASS: TestHasBeadsProjectFiles/has_metadata.json (0.00s)
    --- PASS: TestHasBeadsProjectFiles/has_config.yaml (0.00s)
    --- PASS: TestHasBeadsProjectFiles/ignores_backup_db (0.00s)
    --- PASS: TestHasBeadsProjectFiles/ignores_vc.db (0.00s)
    --- PASS: TestHasBeadsProjectFiles/real_db_with_backup (0.00s)
=== RUN   TestFindBeadsDirSkipsDaemonRegistry
--- PASS: TestFindBeadsDirSkipsDaemonRegistry (0.01s)
=== RUN   TestFindBeadsDirValidatesBeadsDirEnv
--- PASS: TestFindBeadsDirValidatesBeadsDirEnv (0.02s)
=== RUN   TestFindDatabasePathHomeDefault
--- PASS: TestFindDatabasePathHomeDefault (0.01s)
=== RUN   TestFollowRedirect
=== RUN   TestFollowRedirect/no_redirect_file_-_returns_original
=== RUN   TestFollowRedirect/relative_path_redirect
=== RUN   TestFollowRedirect/absolute_path_redirect
=== RUN   TestFollowRedirect/redirect_with_comments
=== RUN   TestFollowRedirect/redirect_to_non-existent_directory_-_returns_original
Warning: redirect target does not exist or is not a directory: /nonexistent/path/.beads
=== RUN   TestFollowRedirect/empty_redirect_file_-_returns_original
=== RUN   TestFollowRedirect/redirect_file_with_only_comments_-_returns_original
--- PASS: TestFollowRedirect (0.01s)
    --- PASS: TestFollowRedirect/no_redirect_file_-_returns_original (0.00s)
    --- PASS: TestFollowRedirect/relative_path_redirect (0.00s)
    --- PASS: TestFollowRedirect/absolute_path_redirect (0.00s)
    --- PASS: TestFollowRedirect/redirect_with_comments (0.00s)
    --- PASS: TestFollowRedirect/redirect_to_non-existent_directory_-_returns_original (0.00s)
    --- PASS: TestFollowRedirect/empty_redirect_file_-_returns_original (0.00s)
    --- PASS: TestFollowRedirect/redirect_file_with_only_comments_-_returns_original (0.00s)
=== RUN   TestFindDatabasePathWithRedirect
--- PASS: TestFindDatabasePathWithRedirect (0.01s)
=== RUN   TestFindBeadsDirWithRedirect
--- PASS: TestFindBeadsDirWithRedirect (0.01s)
=== RUN   TestFindGitRoot_RegularRepo
--- PASS: TestFindGitRoot_RegularRepo (0.02s)
=== RUN   TestFindGitRoot_Worktree
--- PASS: TestFindGitRoot_Worktree (0.05s)
=== RUN   TestFindGitRoot_NotGitRepo
--- PASS: TestFindGitRoot_NotGitRepo (0.00s)
=== RUN   TestFindBeadsDir_Worktree
--- PASS: TestFindBeadsDir_Worktree (0.06s)
=== RUN   TestFindDatabasePath_Worktree
--- PASS: TestFindDatabasePath_Worktree (0.05s)
=== RUN   TestFindDatabasePath_WorktreeNoLocalDB
--- PASS: TestFindDatabasePath_WorktreeNoLocalDB (0.05s)
PASS
ok  	github.com/steveyegge/beads/internal/beads	1.370s
=== RUN   TestNewHaikuClient_RequiresAPIKey
--- PASS: TestNewHaikuClient_RequiresAPIKey (0.00s)
=== RUN   TestNewHaikuClient_EnvVarUsedWhenNoExplicitKey
--- PASS: TestNewHaikuClient_EnvVarUsedWhenNoExplicitKey (0.00s)
=== RUN   TestNewHaikuClient_EnvVarOverridesExplicitKey
--- PASS: TestNewHaikuClient_EnvVarOverridesExplicitKey (0.00s)
=== RUN   TestRenderTier1Prompt
--- PASS: TestRenderTier1Prompt (0.00s)
=== RUN   TestRenderTier1Prompt_HandlesEmptyFields
--- PASS: TestRenderTier1Prompt_HandlesEmptyFields (0.00s)
=== RUN   TestRenderTier1Prompt_UTF8
--- PASS: TestRenderTier1Prompt_UTF8 (0.00s)
=== RUN   TestCallWithRetry_ContextCancellation
--- PASS: TestCallWithRetry_ContextCancellation (0.00s)
=== RUN   TestIsRetryable
=== RUN   TestIsRetryable/nil_error
=== RUN   TestIsRetryable/context_canceled
=== RUN   TestIsRetryable/context_deadline_exceeded
=== RUN   TestIsRetryable/generic_error
--- PASS: TestIsRetryable (0.00s)
    --- PASS: TestIsRetryable/nil_error (0.00s)
    --- PASS: TestIsRetryable/context_canceled (0.00s)
    --- PASS: TestIsRetryable/context_deadline_exceeded (0.00s)
    --- PASS: TestIsRetryable/generic_error (0.00s)
PASS
ok  	github.com/steveyegge/beads/internal/compact	(cached)
=== RUN   TestInitialize
--- PASS: TestInitialize (0.00s)
=== RUN   TestDefaults
=== RUN   TestDefaults/json
=== RUN   TestDefaults/no-daemon
=== RUN   TestDefaults/no-auto-flush
=== RUN   TestDefaults/no-auto-import
=== RUN   TestDefaults/db
=== RUN   TestDefaults/actor
=== RUN   TestDefaults/flush-debounce
=== RUN   TestDefaults/auto-start-daemon
--- PASS: TestDefaults (0.01s)
    --- PASS: TestDefaults/json (0.00s)
    --- PASS: TestDefaults/no-daemon (0.00s)
    --- PASS: TestDefaults/no-auto-flush (0.00s)
    --- PASS: TestDefaults/no-auto-import (0.00s)
    --- PASS: TestDefaults/db (0.00s)
    --- PASS: TestDefaults/actor (0.00s)
    --- PASS: TestDefaults/flush-debounce (0.00s)
    --- PASS: TestDefaults/auto-start-daemon (0.00s)
=== RUN   TestEnvironmentBinding
=== RUN   TestEnvironmentBinding/BD_JSON
=== RUN   TestEnvironmentBinding/BD_NO_DAEMON
=== RUN   TestEnvironmentBinding/BD_ACTOR
=== RUN   TestEnvironmentBinding/BD_DB
=== RUN   TestEnvironmentBinding/BEADS_FLUSH_DEBOUNCE
=== RUN   TestEnvironmentBinding/BEADS_AUTO_START_DAEMON
--- PASS: TestEnvironmentBinding (0.01s)
    --- PASS: TestEnvironmentBinding/BD_JSON (0.00s)
    --- PASS: TestEnvironmentBinding/BD_NO_DAEMON (0.00s)
    --- PASS: TestEnvironmentBinding/BD_ACTOR (0.00s)
    --- PASS: TestEnvironmentBinding/BD_DB (0.00s)
    --- PASS: TestEnvironmentBinding/BEADS_FLUSH_DEBOUNCE (0.00s)
    --- PASS: TestEnvironmentBinding/BEADS_AUTO_START_DAEMON (0.00s)
=== RUN   TestConfigFile
--- PASS: TestConfigFile (0.00s)
=== RUN   TestConfigPrecedence
--- PASS: TestConfigPrecedence (0.00s)
=== RUN   TestSetAndGet
--- PASS: TestSetAndGet (0.00s)
=== RUN   TestAllSettings
--- PASS: TestAllSettings (0.00s)
=== RUN   TestGetStringSlice
--- PASS: TestGetStringSlice (0.00s)
=== RUN   TestGetStringSliceFromConfig
--- PASS: TestGetStringSliceFromConfig (0.00s)
=== RUN   TestGetMultiRepoConfig
--- PASS: TestGetMultiRepoConfig (0.00s)
=== RUN   TestGetMultiRepoConfigFromFile
--- PASS: TestGetMultiRepoConfigFromFile (0.00s)
=== RUN   TestNilViperBehavior
--- PASS: TestNilViperBehavior (0.00s)
=== RUN   TestGetIdentity
--- PASS: TestGetIdentity (0.01s)
=== RUN   TestGetIdentityFromConfig
--- PASS: TestGetIdentityFromConfig (0.00s)
PASS
ok  	github.com/steveyegge/beads/internal/config	(cached)
=== RUN   TestDefaultConfig
--- PASS: TestDefaultConfig (0.00s)
=== RUN   TestLoadSaveRoundtrip
--- PASS: TestLoadSaveRoundtrip (0.00s)
=== RUN   TestLoadNonexistent
--- PASS: TestLoadNonexistent (0.00s)
=== RUN   TestDatabasePath
--- PASS: TestDatabasePath (0.00s)
=== RUN   TestJSONLPath
=== RUN   TestJSONLPath/default
=== RUN   TestJSONLPath/custom
=== RUN   TestJSONLPath/empty_falls_back_to_default
--- PASS: TestJSONLPath (0.00s)
    --- PASS: TestJSONLPath/default (0.00s)
    --- PASS: TestJSONLPath/custom (0.00s)
    --- PASS: TestJSONLPath/empty_falls_back_to_default (0.00s)
=== RUN   TestConfigPath
--- PASS: TestConfigPath (0.00s)
=== RUN   TestGetDeletionsRetentionDays
=== RUN   TestGetDeletionsRetentionDays/zero_uses_default
=== RUN   TestGetDeletionsRetentionDays/negative_uses_default
=== RUN   TestGetDeletionsRetentionDays/custom_value
=== RUN   TestGetDeletionsRetentionDays/minimum_value_1
--- PASS: TestGetDeletionsRetentionDays (0.00s)
    --- PASS: TestGetDeletionsRetentionDays/zero_uses_default (0.00s)
    --- PASS: TestGetDeletionsRetentionDays/negative_uses_default (0.00s)
    --- PASS: TestGetDeletionsRetentionDays/custom_value (0.00s)
    --- PASS: TestGetDeletionsRetentionDays/minimum_value_1 (0.00s)
PASS
ok  	github.com/steveyegge/beads/internal/configfile	(cached)
=== RUN   TestRegistryBasics
--- PASS: TestRegistryBasics (0.01s)
=== RUN   TestRegistryMultipleDaemons
--- PASS: TestRegistryMultipleDaemons (0.01s)
=== RUN   TestRegistryStaleCleanup
--- PASS: TestRegistryStaleCleanup (0.00s)
=== RUN   TestRegistryEmptyArrayNotNull
--- PASS: TestRegistryEmptyArrayNotNull (0.00s)
=== RUN   TestRegistryCorruptedFile
--- PASS: TestRegistryCorruptedFile (0.00s)
=== RUN   TestRegistryNullBytesFile
--- PASS: TestRegistryNullBytesFile (0.00s)
=== RUN   TestRegistryUnregisterNonExistent
--- PASS: TestRegistryUnregisterNonExistent (0.00s)
PASS
ok  	github.com/steveyegge/beads/internal/daemon	(cached)
=== RUN   TestEnabled
=== RUN   TestEnabled/enabled_with_value
=== RUN   TestEnabled/enabled_with_any_value
=== RUN   TestEnabled/disabled_when_empty
--- PASS: TestEnabled (0.00s)
    --- PASS: TestEnabled/enabled_with_value (0.00s)
    --- PASS: TestEnabled/enabled_with_any_value (0.00s)
    --- PASS: TestEnabled/disabled_when_empty (0.00s)
=== RUN   TestLogf
=== RUN   TestLogf/outputs_when_enabled
=== RUN   TestLogf/no_output_when_disabled
--- PASS: TestLogf (0.00s)
    --- PASS: TestLogf/outputs_when_enabled (0.00s)
    --- PASS: TestLogf/no_output_when_disabled (0.00s)
=== RUN   TestPrintf
=== RUN   TestPrintf/outputs_when_enabled
=== RUN   TestPrintf/no_output_when_disabled
--- PASS: TestPrintf (0.00s)
    --- PASS: TestPrintf/outputs_when_enabled (0.00s)
    --- PASS: TestPrintf/no_output_when_disabled (0.00s)
PASS
ok  	github.com/steveyegge/beads/internal/debug	(cached)
=== RUN   TestRetryWithBackoff
=== RUN   TestRetryWithBackoff/succeeds_first_try
=== RUN   TestRetryWithBackoff/succeeds_after_retries
=== RUN   TestRetryWithBackoff/fails_after_max_retries
=== RUN   TestRetryWithBackoff/respects_context_cancellation
--- PASS: TestRetryWithBackoff (0.11s)
    --- PASS: TestRetryWithBackoff/succeeds_first_try (0.00s)
    --- PASS: TestRetryWithBackoff/succeeds_after_retries (0.03s)
    --- PASS: TestRetryWithBackoff/fails_after_max_retries (0.03s)
    --- PASS: TestRetryWithBackoff/respects_context_cancellation (0.05s)
=== RUN   TestErrorPolicy
=== RUN   TestErrorPolicy/strict
=== RUN   TestErrorPolicy/best-effort
=== RUN   TestErrorPolicy/partial
=== RUN   TestErrorPolicy/required-core
=== RUN   TestErrorPolicy/invalid
=== RUN   TestErrorPolicy/empty
--- PASS: TestErrorPolicy (0.00s)
    --- PASS: TestErrorPolicy/strict (0.00s)
    --- PASS: TestErrorPolicy/best-effort (0.00s)
    --- PASS: TestErrorPolicy/partial (0.00s)
    --- PASS: TestErrorPolicy/required-core (0.00s)
    --- PASS: TestErrorPolicy/invalid (0.00s)
    --- PASS: TestErrorPolicy/empty (0.00s)
=== RUN   TestFetchWithPolicy
=== RUN   TestFetchWithPolicy/strict_policy_fails_fast
=== RUN   TestFetchWithPolicy/best-effort_policy_skips_errors
Warning: test failed, skipping: test error
=== RUN   TestFetchWithPolicy/required-core_fails_on_core_data
=== RUN   TestFetchWithPolicy/required-core_skips_enrichment_errors
Warning: test (enrichment) failed, skipping: test error
--- PASS: TestFetchWithPolicy (0.00s)
    --- PASS: TestFetchWithPolicy/strict_policy_fails_fast (0.00s)
    --- PASS: TestFetchWithPolicy/best-effort_policy_skips_errors (0.00s)
    --- PASS: TestFetchWithPolicy/required-core_fails_on_core_data (0.00s)
    --- PASS: TestFetchWithPolicy/required-core_skips_enrichment_errors (0.00s)
PASS
ok  	github.com/steveyegge/beads/internal/export	(cached)
=== RUN   TestCreateBeadsWorktree
=== RUN   TestCreateBeadsWorktree/creates_new_branch_worktree
=== RUN   TestCreateBeadsWorktree/idempotent_-_calling_twice_succeeds
--- PASS: TestCreateBeadsWorktree (0.11s)
    --- PASS: TestCreateBeadsWorktree/creates_new_branch_worktree (0.03s)
    --- PASS: TestCreateBeadsWorktree/idempotent_-_calling_twice_succeeds (0.04s)
=== RUN   TestRemoveBeadsWorktree
--- PASS: TestRemoveBeadsWorktree (0.06s)
=== RUN   TestCheckWorktreeHealth
=== RUN   TestCheckWorktreeHealth/healthy_worktree_passes_check
=== RUN   TestCheckWorktreeHealth/non-existent_path_fails_check
=== RUN   TestCheckWorktreeHealth/invalid_worktree_fails_check
--- PASS: TestCheckWorktreeHealth (0.07s)
    --- PASS: TestCheckWorktreeHealth/healthy_worktree_passes_check (0.03s)
    --- PASS: TestCheckWorktreeHealth/non-existent_path_fails_check (0.00s)
    --- PASS: TestCheckWorktreeHealth/invalid_worktree_fails_check (0.00s)
=== RUN   TestSyncJSONLToWorktree
--- PASS: TestSyncJSONLToWorktree (0.05s)
=== RUN   TestBranchExists
=== RUN   TestBranchExists/main_branch_exists
=== RUN   TestBranchExists/non-existent_branch_returns_false
--- PASS: TestBranchExists (0.04s)
    --- PASS: TestBranchExists/main_branch_exists (0.01s)
    --- PASS: TestBranchExists/non-existent_branch_returns_false (0.01s)
=== RUN   TestIsValidWorktree
=== RUN   TestIsValidWorktree/created_worktree_is_valid
=== RUN   TestIsValidWorktree/non-worktree_path_is_invalid
--- PASS: TestIsValidWorktree (0.06s)
    --- PASS: TestIsValidWorktree/created_worktree_is_valid (0.03s)
    --- PASS: TestIsValidWorktree/non-worktree_path_is_invalid (0.00s)
=== RUN   TestSparseCheckoutConfiguration
=== RUN   TestSparseCheckoutConfiguration/sparse_checkout_includes_.beads
=== RUN   TestSparseCheckoutConfiguration/can_reconfigure_sparse_checkout
--- PASS: TestSparseCheckoutConfiguration (0.06s)
    --- PASS: TestSparseCheckoutConfiguration/sparse_checkout_includes_.beads (0.00s)
    --- PASS: TestSparseCheckoutConfiguration/can_reconfigure_sparse_checkout (0.00s)
=== RUN   TestRemoveBeadsWorktreeManualCleanup
--- PASS: TestRemoveBeadsWorktreeManualCleanup (0.07s)
=== RUN   TestRemoveBeadsWorktreeNonExistent
--- PASS: TestRemoveBeadsWorktreeNonExistent (0.04s)
=== RUN   TestSyncJSONLToWorktreeErrors
=== RUN   TestSyncJSONLToWorktreeErrors/fails_when_source_file_does_not_exist
--- PASS: TestSyncJSONLToWorktreeErrors (0.06s)
    --- PASS: TestSyncJSONLToWorktreeErrors/fails_when_source_file_does_not_exist (0.00s)
=== RUN   TestCreateBeadsWorktreeWithExistingBranch
--- PASS: TestCreateBeadsWorktreeWithExistingBranch (0.05s)
=== RUN   TestCreateBeadsWorktreeInvalidPath
--- PASS: TestCreateBeadsWorktreeInvalidPath (0.06s)
=== RUN   TestCheckWorktreeHealthWithBrokenSparseCheckout
--- PASS: TestCheckWorktreeHealthWithBrokenSparseCheckout (0.06s)
=== RUN   TestVerifySparseCheckoutErrors
=== RUN   TestVerifySparseCheckoutErrors/fails_with_missing_.git_file
=== RUN   TestVerifySparseCheckoutErrors/fails_with_invalid_.git_file_format
--- PASS: TestVerifySparseCheckoutErrors (0.03s)
    --- PASS: TestVerifySparseCheckoutErrors/fails_with_missing_.git_file (0.00s)
    --- PASS: TestVerifySparseCheckoutErrors/fails_with_invalid_.git_file_format (0.00s)
=== RUN   TestConfigureSparseCheckoutErrors
=== RUN   TestConfigureSparseCheckoutErrors/fails_with_missing_.git_file
=== RUN   TestConfigureSparseCheckoutErrors/fails_with_invalid_.git_file_format
--- PASS: TestConfigureSparseCheckoutErrors (0.03s)
    --- PASS: TestConfigureSparseCheckoutErrors/fails_with_missing_.git_file (0.00s)
    --- PASS: TestConfigureSparseCheckoutErrors/fails_with_invalid_.git_file_format (0.00s)
=== RUN   TestSyncJSONLToWorktreeMerge
=== RUN   TestSyncJSONLToWorktreeMerge/merges_when_worktree_has_more_issues_than_local
=== RUN   TestSyncJSONLToWorktreeMerge/overwrites_when_local_has_same_or_more_issues
--- PASS: TestSyncJSONLToWorktreeMerge (0.06s)
    --- PASS: TestSyncJSONLToWorktreeMerge/merges_when_worktree_has_more_issues_than_local (0.00s)
    --- PASS: TestSyncJSONLToWorktreeMerge/overwrites_when_local_has_same_or_more_issues (0.00s)
=== RUN   TestSyncJSONLToWorktree_DeleteMutation
=== RUN   TestSyncJSONLToWorktree_DeleteMutation/forceOverwrite=true_overwrites_even_when_local_has_fewer_issues
=== RUN   TestSyncJSONLToWorktree_DeleteMutation/forceOverwrite=false_merges_when_local_has_fewer_issues_(fresh_clone_scenario)
--- PASS: TestSyncJSONLToWorktree_DeleteMutation (0.05s)
    --- PASS: TestSyncJSONLToWorktree_DeleteMutation/forceOverwrite=true_overwrites_even_when_local_has_fewer_issues (0.00s)
    --- PASS: TestSyncJSONLToWorktree_DeleteMutation/forceOverwrite=false_merges_when_local_has_fewer_issues_(fresh_clone_scenario) (0.00s)
=== RUN   TestCountJSONLIssues
=== RUN   TestCountJSONLIssues/empty_file
=== RUN   TestCountJSONLIssues/single_issue
=== RUN   TestCountJSONLIssues/multiple_issues
=== RUN   TestCountJSONLIssues/with_blank_lines
=== RUN   TestCountJSONLIssues/non-JSON_lines_ignored
--- PASS: TestCountJSONLIssues (0.00s)
    --- PASS: TestCountJSONLIssues/empty_file (0.00s)
    --- PASS: TestCountJSONLIssues/single_issue (0.00s)
    --- PASS: TestCountJSONLIssues/multiple_issues (0.00s)
    --- PASS: TestCountJSONLIssues/with_blank_lines (0.00s)
    --- PASS: TestCountJSONLIssues/non-JSON_lines_ignored (0.00s)
=== RUN   TestGetMainRepoRoot
=== RUN   TestGetMainRepoRoot/returns_correct_root_for_regular_repo
=== RUN   TestGetMainRepoRoot/returns_main_repo_root_from_worktree
=== RUN   TestGetMainRepoRoot/returns_main_repo_root_from_nested_worktree_(GH#509)
=== RUN   TestGetMainRepoRoot/returns_main_repo_root_from_subdirectory_of_nested_worktree
--- PASS: TestGetMainRepoRoot (0.22s)
    --- PASS: TestGetMainRepoRoot/returns_correct_root_for_regular_repo (0.03s)
    --- PASS: TestGetMainRepoRoot/returns_main_repo_root_from_worktree (0.06s)
    --- PASS: TestGetMainRepoRoot/returns_main_repo_root_from_nested_worktree_(GH#509) (0.06s)
    --- PASS: TestGetMainRepoRoot/returns_main_repo_root_from_subdirectory_of_nested_worktree (0.07s)
=== RUN   TestIsWorktree
=== RUN   TestIsWorktree/returns_false_for_regular_repo
=== RUN   TestIsWorktree/returns_true_for_worktree
--- PASS: TestIsWorktree (0.13s)
    --- PASS: TestIsWorktree/returns_false_for_regular_repo (0.06s)
    --- PASS: TestIsWorktree/returns_true_for_worktree (0.07s)
PASS
ok  	github.com/steveyegge/beads/internal/git	(cached)
=== RUN   TestNewRunner
--- PASS: TestNewRunner (0.00s)
=== RUN   TestNewRunnerFromWorkspace
--- PASS: TestNewRunnerFromWorkspace (0.00s)
=== RUN   TestEventToHook
=== RUN   TestEventToHook/create
=== RUN   TestEventToHook/update
=== RUN   TestEventToHook/close
=== RUN   TestEventToHook/message
=== RUN   TestEventToHook/unknown
=== RUN   TestEventToHook/#00
--- PASS: TestEventToHook (0.00s)
    --- PASS: TestEventToHook/create (0.00s)
    --- PASS: TestEventToHook/update (0.00s)
    --- PASS: TestEventToHook/close (0.00s)
    --- PASS: TestEventToHook/message (0.00s)
    --- PASS: TestEventToHook/unknown (0.00s)
    --- PASS: TestEventToHook/#00 (0.00s)
=== RUN   TestHookExists_NoHook
--- PASS: TestHookExists_NoHook (0.00s)
=== RUN   TestHookExists_NotExecutable
--- PASS: TestHookExists_NotExecutable (0.00s)
=== RUN   TestHookExists_Executable
--- PASS: TestHookExists_Executable (0.00s)
=== RUN   TestHookExists_Directory
--- PASS: TestHookExists_Directory (0.00s)
=== RUN   TestRunSync_NoHook
--- PASS: TestRunSync_NoHook (0.00s)
=== RUN   TestRunSync_NotExecutable
--- PASS: TestRunSync_NotExecutable (0.00s)
=== RUN   TestRunSync_Success
--- PASS: TestRunSync_Success (0.01s)
=== RUN   TestRunSync_ReceivesJSON
--- PASS: TestRunSync_ReceivesJSON (0.01s)
=== RUN   TestRunSync_Timeout
    hooks_test.go:225: Skipping timeout test in short mode
--- SKIP: TestRunSync_Timeout (0.00s)
=== RUN   TestRunSync_KillsDescendants
    hooks_test.go:264: Skipping long-running descendant kill test in short mode
--- SKIP: TestRunSync_KillsDescendants (0.00s)
=== RUN   TestRunSync_HookFailure
--- PASS: TestRunSync_HookFailure (0.01s)
=== RUN   TestRun_Async
--- PASS: TestRun_Async (0.10s)
=== RUN   TestAllHookEvents
=== RUN   TestAllHookEvents/create
=== RUN   TestAllHookEvents/update
=== RUN   TestAllHookEvents/close
=== RUN   TestAllHookEvents/message
--- PASS: TestAllHookEvents (0.00s)
    --- PASS: TestAllHookEvents/create (0.00s)
    --- PASS: TestAllHookEvents/update (0.00s)
    --- PASS: TestAllHookEvents/close (0.00s)
    --- PASS: TestAllHookEvents/message (0.00s)
PASS
ok  	github.com/steveyegge/beads/internal/hooks	(cached)
=== RUN   TestIssueDataChanged
=== RUN   TestIssueDataChanged/no_changes
=== RUN   TestIssueDataChanged/title_changed
=== RUN   TestIssueDataChanged/description_changed
=== RUN   TestIssueDataChanged/status_changed
=== RUN   TestIssueDataChanged/status_string_changed
=== RUN   TestIssueDataChanged/priority_changed
=== RUN   TestIssueDataChanged/priority_float64_changed
=== RUN   TestIssueDataChanged/issue_type_changed
=== RUN   TestIssueDataChanged/design_changed
=== RUN   TestIssueDataChanged/acceptance_criteria_changed
=== RUN   TestIssueDataChanged/notes_changed
=== RUN   TestIssueDataChanged/assignee_changed
=== RUN   TestIssueDataChanged/multiple_fields_same
=== RUN   TestIssueDataChanged/one_field_changed_in_multiple
--- PASS: TestIssueDataChanged (0.00s)
    --- PASS: TestIssueDataChanged/no_changes (0.00s)
    --- PASS: TestIssueDataChanged/title_changed (0.00s)
    --- PASS: TestIssueDataChanged/description_changed (0.00s)
    --- PASS: TestIssueDataChanged/status_changed (0.00s)
    --- PASS: TestIssueDataChanged/status_string_changed (0.00s)
    --- PASS: TestIssueDataChanged/priority_changed (0.00s)
    --- PASS: TestIssueDataChanged/priority_float64_changed (0.00s)
    --- PASS: TestIssueDataChanged/issue_type_changed (0.00s)
    --- PASS: TestIssueDataChanged/design_changed (0.00s)
    --- PASS: TestIssueDataChanged/acceptance_criteria_changed (0.00s)
    --- PASS: TestIssueDataChanged/notes_changed (0.00s)
    --- PASS: TestIssueDataChanged/assignee_changed (0.00s)
    --- PASS: TestIssueDataChanged/multiple_fields_same (0.00s)
    --- PASS: TestIssueDataChanged/one_field_changed_in_multiple (0.00s)
=== RUN   TestFieldComparator_StringConversion
=== RUN   TestFieldComparator_StringConversion/string
=== RUN   TestFieldComparator_StringConversion/string_pointer
=== RUN   TestFieldComparator_StringConversion/nil_string_pointer
=== RUN   TestFieldComparator_StringConversion/nil
=== RUN   TestFieldComparator_StringConversion/int_(invalid)
--- PASS: TestFieldComparator_StringConversion (0.00s)
    --- PASS: TestFieldComparator_StringConversion/string (0.00s)
    --- PASS: TestFieldComparator_StringConversion/string_pointer (0.00s)
    --- PASS: TestFieldComparator_StringConversion/nil_string_pointer (0.00s)
    --- PASS: TestFieldComparator_StringConversion/nil (0.00s)
    --- PASS: TestFieldComparator_StringConversion/int_(invalid) (0.00s)
=== RUN   TestFieldComparator_EqualPtrStr
=== RUN   TestFieldComparator_EqualPtrStr/both_nil
=== RUN   TestFieldComparator_EqualPtrStr/existing_nil,_new_empty
=== RUN   TestFieldComparator_EqualPtrStr/existing_nil,_new_string
=== RUN   TestFieldComparator_EqualPtrStr/equal_strings
=== RUN   TestFieldComparator_EqualPtrStr/different_strings
=== RUN   TestFieldComparator_EqualPtrStr/existing_string,_new_nil
=== RUN   TestFieldComparator_EqualPtrStr/invalid_type
--- PASS: TestFieldComparator_EqualPtrStr (0.00s)
    --- PASS: TestFieldComparator_EqualPtrStr/both_nil (0.00s)
    --- PASS: TestFieldComparator_EqualPtrStr/existing_nil,_new_empty (0.00s)
    --- PASS: TestFieldComparator_EqualPtrStr/existing_nil,_new_string (0.00s)
    --- PASS: TestFieldComparator_EqualPtrStr/equal_strings (0.00s)
    --- PASS: TestFieldComparator_EqualPtrStr/different_strings (0.00s)
    --- PASS: TestFieldComparator_EqualPtrStr/existing_string,_new_nil (0.00s)
    --- PASS: TestFieldComparator_EqualPtrStr/invalid_type (0.00s)
=== RUN   TestFieldComparator_EqualIssueType
=== RUN   TestFieldComparator_EqualIssueType/same_IssueType
=== RUN   TestFieldComparator_EqualIssueType/different_IssueType
=== RUN   TestFieldComparator_EqualIssueType/IssueType_vs_string_match
=== RUN   TestFieldComparator_EqualIssueType/IssueType_vs_string_no_match
=== RUN   TestFieldComparator_EqualIssueType/invalid_type
--- PASS: TestFieldComparator_EqualIssueType (0.00s)
    --- PASS: TestFieldComparator_EqualIssueType/same_IssueType (0.00s)
    --- PASS: TestFieldComparator_EqualIssueType/different_IssueType (0.00s)
    --- PASS: TestFieldComparator_EqualIssueType/IssueType_vs_string_match (0.00s)
    --- PASS: TestFieldComparator_EqualIssueType/IssueType_vs_string_no_match (0.00s)
    --- PASS: TestFieldComparator_EqualIssueType/invalid_type (0.00s)
=== RUN   TestFieldComparator_IntConversion
=== RUN   TestFieldComparator_IntConversion/int
=== RUN   TestFieldComparator_IntConversion/int32
=== RUN   TestFieldComparator_IntConversion/int64
=== RUN   TestFieldComparator_IntConversion/float64_integer
=== RUN   TestFieldComparator_IntConversion/float64_fractional
=== RUN   TestFieldComparator_IntConversion/string_(invalid)
--- PASS: TestFieldComparator_IntConversion (0.00s)
    --- PASS: TestFieldComparator_IntConversion/int (0.00s)
    --- PASS: TestFieldComparator_IntConversion/int32 (0.00s)
    --- PASS: TestFieldComparator_IntConversion/int64 (0.00s)
    --- PASS: TestFieldComparator_IntConversion/float64_integer (0.00s)
    --- PASS: TestFieldComparator_IntConversion/float64_fractional (0.00s)
    --- PASS: TestFieldComparator_IntConversion/string_(invalid) (0.00s)
=== RUN   TestRenameImportedIssuePrefixes
=== RUN   TestRenameImportedIssuePrefixes/rename_single_issue
=== RUN   TestRenameImportedIssuePrefixes/rename_multiple_issues
=== RUN   TestRenameImportedIssuePrefixes/rename_with_dependencies
=== RUN   TestRenameImportedIssuePrefixes/rename_with_text_references
=== RUN   TestRenameImportedIssuePrefixes/rename_with_comments
=== RUN   TestRenameImportedIssuePrefixes/error_on_malformed_ID
=== RUN   TestRenameImportedIssuePrefixes/hash-based_suffix_rename
=== RUN   TestRenameImportedIssuePrefixes/no_rename_when_prefix_matches
--- PASS: TestRenameImportedIssuePrefixes (0.00s)
    --- PASS: TestRenameImportedIssuePrefixes/rename_single_issue (0.00s)
    --- PASS: TestRenameImportedIssuePrefixes/rename_multiple_issues (0.00s)
    --- PASS: TestRenameImportedIssuePrefixes/rename_with_dependencies (0.00s)
    --- PASS: TestRenameImportedIssuePrefixes/rename_with_text_references (0.00s)
    --- PASS: TestRenameImportedIssuePrefixes/rename_with_comments (0.00s)
    --- PASS: TestRenameImportedIssuePrefixes/error_on_malformed_ID (0.00s)
    --- PASS: TestRenameImportedIssuePrefixes/hash-based_suffix_rename (0.00s)
    --- PASS: TestRenameImportedIssuePrefixes/no_rename_when_prefix_matches (0.00s)
=== RUN   TestReplaceBoundaryAware
=== RUN   TestReplaceBoundaryAware/simple_replacement
=== RUN   TestReplaceBoundaryAware/multiple_occurrences
=== RUN   TestReplaceBoundaryAware/no_match_substring_prefix
=== RUN   TestReplaceBoundaryAware/match_at_end_of_longer_ID
=== RUN   TestReplaceBoundaryAware/boundary_at_start
=== RUN   TestReplaceBoundaryAware/boundary_at_end
=== RUN   TestReplaceBoundaryAware/boundary_punctuation
=== RUN   TestReplaceBoundaryAware/no_occurrence
--- PASS: TestReplaceBoundaryAware (0.00s)
    --- PASS: TestReplaceBoundaryAware/simple_replacement (0.00s)
    --- PASS: TestReplaceBoundaryAware/multiple_occurrences (0.00s)
    --- PASS: TestReplaceBoundaryAware/no_match_substring_prefix (0.00s)
    --- PASS: TestReplaceBoundaryAware/match_at_end_of_longer_ID (0.00s)
    --- PASS: TestReplaceBoundaryAware/boundary_at_start (0.00s)
    --- PASS: TestReplaceBoundaryAware/boundary_at_end (0.00s)
    --- PASS: TestReplaceBoundaryAware/boundary_punctuation (0.00s)
    --- PASS: TestReplaceBoundaryAware/no_occurrence (0.00s)
=== RUN   TestIsBoundary
--- PASS: TestIsBoundary (0.00s)
=== RUN   TestIsValidIDSuffix
=== RUN   TestIsValidIDSuffix/123
=== RUN   TestIsValidIDSuffix/0
=== RUN   TestIsValidIDSuffix/999
=== RUN   TestIsValidIDSuffix/a3f8e9
=== RUN   TestIsValidIDSuffix/09ea
=== RUN   TestIsValidIDSuffix/abc123
=== RUN   TestIsValidIDSuffix/zzz
=== RUN   TestIsValidIDSuffix/6we.2
=== RUN   TestIsValidIDSuffix/abc.1
=== RUN   TestIsValidIDSuffix/abc.1.2
=== RUN   TestIsValidIDSuffix/abc.1.2.3
=== RUN   TestIsValidIDSuffix/1.5
=== RUN   TestIsValidIDSuffix/#00
=== RUN   TestIsValidIDSuffix/A3F8
=== RUN   TestIsValidIDSuffix/@#$!
=== RUN   TestIsValidIDSuffix/abc-def
--- PASS: TestIsValidIDSuffix (0.00s)
    --- PASS: TestIsValidIDSuffix/123 (0.00s)
    --- PASS: TestIsValidIDSuffix/0 (0.00s)
    --- PASS: TestIsValidIDSuffix/999 (0.00s)
    --- PASS: TestIsValidIDSuffix/a3f8e9 (0.00s)
    --- PASS: TestIsValidIDSuffix/09ea (0.00s)
    --- PASS: TestIsValidIDSuffix/abc123 (0.00s)
    --- PASS: TestIsValidIDSuffix/zzz (0.00s)
    --- PASS: TestIsValidIDSuffix/6we.2 (0.00s)
    --- PASS: TestIsValidIDSuffix/abc.1 (0.00s)
    --- PASS: TestIsValidIDSuffix/abc.1.2 (0.00s)
    --- PASS: TestIsValidIDSuffix/abc.1.2.3 (0.00s)
    --- PASS: TestIsValidIDSuffix/1.5 (0.00s)
    --- PASS: TestIsValidIDSuffix/#00 (0.00s)
    --- PASS: TestIsValidIDSuffix/A3F8 (0.00s)
    --- PASS: TestIsValidIDSuffix/@#$! (0.00s)
    --- PASS: TestIsValidIDSuffix/abc-def (0.00s)
=== RUN   TestImportIssues_Basic
--- PASS: TestImportIssues_Basic (0.31s)
=== RUN   TestImportIssues_Update
--- PASS: TestImportIssues_Update (0.05s)
=== RUN   TestImportIssues_DryRun
--- PASS: TestImportIssues_DryRun (0.04s)
=== RUN   TestImportIssues_Dependencies
--- PASS: TestImportIssues_Dependencies (0.05s)
=== RUN   TestImportIssues_Labels
--- PASS: TestImportIssues_Labels (0.05s)
=== RUN   TestGetOrCreateStore_ExistingStore
--- PASS: TestGetOrCreateStore_ExistingStore (0.04s)
=== RUN   TestGetOrCreateStore_NewStore
--- PASS: TestGetOrCreateStore_NewStore (0.05s)
=== RUN   TestGetOrCreateStore_EmptyPath
--- PASS: TestGetOrCreateStore_EmptyPath (0.00s)
=== RUN   TestGetPrefixList
=== RUN   TestGetPrefixList/single_prefix
=== RUN   TestGetPrefixList/multiple_prefixes
=== RUN   TestGetPrefixList/empty
--- PASS: TestGetPrefixList (0.00s)
    --- PASS: TestGetPrefixList/single_prefix (0.00s)
    --- PASS: TestGetPrefixList/multiple_prefixes (0.00s)
    --- PASS: TestGetPrefixList/empty (0.00s)
=== RUN   TestValidateNoDuplicateExternalRefs
=== RUN   TestValidateNoDuplicateExternalRefs/no_external_ref_values
=== RUN   TestValidateNoDuplicateExternalRefs/unique_external_ref_values
=== RUN   TestValidateNoDuplicateExternalRefs/duplicate_external_ref_values
=== RUN   TestValidateNoDuplicateExternalRefs/duplicate_external_ref_values_with_clear_flag
=== RUN   TestValidateNoDuplicateExternalRefs/multiple_duplicates
=== RUN   TestValidateNoDuplicateExternalRefs/ignores_empty_external_ref
--- PASS: TestValidateNoDuplicateExternalRefs (0.00s)
    --- PASS: TestValidateNoDuplicateExternalRefs/no_external_ref_values (0.00s)
    --- PASS: TestValidateNoDuplicateExternalRefs/unique_external_ref_values (0.00s)
    --- PASS: TestValidateNoDuplicateExternalRefs/duplicate_external_ref_values (0.00s)
    --- PASS: TestValidateNoDuplicateExternalRefs/duplicate_external_ref_values_with_clear_flag (0.00s)
    --- PASS: TestValidateNoDuplicateExternalRefs/multiple_duplicates (0.00s)
    --- PASS: TestValidateNoDuplicateExternalRefs/ignores_empty_external_ref (0.00s)
=== RUN   TestConcurrentExternalRefImports
    importer_test.go:1009: TODO(bd-gpe7): Test hangs due to database deadlock - needs investigation
--- SKIP: TestConcurrentExternalRefImports (0.00s)
=== RUN   TestImportIssues_TombstoneFromJSONL
--- PASS: TestImportIssues_TombstoneFromJSONL (0.04s)
=== RUN   TestImportOrphanSkip_CountMismatch
--- PASS: TestImportOrphanSkip_CountMismatch (0.02s)
=== RUN   TestImportCrossPrefixContentMatch
--- PASS: TestImportCrossPrefixContentMatch (0.04s)
=== RUN   TestImportTombstonePrefixMismatch
Ignoring prefix mismatches (all are tombstones): [beads- (1 tombstones) test- (1 tombstones)]
--- PASS: TestImportTombstonePrefixMismatch (0.04s)
=== RUN   TestImportMixedPrefixMismatch
--- PASS: TestImportMixedPrefixMismatch (0.04s)
=== RUN   TestGetHierarchyDepth
=== RUN   TestGetHierarchyDepth/top-level
=== RUN   TestGetHierarchyDepth/one_level
=== RUN   TestGetHierarchyDepth/two_levels
=== RUN   TestGetHierarchyDepth/three_levels
--- PASS: TestGetHierarchyDepth (0.00s)
    --- PASS: TestGetHierarchyDepth/top-level (0.00s)
    --- PASS: TestGetHierarchyDepth/one_level (0.00s)
    --- PASS: TestGetHierarchyDepth/two_levels (0.00s)
    --- PASS: TestGetHierarchyDepth/three_levels (0.00s)
=== RUN   TestSortByDepth
=== RUN   TestSortByDepth/already_sorted
=== RUN   TestSortByDepth/child_before_parent
=== RUN   TestSortByDepth/complex_hierarchy
=== RUN   TestSortByDepth/stable_sort_same_depth
--- PASS: TestSortByDepth (0.00s)
    --- PASS: TestSortByDepth/already_sorted (0.00s)
    --- PASS: TestSortByDepth/child_before_parent (0.00s)
    --- PASS: TestSortByDepth/complex_hierarchy (0.00s)
    --- PASS: TestSortByDepth/stable_sort_same_depth (0.00s)
=== RUN   TestGroupByDepth
--- PASS: TestGroupByDepth (0.00s)
=== RUN   TestImportTimestampPrecedence
--- PASS: TestImportTimestampPrecedence (0.05s)
=== RUN   TestImportSameTimestamp
--- PASS: TestImportSameTimestamp (0.04s)
PASS
ok  	github.com/steveyegge/beads/internal/importer	(cached)
=== RUN   TestReadLockInfo
=== RUN   TestReadLockInfo/JSON_format
=== RUN   TestReadLockInfo/old_format_(plain_PID)
=== RUN   TestReadLockInfo/file_not_found
=== RUN   TestReadLockInfo/invalid_format
--- PASS: TestReadLockInfo (0.00s)
    --- PASS: TestReadLockInfo/JSON_format (0.00s)
    --- PASS: TestReadLockInfo/old_format_(plain_PID) (0.00s)
    --- PASS: TestReadLockInfo/file_not_found (0.00s)
    --- PASS: TestReadLockInfo/invalid_format (0.00s)
=== RUN   TestCheckPIDFile
=== RUN   TestCheckPIDFile/file_not_found
=== RUN   TestCheckPIDFile/invalid_PID
=== RUN   TestCheckPIDFile/process_not_running
=== RUN   TestCheckPIDFile/current_process_is_running
--- PASS: TestCheckPIDFile (0.00s)
    --- PASS: TestCheckPIDFile/file_not_found (0.00s)
    --- PASS: TestCheckPIDFile/invalid_PID (0.00s)
    --- PASS: TestCheckPIDFile/process_not_running (0.00s)
    --- PASS: TestCheckPIDFile/current_process_is_running (0.00s)
=== RUN   TestTryDaemonLock
=== RUN   TestTryDaemonLock/no_lock_file_exists
=== RUN   TestTryDaemonLock/lock_file_exists_but_not_locked_-_daemon_not_running
=== RUN   TestTryDaemonLock/lock_file_held_by_another_process_-_daemon_running
=== RUN   TestTryDaemonLock/lock_file_with_old_format_(plain_PID)
=== RUN   TestTryDaemonLock/lock_file_with_invalid_content_falls_back_to_PID_file
=== RUN   TestTryDaemonLock/falls_back_to_PID_file_when_no_lock_file_exists
--- PASS: TestTryDaemonLock (0.00s)
    --- PASS: TestTryDaemonLock/no_lock_file_exists (0.00s)
    --- PASS: TestTryDaemonLock/lock_file_exists_but_not_locked_-_daemon_not_running (0.00s)
    --- PASS: TestTryDaemonLock/lock_file_held_by_another_process_-_daemon_running (0.00s)
    --- PASS: TestTryDaemonLock/lock_file_with_old_format_(plain_PID) (0.00s)
    --- PASS: TestTryDaemonLock/lock_file_with_invalid_content_falls_back_to_PID_file (0.00s)
    --- PASS: TestTryDaemonLock/falls_back_to_PID_file_when_no_lock_file_exists (0.00s)
=== RUN   TestFlockFunctions
=== RUN   TestFlockFunctions/FlockExclusiveBlocking_and_FlockUnlock
=== RUN   TestFlockFunctions/flockExclusive_non-blocking_succeeds_on_unlocked_file
=== RUN   TestFlockFunctions/flockExclusive_returns_errDaemonLocked_when_already_locked
--- PASS: TestFlockFunctions (0.00s)
    --- PASS: TestFlockFunctions/FlockExclusiveBlocking_and_FlockUnlock (0.00s)
    --- PASS: TestFlockFunctions/flockExclusive_non-blocking_succeeds_on_unlocked_file (0.00s)
    --- PASS: TestFlockFunctions/flockExclusive_returns_errDaemonLocked_when_already_locked (0.00s)
=== RUN   TestIsProcessRunning
=== RUN   TestIsProcessRunning/current_process_is_running
=== RUN   TestIsProcessRunning/non-existent_process_is_not_running
=== RUN   TestIsProcessRunning/parent_process_is_running
--- PASS: TestIsProcessRunning (0.00s)
    --- PASS: TestIsProcessRunning/current_process_is_running (0.00s)
    --- PASS: TestIsProcessRunning/non-existent_process_is_not_running (0.00s)
    --- PASS: TestIsProcessRunning/parent_process_is_running (0.00s)
PASS
ok  	github.com/steveyegge/beads/internal/lockfile	(cached)
=== RUN   TestMergeStatus
=== RUN   TestMergeStatus/no_changes
=== RUN   TestMergeStatus/left_closed,_right_open_-_closed_wins
=== RUN   TestMergeStatus/left_open,_right_closed_-_closed_wins
=== RUN   TestMergeStatus/both_closed
=== RUN   TestMergeStatus/base_closed,_left_open,_right_open_-_open_(standard_merge)
=== RUN   TestMergeStatus/base_closed,_left_open,_right_closed_-_closed_wins
--- PASS: TestMergeStatus (0.00s)
    --- PASS: TestMergeStatus/no_changes (0.00s)
    --- PASS: TestMergeStatus/left_closed,_right_open_-_closed_wins (0.00s)
    --- PASS: TestMergeStatus/left_open,_right_closed_-_closed_wins (0.00s)
    --- PASS: TestMergeStatus/both_closed (0.00s)
    --- PASS: TestMergeStatus/base_closed,_left_open,_right_open_-_open_(standard_merge) (0.00s)
    --- PASS: TestMergeStatus/base_closed,_left_open,_right_closed_-_closed_wins (0.00s)
=== RUN   TestMergeField
=== RUN   TestMergeField/no_changes
=== RUN   TestMergeField/left_changed
=== RUN   TestMergeField/right_changed
=== RUN   TestMergeField/both_changed_to_same_value
=== RUN   TestMergeField/both_changed_to_different_values_-_prefers_left
--- PASS: TestMergeField (0.00s)
    --- PASS: TestMergeField/no_changes (0.00s)
    --- PASS: TestMergeField/left_changed (0.00s)
    --- PASS: TestMergeField/right_changed (0.00s)
    --- PASS: TestMergeField/both_changed_to_same_value (0.00s)
    --- PASS: TestMergeField/both_changed_to_different_values_-_prefers_left (0.00s)
=== RUN   TestMergeDependencies
=== RUN   TestMergeDependencies/empty_both_sides
=== RUN   TestMergeDependencies/only_left_has_deps
=== RUN   TestMergeDependencies/only_right_has_deps
=== RUN   TestMergeDependencies/union_of_different_deps
=== RUN   TestMergeDependencies/deduplication_of_identical_deps
=== RUN   TestMergeDependencies/multiple_deps_with_dedup
--- PASS: TestMergeDependencies (0.00s)
    --- PASS: TestMergeDependencies/empty_both_sides (0.00s)
    --- PASS: TestMergeDependencies/only_left_has_deps (0.00s)
    --- PASS: TestMergeDependencies/only_right_has_deps (0.00s)
    --- PASS: TestMergeDependencies/union_of_different_deps (0.00s)
    --- PASS: TestMergeDependencies/deduplication_of_identical_deps (0.00s)
    --- PASS: TestMergeDependencies/multiple_deps_with_dedup (0.00s)
=== RUN   TestMaxTime
=== RUN   TestMaxTime/both_empty
=== RUN   TestMaxTime/t1_empty
=== RUN   TestMaxTime/t2_empty
=== RUN   TestMaxTime/t1_newer
=== RUN   TestMaxTime/t2_newer
=== RUN   TestMaxTime/identical_timestamps
=== RUN   TestMaxTime/with_fractional_seconds_(RFC3339Nano)
=== RUN   TestMaxTime/invalid_timestamps_-_returns_t2_as_fallback
--- PASS: TestMaxTime (0.00s)
    --- PASS: TestMaxTime/both_empty (0.00s)
    --- PASS: TestMaxTime/t1_empty (0.00s)
    --- PASS: TestMaxTime/t2_empty (0.00s)
    --- PASS: TestMaxTime/t1_newer (0.00s)
    --- PASS: TestMaxTime/t2_newer (0.00s)
    --- PASS: TestMaxTime/identical_timestamps (0.00s)
    --- PASS: TestMaxTime/with_fractional_seconds_(RFC3339Nano) (0.00s)
    --- PASS: TestMaxTime/invalid_timestamps_-_returns_t2_as_fallback (0.00s)
=== RUN   TestIsTimeAfter
=== RUN   TestIsTimeAfter/both_empty_-_prefer_left
=== RUN   TestIsTimeAfter/t1_empty_-_t2_wins
=== RUN   TestIsTimeAfter/t2_empty_-_t1_wins
=== RUN   TestIsTimeAfter/t1_newer
=== RUN   TestIsTimeAfter/t2_newer
=== RUN   TestIsTimeAfter/identical_timestamps_-_left_wins_(bd-8nz)
=== RUN   TestIsTimeAfter/t1_invalid,_t2_valid_-_t2_wins
=== RUN   TestIsTimeAfter/t1_valid,_t2_invalid_-_t1_wins
=== RUN   TestIsTimeAfter/both_invalid_-_prefer_left
--- PASS: TestIsTimeAfter (0.00s)
    --- PASS: TestIsTimeAfter/both_empty_-_prefer_left (0.00s)
    --- PASS: TestIsTimeAfter/t1_empty_-_t2_wins (0.00s)
    --- PASS: TestIsTimeAfter/t2_empty_-_t1_wins (0.00s)
    --- PASS: TestIsTimeAfter/t1_newer (0.00s)
    --- PASS: TestIsTimeAfter/t2_newer (0.00s)
    --- PASS: TestIsTimeAfter/identical_timestamps_-_left_wins_(bd-8nz) (0.00s)
    --- PASS: TestIsTimeAfter/t1_invalid,_t2_valid_-_t2_wins (0.00s)
    --- PASS: TestIsTimeAfter/t1_valid,_t2_invalid_-_t1_wins (0.00s)
    --- PASS: TestIsTimeAfter/both_invalid_-_prefer_left (0.00s)
=== RUN   TestMerge3Way_SimpleUpdates
=== RUN   TestMerge3Way_SimpleUpdates/left_updates_title
=== RUN   TestMerge3Way_SimpleUpdates/right_updates_status
=== RUN   TestMerge3Way_SimpleUpdates/both_update_different_fields
--- PASS: TestMerge3Way_SimpleUpdates (0.00s)
    --- PASS: TestMerge3Way_SimpleUpdates/left_updates_title (0.00s)
    --- PASS: TestMerge3Way_SimpleUpdates/right_updates_status (0.00s)
    --- PASS: TestMerge3Way_SimpleUpdates/both_update_different_fields (0.00s)
=== RUN   TestMergePriority
=== RUN   TestMergePriority/no_changes
=== RUN   TestMergePriority/left_changed
=== RUN   TestMergePriority/right_changed
=== RUN   TestMergePriority/both_changed_to_same_value
=== RUN   TestMergePriority/conflict_-_higher_priority_wins_(lower_number)
=== RUN   TestMergePriority/bd-d0t:_left_unset_(0),_right_has_explicit_priority
=== RUN   TestMergePriority/bd-d0t:_left_has_explicit_priority,_right_unset_(0)
=== RUN   TestMergePriority/bd-d0t:_both_unset_(0)
=== RUN   TestMergePriority/bd-d0t:_base_unset,_left_sets_priority,_right_unchanged
=== RUN   TestMergePriority/bd-d0t:_base_unset,_right_sets_priority,_left_unchanged
=== RUN   TestMergePriority/bd-1kf:_negative_priority_should_win_over_unset_(0)
=== RUN   TestMergePriority/bd-1kf:_negative_priority_on_left_should_win_over_unset_(0)_on_right
=== RUN   TestMergePriority/bd-1kf:_conflict_between_negative_priorities_-_lower_wins
=== RUN   TestMergePriority/bd-1kf:_negative_vs_positive_priority_conflict
--- PASS: TestMergePriority (0.00s)
    --- PASS: TestMergePriority/no_changes (0.00s)
    --- PASS: TestMergePriority/left_changed (0.00s)
    --- PASS: TestMergePriority/right_changed (0.00s)
    --- PASS: TestMergePriority/both_changed_to_same_value (0.00s)
    --- PASS: TestMergePriority/conflict_-_higher_priority_wins_(lower_number) (0.00s)
    --- PASS: TestMergePriority/bd-d0t:_left_unset_(0),_right_has_explicit_priority (0.00s)
    --- PASS: TestMergePriority/bd-d0t:_left_has_explicit_priority,_right_unset_(0) (0.00s)
    --- PASS: TestMergePriority/bd-d0t:_both_unset_(0) (0.00s)
    --- PASS: TestMergePriority/bd-d0t:_base_unset,_left_sets_priority,_right_unchanged (0.00s)
    --- PASS: TestMergePriority/bd-d0t:_base_unset,_right_sets_priority,_left_unchanged (0.00s)
    --- PASS: TestMergePriority/bd-1kf:_negative_priority_should_win_over_unset_(0) (0.00s)
    --- PASS: TestMergePriority/bd-1kf:_negative_priority_on_left_should_win_over_unset_(0)_on_right (0.00s)
    --- PASS: TestMergePriority/bd-1kf:_conflict_between_negative_priorities_-_lower_wins (0.00s)
    --- PASS: TestMergePriority/bd-1kf:_negative_vs_positive_priority_conflict (0.00s)
=== RUN   TestMerge3Way_AutoResolve
=== RUN   TestMerge3Way_AutoResolve/conflicting_title_changes_-_latest_updated_at_wins
=== RUN   TestMerge3Way_AutoResolve/conflicting_priority_changes_-_higher_priority_wins_(lower_number)
=== RUN   TestMerge3Way_AutoResolve/conflicting_notes_-_concatenated
=== RUN   TestMerge3Way_AutoResolve/conflicting_issue_type_-_local_(left)_wins
--- PASS: TestMerge3Way_AutoResolve (0.00s)
    --- PASS: TestMerge3Way_AutoResolve/conflicting_title_changes_-_latest_updated_at_wins (0.00s)
    --- PASS: TestMerge3Way_AutoResolve/conflicting_priority_changes_-_higher_priority_wins_(lower_number) (0.00s)
    --- PASS: TestMerge3Way_AutoResolve/conflicting_notes_-_concatenated (0.00s)
    --- PASS: TestMerge3Way_AutoResolve/conflicting_issue_type_-_local_(left)_wins (0.00s)
=== RUN   TestMerge3Way_Deletions
=== RUN   TestMerge3Way_Deletions/deleted_in_left,_unchanged_in_right
=== RUN   TestMerge3Way_Deletions/deleted_in_right,_unchanged_in_left
=== RUN   TestMerge3Way_Deletions/deleted_in_left,_modified_in_right_-_deletion_wins
=== RUN   TestMerge3Way_Deletions/deleted_in_right,_modified_in_left_-_deletion_wins
--- PASS: TestMerge3Way_Deletions (0.00s)
    --- PASS: TestMerge3Way_Deletions/deleted_in_left,_unchanged_in_right (0.00s)
    --- PASS: TestMerge3Way_Deletions/deleted_in_right,_unchanged_in_left (0.00s)
    --- PASS: TestMerge3Way_Deletions/deleted_in_left,_modified_in_right_-_deletion_wins (0.00s)
    --- PASS: TestMerge3Way_Deletions/deleted_in_right,_modified_in_left_-_deletion_wins (0.00s)
=== RUN   TestMerge3Way_Additions
=== RUN   TestMerge3Way_Additions/added_only_in_left
=== RUN   TestMerge3Way_Additions/added_only_in_right
=== RUN   TestMerge3Way_Additions/added_in_both_with_identical_content
=== RUN   TestMerge3Way_Additions/added_in_both_with_different_content_-_auto-resolved
--- PASS: TestMerge3Way_Additions (0.00s)
    --- PASS: TestMerge3Way_Additions/added_only_in_left (0.00s)
    --- PASS: TestMerge3Way_Additions/added_only_in_right (0.00s)
    --- PASS: TestMerge3Way_Additions/added_in_both_with_identical_content (0.00s)
    --- PASS: TestMerge3Way_Additions/added_in_both_with_different_content_-_auto-resolved (0.00s)
=== RUN   TestMerge3Way_ResurrectionPrevention
=== RUN   TestMerge3Way_ResurrectionPrevention/bd-pq5k:_no_invalid_state_(status=open_with_closed_at)
=== RUN   TestMerge3Way_ResurrectionPrevention/bd-hv01_regression:_closed_issue_not_resurrected
--- PASS: TestMerge3Way_ResurrectionPrevention (0.00s)
    --- PASS: TestMerge3Way_ResurrectionPrevention/bd-pq5k:_no_invalid_state_(status=open_with_closed_at) (0.00s)
    --- PASS: TestMerge3Way_ResurrectionPrevention/bd-hv01_regression:_closed_issue_not_resurrected (0.00s)
=== RUN   TestMerge3Way_Integration
=== RUN   TestMerge3Way_Integration/full_merge_workflow
--- PASS: TestMerge3Way_Integration (0.00s)
    --- PASS: TestMerge3Way_Integration/full_merge_workflow (0.00s)
=== RUN   TestIsTombstone
=== RUN   TestIsTombstone/tombstone_status
=== RUN   TestIsTombstone/open_status
=== RUN   TestIsTombstone/closed_status
=== RUN   TestIsTombstone/in_progress_status
=== RUN   TestIsTombstone/empty_status
--- PASS: TestIsTombstone (0.00s)
    --- PASS: TestIsTombstone/tombstone_status (0.00s)
    --- PASS: TestIsTombstone/open_status (0.00s)
    --- PASS: TestIsTombstone/closed_status (0.00s)
    --- PASS: TestIsTombstone/in_progress_status (0.00s)
    --- PASS: TestIsTombstone/empty_status (0.00s)
=== RUN   TestMergeTombstones
=== RUN   TestMergeTombstones/left_deleted_later
=== RUN   TestMergeTombstones/right_deleted_later
=== RUN   TestMergeTombstones/same_timestamp_-_left_wins_(tie_breaker)
=== RUN   TestMergeTombstones/with_fractional_seconds
--- PASS: TestMergeTombstones (0.00s)
    --- PASS: TestMergeTombstones/left_deleted_later (0.00s)
    --- PASS: TestMergeTombstones/right_deleted_later (0.00s)
    --- PASS: TestMergeTombstones/same_timestamp_-_left_wins_(tie_breaker) (0.00s)
    --- PASS: TestMergeTombstones/with_fractional_seconds (0.00s)
=== RUN   TestMerge3Way_TombstoneVsLive
=== RUN   TestMerge3Way_TombstoneVsLive/recent_tombstone_in_left_wins_over_live_in_right
=== RUN   TestMerge3Way_TombstoneVsLive/recent_tombstone_in_right_wins_over_live_in_left
=== RUN   TestMerge3Way_TombstoneVsLive/expired_tombstone_in_left_loses_to_live_in_right_(resurrection)
=== RUN   TestMerge3Way_TombstoneVsLive/expired_tombstone_in_right_loses_to_live_in_left_(resurrection)
--- PASS: TestMerge3Way_TombstoneVsLive (0.00s)
    --- PASS: TestMerge3Way_TombstoneVsLive/recent_tombstone_in_left_wins_over_live_in_right (0.00s)
    --- PASS: TestMerge3Way_TombstoneVsLive/recent_tombstone_in_right_wins_over_live_in_left (0.00s)
    --- PASS: TestMerge3Way_TombstoneVsLive/expired_tombstone_in_left_loses_to_live_in_right_(resurrection) (0.00s)
    --- PASS: TestMerge3Way_TombstoneVsLive/expired_tombstone_in_right_loses_to_live_in_left_(resurrection) (0.00s)
=== RUN   TestMerge3Way_TombstoneVsTombstone
=== RUN   TestMerge3Way_TombstoneVsTombstone/later_tombstone_wins
--- PASS: TestMerge3Way_TombstoneVsTombstone (0.00s)
    --- PASS: TestMerge3Way_TombstoneVsTombstone/later_tombstone_wins (0.00s)
=== RUN   TestMerge3Way_TombstoneNoBase
=== RUN   TestMerge3Way_TombstoneNoBase/tombstone_added_only_in_left
=== RUN   TestMerge3Way_TombstoneNoBase/tombstone_added_only_in_right
=== RUN   TestMerge3Way_TombstoneNoBase/tombstone_in_left_vs_live_in_right_(no_base)
--- PASS: TestMerge3Way_TombstoneNoBase (0.00s)
    --- PASS: TestMerge3Way_TombstoneNoBase/tombstone_added_only_in_left (0.00s)
    --- PASS: TestMerge3Way_TombstoneNoBase/tombstone_added_only_in_right (0.00s)
    --- PASS: TestMerge3Way_TombstoneNoBase/tombstone_in_left_vs_live_in_right_(no_base) (0.00s)
=== RUN   TestMerge3WayWithTTL
=== RUN   TestMerge3WayWithTTL/with_short_TTL_tombstone_is_expired
=== RUN   TestMerge3WayWithTTL/with_long_TTL_tombstone_is_not_expired
--- PASS: TestMerge3WayWithTTL (0.00s)
    --- PASS: TestMerge3WayWithTTL/with_short_TTL_tombstone_is_expired (0.00s)
    --- PASS: TestMerge3WayWithTTL/with_long_TTL_tombstone_is_not_expired (0.00s)
=== RUN   TestMergeStatus_Tombstone
=== RUN   TestMergeStatus_Tombstone/tombstone_in_left_wins_over_open_in_right
=== RUN   TestMergeStatus_Tombstone/tombstone_in_right_wins_over_open_in_left
=== RUN   TestMergeStatus_Tombstone/tombstone_in_left_wins_over_closed_in_right
=== RUN   TestMergeStatus_Tombstone/both_tombstone
--- PASS: TestMergeStatus_Tombstone (0.00s)
    --- PASS: TestMergeStatus_Tombstone/tombstone_in_left_wins_over_open_in_right (0.00s)
    --- PASS: TestMergeStatus_Tombstone/tombstone_in_right_wins_over_open_in_left (0.00s)
    --- PASS: TestMergeStatus_Tombstone/tombstone_in_left_wins_over_closed_in_right (0.00s)
    --- PASS: TestMergeStatus_Tombstone/both_tombstone (0.00s)
=== RUN   TestMerge3Way_TombstoneWithImplicitDeletion
=== RUN   TestMerge3Way_TombstoneWithImplicitDeletion/bd-ki14:_tombstone_in_left_preserved_when_right_implicitly_deleted
=== RUN   TestMerge3Way_TombstoneWithImplicitDeletion/bd-ki14:_tombstone_in_right_preserved_when_left_implicitly_deleted
=== RUN   TestMerge3Way_TombstoneWithImplicitDeletion/bd-ki14:_live_issue_in_left_still_deleted_when_right_implicitly_deleted
--- PASS: TestMerge3Way_TombstoneWithImplicitDeletion (0.00s)
    --- PASS: TestMerge3Way_TombstoneWithImplicitDeletion/bd-ki14:_tombstone_in_left_preserved_when_right_implicitly_deleted (0.00s)
    --- PASS: TestMerge3Way_TombstoneWithImplicitDeletion/bd-ki14:_tombstone_in_right_preserved_when_left_implicitly_deleted (0.00s)
    --- PASS: TestMerge3Way_TombstoneWithImplicitDeletion/bd-ki14:_live_issue_in_left_still_deleted_when_right_implicitly_deleted (0.00s)
=== RUN   TestMergeTombstones_EmptyDeletedAt
=== RUN   TestMergeTombstones_EmptyDeletedAt/bd-6x5:_both_empty_-_left_wins_as_tie-breaker
=== RUN   TestMergeTombstones_EmptyDeletedAt/bd-6x5:_left_empty,_right_valid_-_right_wins
=== RUN   TestMergeTombstones_EmptyDeletedAt/bd-6x5:_left_valid,_right_empty_-_left_wins
--- PASS: TestMergeTombstones_EmptyDeletedAt (0.00s)
    --- PASS: TestMergeTombstones_EmptyDeletedAt/bd-6x5:_both_empty_-_left_wins_as_tie-breaker (0.00s)
    --- PASS: TestMergeTombstones_EmptyDeletedAt/bd-6x5:_left_empty,_right_valid_-_right_wins (0.00s)
    --- PASS: TestMergeTombstones_EmptyDeletedAt/bd-6x5:_left_valid,_right_empty_-_left_wins (0.00s)
=== RUN   TestMergeIssue_TombstoneFields
=== RUN   TestMergeIssue_TombstoneFields/bd-1sn:_tombstone_fields_copied_from_left_when_tombstone_via_mergeStatus
=== RUN   TestMergeIssue_TombstoneFields/bd-1sn:_tombstone_fields_copied_from_right_when_it_has_later_deleted_at
--- PASS: TestMergeIssue_TombstoneFields (0.00s)
    --- PASS: TestMergeIssue_TombstoneFields/bd-1sn:_tombstone_fields_copied_from_left_when_tombstone_via_mergeStatus (0.00s)
    --- PASS: TestMergeIssue_TombstoneFields/bd-1sn:_tombstone_fields_copied_from_right_when_it_has_later_deleted_at (0.00s)
=== RUN   TestIsExpiredTombstone
=== RUN   TestIsExpiredTombstone/non-tombstone_returns_false
=== RUN   TestIsExpiredTombstone/closed_status_returns_false
=== RUN   TestIsExpiredTombstone/tombstone_with_empty_deleted_at_returns_false
=== RUN   TestIsExpiredTombstone/tombstone_with_invalid_timestamp_returns_false_(safety)
=== RUN   TestIsExpiredTombstone/tombstone_with_malformed_RFC3339_returns_false
=== RUN   TestIsExpiredTombstone/recent_tombstone_(within_TTL)_returns_false
=== RUN   TestIsExpiredTombstone/old_tombstone_(beyond_TTL)_returns_true
=== RUN   TestIsExpiredTombstone/tombstone_just_inside_TTL_boundary_(with_clock_skew_grace)_returns_false
=== RUN   TestIsExpiredTombstone/tombstone_just_past_TTL_boundary_(with_clock_skew_grace)_returns_true
=== RUN   TestIsExpiredTombstone/ttl=0_falls_back_to_DefaultTombstoneTTL_(30_days)
=== RUN   TestIsExpiredTombstone/ttl=0_with_old_tombstone_(beyond_default_TTL)_returns_true
=== RUN   TestIsExpiredTombstone/RFC3339Nano_format_is_supported
=== RUN   TestIsExpiredTombstone/very_short_TTL_(1_minute)_works_correctly
--- PASS: TestIsExpiredTombstone (0.00s)
    --- PASS: TestIsExpiredTombstone/non-tombstone_returns_false (0.00s)
    --- PASS: TestIsExpiredTombstone/closed_status_returns_false (0.00s)
    --- PASS: TestIsExpiredTombstone/tombstone_with_empty_deleted_at_returns_false (0.00s)
    --- PASS: TestIsExpiredTombstone/tombstone_with_invalid_timestamp_returns_false_(safety) (0.00s)
    --- PASS: TestIsExpiredTombstone/tombstone_with_malformed_RFC3339_returns_false (0.00s)
    --- PASS: TestIsExpiredTombstone/recent_tombstone_(within_TTL)_returns_false (0.00s)
    --- PASS: TestIsExpiredTombstone/old_tombstone_(beyond_TTL)_returns_true (0.00s)
    --- PASS: TestIsExpiredTombstone/tombstone_just_inside_TTL_boundary_(with_clock_skew_grace)_returns_false (0.00s)
    --- PASS: TestIsExpiredTombstone/tombstone_just_past_TTL_boundary_(with_clock_skew_grace)_returns_true (0.00s)
    --- PASS: TestIsExpiredTombstone/ttl=0_falls_back_to_DefaultTombstoneTTL_(30_days) (0.00s)
    --- PASS: TestIsExpiredTombstone/ttl=0_with_old_tombstone_(beyond_default_TTL)_returns_true (0.00s)
    --- PASS: TestIsExpiredTombstone/RFC3339Nano_format_is_supported (0.00s)
    --- PASS: TestIsExpiredTombstone/very_short_TTL_(1_minute)_works_correctly (0.00s)
=== RUN   TestMerge3Way_TombstoneBaseBothLiveResurrection
=== RUN   TestMerge3Way_TombstoneBaseBothLiveResurrection/both_sides_resurrect_with_different_content_-_standard_merge_applies
=== RUN   TestMerge3Way_TombstoneBaseBothLiveResurrection/both_resurrect_with_same_status_-_no_conflict
=== RUN   TestMerge3Way_TombstoneBaseBothLiveResurrection/one_side_closes_after_resurrection
--- PASS: TestMerge3Way_TombstoneBaseBothLiveResurrection (0.00s)
    --- PASS: TestMerge3Way_TombstoneBaseBothLiveResurrection/both_sides_resurrect_with_different_content_-_standard_merge_applies (0.00s)
    --- PASS: TestMerge3Way_TombstoneBaseBothLiveResurrection/both_resurrect_with_same_status_-_no_conflict (0.00s)
    --- PASS: TestMerge3Way_TombstoneBaseBothLiveResurrection/one_side_closes_after_resurrection (0.00s)
=== RUN   TestMerge3Way_TombstoneVsLiveTimestampPrecisionMismatch
=== RUN   TestMerge3Way_TombstoneVsLiveTimestampPrecisionMismatch/tombstone_wins_despite_different_CreatedAt_precision
=== RUN   TestMerge3Way_TombstoneVsLiveTimestampPrecisionMismatch/tombstone_wins_with_CreatedBy_mismatch
=== RUN   TestMerge3Way_TombstoneVsLiveTimestampPrecisionMismatch/no_duplicates_when_both_have_same_ID_but_different_keys
--- PASS: TestMerge3Way_TombstoneVsLiveTimestampPrecisionMismatch (0.00s)
    --- PASS: TestMerge3Way_TombstoneVsLiveTimestampPrecisionMismatch/tombstone_wins_despite_different_CreatedAt_precision (0.00s)
    --- PASS: TestMerge3Way_TombstoneVsLiveTimestampPrecisionMismatch/tombstone_wins_with_CreatedBy_mismatch (0.00s)
    --- PASS: TestMerge3Way_TombstoneVsLiveTimestampPrecisionMismatch/no_duplicates_when_both_have_same_ID_but_different_keys (0.00s)
PASS
ok  	github.com/steveyegge/beads/internal/merge	(cached)
=== RUN   TestDetermineTargetRepo
=== RUN   TestDetermineTargetRepo/explicit_override_takes_precedence
=== RUN   TestDetermineTargetRepo/auto_mode_-_maintainer_uses_maintainer_repo
=== RUN   TestDetermineTargetRepo/auto_mode_-_contributor_uses_contributor_repo
=== RUN   TestDetermineTargetRepo/explicit_mode_uses_default
=== RUN   TestDetermineTargetRepo/no_config_defaults_to_current_directory
--- PASS: TestDetermineTargetRepo (0.00s)
    --- PASS: TestDetermineTargetRepo/explicit_override_takes_precedence (0.00s)
    --- PASS: TestDetermineTargetRepo/auto_mode_-_maintainer_uses_maintainer_repo (0.00s)
    --- PASS: TestDetermineTargetRepo/auto_mode_-_contributor_uses_contributor_repo (0.00s)
    --- PASS: TestDetermineTargetRepo/explicit_mode_uses_default (0.00s)
    --- PASS: TestDetermineTargetRepo/no_config_defaults_to_current_directory (0.00s)
=== RUN   TestDetectUserRole_Fallback
--- PASS: TestDetectUserRole_Fallback (0.00s)
PASS
ok  	github.com/steveyegge/beads/internal/routing	(cached)
=== RUN   TestCleanupStaleDaemonArtifacts
=== RUN   TestCleanupStaleDaemonArtifacts/no_pid_file
=== RUN   TestCleanupStaleDaemonArtifacts/removes_pid_file
=== RUN   TestCleanupStaleDaemonArtifacts/permission_denied
--- PASS: TestCleanupStaleDaemonArtifacts (0.00s)
    --- PASS: TestCleanupStaleDaemonArtifacts/no_pid_file (0.00s)
    --- PASS: TestCleanupStaleDaemonArtifacts/removes_pid_file (0.00s)
    --- PASS: TestCleanupStaleDaemonArtifacts/permission_denied (0.00s)
=== RUN   TestTryConnectWithTimeout_SelfHeal
--- PASS: TestTryConnectWithTimeout_SelfHeal (0.00s)
=== RUN   TestTryConnectWithTimeout_SocketExistenceRecheck
--- PASS: TestTryConnectWithTimeout_SocketExistenceRecheck (0.00s)
=== RUN   TestSetTimeout
--- PASS: TestSetTimeout (0.32s)
=== RUN   TestShow
--- PASS: TestShow (0.06s)
=== RUN   TestReady
--- PASS: TestReady (0.06s)
=== RUN   TestStats
--- PASS: TestStats (0.07s)
=== RUN   TestAddDependency
[WARNING] Creating issue 'Issue 1' without description. Issues without descriptions lack context for future work.
[WARNING] Creating issue 'Issue 2' without description. Issues without descriptions lack context for future work.
--- PASS: TestAddDependency (0.07s)
=== RUN   TestRemoveDependency
[WARNING] Creating issue 'Issue 1' without description. Issues without descriptions lack context for future work.
[WARNING] Creating issue 'Issue 2' without description. Issues without descriptions lack context for future work.
--- PASS: TestRemoveDependency (0.07s)
=== RUN   TestAddLabel
--- PASS: TestAddLabel (0.05s)
=== RUN   TestRemoveLabel
--- PASS: TestRemoveLabel (0.06s)
=== RUN   TestBatch
Warning: Client request without database binding validation (old client or missing ExpectedDB)
[WARNING] Creating issue 'Batch 1' without description. Issues without descriptions lack context for future work.
--- PASS: TestBatch (0.08s)
=== RUN   TestEpicStatus
[WARNING] Creating issue 'Subtask' without description. Issues without descriptions lack context for future work.
--- PASS: TestEpicStatus (0.07s)
=== RUN   TestDatabaseIsolation
    isolation_test.go:74: ✓ Successfully created and verified issue bd-5to in isolated test database
--- PASS: TestDatabaseIsolation (0.06s)
=== RUN   TestConnectionLimits
Warning: Client request without database binding validation (old client or missing ExpectedDB)
Warning: Client request without database binding validation (old client or missing ExpectedDB)
Warning: Client request without database binding validation (old client or missing ExpectedDB)
Warning: Client request without database binding validation (old client or missing ExpectedDB)
Warning: Client request without database binding validation (old client or missing ExpectedDB)
Warning: Client request without database binding validation (old client or missing ExpectedDB)
--- PASS: TestConnectionLimits (0.44s)
=== RUN   TestRequestTimeout
--- PASS: TestRequestTimeout (0.35s)
=== RUN   TestHealthResponseIncludesLimits
    limits_test.go:272: Health: 1/50 connections, 3 MB memory
--- PASS: TestHealthResponseIncludesLimits (0.16s)
=== RUN   TestListFiltersParity
[WARNING] Creating issue 'Fix login bug' without description. Issues without descriptions lack context for future work.
=== RUN   TestListFiltersParity/pattern_matching_-_title_contains
=== RUN   TestListFiltersParity/pattern_matching_-_description_contains
=== RUN   TestListFiltersParity/pattern_matching_-_notes_contains
=== RUN   TestListFiltersParity/empty_description_check
=== RUN   TestListFiltersParity/no_assignee_check
=== RUN   TestListFiltersParity/no_labels_check
=== RUN   TestListFiltersParity/priority_range_-_min
=== RUN   TestListFiltersParity/priority_range_-_max
=== RUN   TestListFiltersParity/priority_range_-_both
=== RUN   TestListFiltersParity/date_range_-_created_after_(recent)
=== RUN   TestListFiltersParity/date_range_-_created_before_(future)
=== RUN   TestListFiltersParity/complex_combination_-_security_issues_without_assignee
--- PASS: TestListFiltersParity (0.14s)
    --- PASS: TestListFiltersParity/pattern_matching_-_title_contains (0.00s)
    --- PASS: TestListFiltersParity/pattern_matching_-_description_contains (0.00s)
    --- PASS: TestListFiltersParity/pattern_matching_-_notes_contains (0.00s)
    --- PASS: TestListFiltersParity/empty_description_check (0.00s)
    --- PASS: TestListFiltersParity/no_assignee_check (0.00s)
    --- PASS: TestListFiltersParity/no_labels_check (0.00s)
    --- PASS: TestListFiltersParity/priority_range_-_min (0.00s)
    --- PASS: TestListFiltersParity/priority_range_-_max (0.00s)
    --- PASS: TestListFiltersParity/priority_range_-_both (0.00s)
    --- PASS: TestListFiltersParity/date_range_-_created_after_(recent) (0.01s)
    --- PASS: TestListFiltersParity/date_range_-_created_before_(future) (0.01s)
    --- PASS: TestListFiltersParity/complex_combination_-_security_issues_without_assignee (0.00s)
=== RUN   TestListFiltersDateParsing
=== RUN   TestListFiltersDateParsing/valid_format_RFC3339
=== RUN   TestListFiltersDateParsing/valid_format_RFC3339Nano
=== RUN   TestListFiltersDateParsing/valid_format_YYYY-MM-DD
=== RUN   TestListFiltersDateParsing/invalid_format_\x00
=== RUN   TestListFiltersDateParsing/invalid_format_\x01
--- PASS: TestListFiltersDateParsing (0.06s)
    --- PASS: TestListFiltersDateParsing/valid_format_RFC3339 (0.00s)
    --- PASS: TestListFiltersDateParsing/valid_format_RFC3339Nano (0.00s)
    --- PASS: TestListFiltersDateParsing/valid_format_YYYY-MM-DD (0.00s)
    --- PASS: TestListFiltersDateParsing/invalid_format_\x00 (0.00s)
    --- PASS: TestListFiltersDateParsing/invalid_format_\x01 (0.00s)
=== RUN   TestListFiltersStatusNormalization
--- PASS: TestListFiltersStatusNormalization (0.09s)
=== RUN   TestListFiltersBackwardCompat
--- PASS: TestListFiltersBackwardCompat (0.07s)
=== RUN   TestMetricsRecording
=== RUN   TestMetricsRecording/record_request
=== RUN   TestMetricsRecording/record_error
=== RUN   TestMetricsRecording/record_connection
=== RUN   TestMetricsRecording/record_rejected_connection
--- PASS: TestMetricsRecording (0.00s)
    --- PASS: TestMetricsRecording/record_request (0.00s)
    --- PASS: TestMetricsRecording/record_error (0.00s)
    --- PASS: TestMetricsRecording/record_connection (0.00s)
    --- PASS: TestMetricsRecording/record_rejected_connection (0.00s)
=== RUN   TestMetricsSnapshot
=== RUN   TestMetricsSnapshot/basic_metrics
=== RUN   TestMetricsSnapshot/operation_metrics
=== RUN   TestMetricsSnapshot/latency_stats
=== RUN   TestMetricsSnapshot/uptime
=== RUN   TestMetricsSnapshot/memory_stats
--- PASS: TestMetricsSnapshot (0.00s)
    --- PASS: TestMetricsSnapshot/basic_metrics (0.00s)
    --- PASS: TestMetricsSnapshot/operation_metrics (0.00s)
    --- PASS: TestMetricsSnapshot/latency_stats (0.00s)
    --- PASS: TestMetricsSnapshot/uptime (0.00s)
    --- PASS: TestMetricsSnapshot/memory_stats (0.00s)
=== RUN   TestCalculateLatencyStats
=== RUN   TestCalculateLatencyStats/empty_samples
=== RUN   TestCalculateLatencyStats/single_sample
=== RUN   TestCalculateLatencyStats/multiple_samples
--- PASS: TestCalculateLatencyStats (0.00s)
    --- PASS: TestCalculateLatencyStats/empty_samples (0.00s)
    --- PASS: TestCalculateLatencyStats/single_sample (0.00s)
    --- PASS: TestCalculateLatencyStats/multiple_samples (0.00s)
=== RUN   TestLatencySampleBounding
--- PASS: TestLatencySampleBounding (0.00s)
=== RUN   TestMinHelper
--- PASS: TestMinHelper (0.00s)
=== RUN   TestRequestSerialization
--- PASS: TestRequestSerialization (0.00s)
=== RUN   TestResponseSerialization
--- PASS: TestResponseSerialization (0.00s)
=== RUN   TestErrorResponse
--- PASS: TestErrorResponse (0.00s)
=== RUN   TestAllOperations
--- PASS: TestAllOperations (0.00s)
=== RUN   TestUpdateArgsWithNilValues
--- PASS: TestUpdateArgsWithNilValues (0.00s)
=== RUN   TestPing
--- PASS: TestPing (0.05s)
=== RUN   TestCreateIssue
--- PASS: TestCreateIssue (0.06s)
=== RUN   TestUpdateIssue
[WARNING] Creating issue 'Original Title' without description. Issues without descriptions lack context for future work.
--- PASS: TestUpdateIssue (0.06s)
=== RUN   TestCloseIssue
[WARNING] Creating issue 'Issue to Close' without description. Issues without descriptions lack context for future work.
--- PASS: TestCloseIssue (0.07s)
=== RUN   TestListIssues
--- PASS: TestListIssues (0.07s)
=== RUN   TestSocketCleanup
--- PASS: TestSocketCleanup (0.04s)
=== RUN   TestConcurrentRequests
Warning: Client request without database binding validation (old client or missing ExpectedDB)
[WARNING] Creating issue 'Concurrent Issue' without description. Issues without descriptions lack context for future work.
Warning: Client request without database binding validation (old client or missing ExpectedDB)
Warning: Client request without database binding validation (old client or missing ExpectedDB)
[WARNING] Creating issue 'Concurrent Issue' without description. Issues without descriptions lack context for future work.
Warning: Client request without database binding validation (old client or missing ExpectedDB)
[WARNING] Creating issue 'Concurrent Issue' without description. Issues without descriptions lack context for future work.
[WARNING] Creating issue 'Concurrent Issue' without description. Issues without descriptions lack context for future work.
Warning: Client request without database binding validation (old client or missing ExpectedDB)
[WARNING] Creating issue 'Concurrent Issue' without description. Issues without descriptions lack context for future work.
--- PASS: TestConcurrentRequests (0.07s)
=== RUN   TestDatabaseHandshake
Warning: Client request without database binding validation (old client or missing ExpectedDB)
--- PASS: TestDatabaseHandshake (0.29s)
=== RUN   TestCreate_WithParent
[WARNING] Creating issue 'Parent Epic' without description. Issues without descriptions lack context for future work.
[WARNING] Creating issue 'Child Task' without description. Issues without descriptions lack context for future work.
[WARNING] Creating issue 'Second Child Task' without description. Issues without descriptions lack context for future work.
--- PASS: TestCreate_WithParent (0.07s)
=== RUN   TestCreate_WithParentAndIDConflict
[WARNING] Creating issue 'Parent Epic' without description. Issues without descriptions lack context for future work.
--- PASS: TestCreate_WithParentAndIDConflict (0.05s)
=== RUN   TestCreate_DiscoveredFromInheritsSourceRepo
[WARNING] Creating issue 'Parent issue' without description. Issues without descriptions lack context for future work.
[WARNING] Creating issue 'Discovered bug' without description. Issues without descriptions lack context for future work.
--- PASS: TestCreate_DiscoveredFromInheritsSourceRepo (0.07s)
=== RUN   TestRPCCreateWithExternalRef
--- PASS: TestRPCCreateWithExternalRef (0.05s)
=== RUN   TestRPCUpdateWithExternalRef
--- PASS: TestRPCUpdateWithExternalRef (0.06s)
=== RUN   TestEmitMutation
--- PASS: TestEmitMutation (0.00s)
=== RUN   TestGetRecentMutations_EmptyBuffer
--- PASS: TestGetRecentMutations_EmptyBuffer (0.00s)
=== RUN   TestGetRecentMutations_TimestampFiltering
--- PASS: TestGetRecentMutations_TimestampFiltering (0.02s)
=== RUN   TestGetRecentMutations_CircularBuffer
--- PASS: TestGetRecentMutations_CircularBuffer (0.17s)
=== RUN   TestGetRecentMutations_ConcurrentAccess
--- PASS: TestGetRecentMutations_ConcurrentAccess (0.06s)
=== RUN   TestHandleGetMutations
--- PASS: TestHandleGetMutations (0.02s)
=== RUN   TestHandleGetMutations_InvalidArgs
--- PASS: TestHandleGetMutations_InvalidArgs (0.00s)
=== RUN   TestMutationEventTypes
--- PASS: TestMutationEventTypes (0.00s)
=== RUN   TestMutationTimestamps
--- PASS: TestMutationTimestamps (0.00s)
=== RUN   TestEmitMutation_NonBlocking
--- PASS: TestEmitMutation_NonBlocking (0.00s)
=== RUN   TestHandleDelete_EmitsMutation
--- PASS: TestHandleDelete_EmitsMutation (0.00s)
=== RUN   TestHandleDelete_BatchEmitsMutations
--- PASS: TestHandleDelete_BatchEmitsMutations (0.00s)
=== RUN   TestStatusEndpoint
Warning: Client request without database binding validation (old client or missing ExpectedDB)
--- PASS: TestStatusEndpoint (0.04s)
=== RUN   TestStatusEndpointWithConfig
Warning: Client request without database binding validation (old client or missing ExpectedDB)
--- PASS: TestStatusEndpointWithConfig (0.04s)
=== RUN   TestStatusEndpointLocalMode
Warning: Client request without database binding validation (old client or missing ExpectedDB)
--- PASS: TestStatusEndpointLocalMode (0.04s)
=== RUN   TestStatusEndpointDefaultConfig
Warning: Client request without database binding validation (old client or missing ExpectedDB)
--- PASS: TestStatusEndpointDefaultConfig (0.04s)
=== RUN   TestSetConfigConcurrency
Warning: Client request without database binding validation (old client or missing ExpectedDB)
    status_test.go:312: Final config: AutoCommit=true, AutoPush=true, LocalMode=true
--- PASS: TestSetConfigConcurrency (0.04s)
PASS
ok  	github.com/steveyegge/beads/internal/rpc	(cached)
?   	github.com/steveyegge/beads/internal/storage	[no test files]
=== RUN   TestHyphenatedPrefix
--- PASS: TestHyphenatedPrefix (0.00s)
=== RUN   TestLoadHyphenatedIssues
--- PASS: TestLoadHyphenatedIssues (0.00s)
=== RUN   TestCreateIssue
--- PASS: TestCreateIssue (0.00s)
=== RUN   TestCreateIssueValidation
=== RUN   TestCreateIssueValidation/valid_issue
=== RUN   TestCreateIssueValidation/missing_title
=== RUN   TestCreateIssueValidation/invalid_priority
=== RUN   TestCreateIssueValidation/invalid_status
--- PASS: TestCreateIssueValidation (0.00s)
    --- PASS: TestCreateIssueValidation/valid_issue (0.00s)
    --- PASS: TestCreateIssueValidation/missing_title (0.00s)
    --- PASS: TestCreateIssueValidation/invalid_priority (0.00s)
    --- PASS: TestCreateIssueValidation/invalid_status (0.00s)
=== RUN   TestGetIssue
--- PASS: TestGetIssue (0.00s)
=== RUN   TestGetIssueNotFound
--- PASS: TestGetIssueNotFound (0.00s)
=== RUN   TestCreateIssues
=== RUN   TestCreateIssues/empty_batch
=== RUN   TestCreateIssues/single_issue
=== RUN   TestCreateIssues/multiple_issues
=== RUN   TestCreateIssues/validation_error_-_missing_title
=== RUN   TestCreateIssues/duplicate_ID_within_batch_error
--- PASS: TestCreateIssues (0.00s)
    --- PASS: TestCreateIssues/empty_batch (0.00s)
    --- PASS: TestCreateIssues/single_issue (0.00s)
    --- PASS: TestCreateIssues/multiple_issues (0.00s)
    --- PASS: TestCreateIssues/validation_error_-_missing_title (0.00s)
    --- PASS: TestCreateIssues/duplicate_ID_within_batch_error (0.00s)
=== RUN   TestUpdateIssue
--- PASS: TestUpdateIssue (0.00s)
=== RUN   TestCloseIssue
--- PASS: TestCloseIssue (0.00s)
=== RUN   TestSearchIssues
=== RUN   TestSearchIssues/all_issues
=== RUN   TestSearchIssues/search_by_title
=== RUN   TestSearchIssues/filter_by_status
=== RUN   TestSearchIssues/filter_by_priority
=== RUN   TestSearchIssues/filter_by_type
--- PASS: TestSearchIssues (0.00s)
    --- PASS: TestSearchIssues/all_issues (0.00s)
    --- PASS: TestSearchIssues/search_by_title (0.00s)
    --- PASS: TestSearchIssues/filter_by_status (0.00s)
    --- PASS: TestSearchIssues/filter_by_priority (0.00s)
    --- PASS: TestSearchIssues/filter_by_type (0.00s)
=== RUN   TestDependencies
--- PASS: TestDependencies (0.00s)
=== RUN   TestLabels
--- PASS: TestLabels (0.00s)
=== RUN   TestComments
--- PASS: TestComments (0.00s)
=== RUN   TestLoadFromIssues
--- PASS: TestLoadFromIssues (0.00s)
=== RUN   TestGetAllIssues
--- PASS: TestGetAllIssues (0.00s)
=== RUN   TestDirtyTracking
--- PASS: TestDirtyTracking (0.00s)
=== RUN   TestStatistics
--- PASS: TestStatistics (0.00s)
=== RUN   TestConfigOperations
--- PASS: TestConfigOperations (0.00s)
=== RUN   TestMetadataOperations
--- PASS: TestMetadataOperations (0.00s)
=== RUN   TestThreadSafety
--- PASS: TestThreadSafety (0.00s)
=== RUN   TestClose
--- PASS: TestClose (0.00s)
=== RUN   TestGetIssueByExternalRef
--- PASS: TestGetIssueByExternalRef (0.00s)
=== RUN   TestGetIssueByExternalRefLoadFromIssues
--- PASS: TestGetIssueByExternalRefLoadFromIssues (0.00s)
=== RUN   TestLoadFromIssues_InitializesChildCounters
--- PASS: TestLoadFromIssues_InitializesChildCounters (0.00s)
=== RUN   TestGetReadyWork_ExcludesIssuesWithOpenBlocksDependencies
--- PASS: TestGetReadyWork_ExcludesIssuesWithOpenBlocksDependencies (0.00s)
=== RUN   TestGetBlockedIssues_IncludesExplicitlyBlockedStatus
--- PASS: TestGetBlockedIssues_IncludesExplicitlyBlockedStatus (0.00s)
PASS
ok  	github.com/steveyegge/beads/internal/storage/memory	(cached)
=== RUN   TestCollisionProbability
--- PASS: TestCollisionProbability (0.00s)
=== RUN   TestComputeAdaptiveLength
=== RUN   TestComputeAdaptiveLength/tiny_database_uses_3_chars
=== RUN   TestComputeAdaptiveLength/small_database_uses_4_chars
=== RUN   TestComputeAdaptiveLength/medium_database_uses_5_chars
=== RUN   TestComputeAdaptiveLength/large_database_uses_6_chars
=== RUN   TestComputeAdaptiveLength/very_large_database_uses_7_chars
=== RUN   TestComputeAdaptiveLength/custom_threshold_-_stricter
=== RUN   TestComputeAdaptiveLength/custom_threshold_-_more_lenient
--- PASS: TestComputeAdaptiveLength (0.00s)
    --- PASS: TestComputeAdaptiveLength/tiny_database_uses_3_chars (0.00s)
    --- PASS: TestComputeAdaptiveLength/small_database_uses_4_chars (0.00s)
    --- PASS: TestComputeAdaptiveLength/medium_database_uses_5_chars (0.00s)
    --- PASS: TestComputeAdaptiveLength/large_database_uses_6_chars (0.00s)
    --- PASS: TestComputeAdaptiveLength/very_large_database_uses_7_chars (0.00s)
    --- PASS: TestComputeAdaptiveLength/custom_threshold_-_stricter (0.00s)
    --- PASS: TestComputeAdaptiveLength/custom_threshold_-_more_lenient (0.00s)
=== RUN   TestGenerateHashID_VariableLengths
=== RUN   TestGenerateHashID_VariableLengths/length_3
=== RUN   TestGenerateHashID_VariableLengths/length_4
=== RUN   TestGenerateHashID_VariableLengths/length_5
=== RUN   TestGenerateHashID_VariableLengths/length_6
=== RUN   TestGenerateHashID_VariableLengths/length_7
=== RUN   TestGenerateHashID_VariableLengths/length_8
--- PASS: TestGenerateHashID_VariableLengths (0.00s)
    --- PASS: TestGenerateHashID_VariableLengths/length_3 (0.00s)
    --- PASS: TestGenerateHashID_VariableLengths/length_4 (0.00s)
    --- PASS: TestGenerateHashID_VariableLengths/length_5 (0.00s)
    --- PASS: TestGenerateHashID_VariableLengths/length_6 (0.00s)
    --- PASS: TestGenerateHashID_VariableLengths/length_7 (0.00s)
    --- PASS: TestGenerateHashID_VariableLengths/length_8 (0.00s)
=== RUN   TestGetAdaptiveIDLength_Integration
--- PASS: TestGetAdaptiveIDLength_Integration (0.36s)
=== RUN   TestValidateBatchIssues
=== RUN   TestValidateBatchIssues/validates_all_issues_in_batch
=== RUN   TestValidateBatchIssues/preserves_provided_timestamps
=== RUN   TestValidateBatchIssues/rejects_nil_issue
=== RUN   TestValidateBatchIssues/rejects_invalid_issue
--- PASS: TestValidateBatchIssues (0.00s)
    --- PASS: TestValidateBatchIssues/validates_all_issues_in_batch (0.00s)
    --- PASS: TestValidateBatchIssues/preserves_provided_timestamps (0.00s)
    --- PASS: TestValidateBatchIssues/rejects_nil_issue (0.00s)
    --- PASS: TestValidateBatchIssues/rejects_invalid_issue (0.00s)
=== RUN   TestBatchCreateIssues
=== RUN   TestBatchCreateIssues/creates_multiple_issues_atomically
=== RUN   TestBatchCreateIssues/rolls_back_on_validation_error
=== RUN   TestBatchCreateIssues/handles_empty_batch
=== RUN   TestBatchCreateIssues/handles_explicit_IDs
=== RUN   TestBatchCreateIssues/handles_mix_of_explicit_and_generated_IDs
=== RUN   TestBatchCreateIssues/rejects_wrong_prefix
=== RUN   TestBatchCreateIssues/marks_issues_dirty
=== RUN   TestBatchCreateIssues/sets_content_hash
--- PASS: TestBatchCreateIssues (0.06s)
    --- PASS: TestBatchCreateIssues/creates_multiple_issues_atomically (0.01s)
    --- PASS: TestBatchCreateIssues/rolls_back_on_validation_error (0.00s)
    --- PASS: TestBatchCreateIssues/handles_empty_batch (0.00s)
    --- PASS: TestBatchCreateIssues/handles_explicit_IDs (0.00s)
    --- PASS: TestBatchCreateIssues/handles_mix_of_explicit_and_generated_IDs (0.00s)
    --- PASS: TestBatchCreateIssues/rejects_wrong_prefix (0.00s)
    --- PASS: TestBatchCreateIssues/marks_issues_dirty (0.00s)
    --- PASS: TestBatchCreateIssues/sets_content_hash (0.00s)
=== RUN   TestGenerateBatchIDs
=== RUN   TestGenerateBatchIDs/generates_unique_IDs_for_batch
=== RUN   TestGenerateBatchIDs/validates_explicit_IDs_match_prefix
=== RUN   TestGenerateBatchIDs/skips_prefix_validation_when_flag_is_set
--- PASS: TestGenerateBatchIDs (0.04s)
    --- PASS: TestGenerateBatchIDs/generates_unique_IDs_for_batch (0.00s)
    --- PASS: TestGenerateBatchIDs/validates_explicit_IDs_match_prefix (0.00s)
    --- PASS: TestGenerateBatchIDs/skips_prefix_validation_when_flag_is_set (0.00s)
=== RUN   TestBulkOperations
=== RUN   TestBulkOperations/bulkInsertIssues
=== RUN   TestBulkOperations/bulkRecordEvents
=== RUN   TestBulkOperations/bulkMarkDirty
--- PASS: TestBulkOperations (0.05s)
    --- PASS: TestBulkOperations/bulkInsertIssues (0.01s)
    --- PASS: TestBulkOperations/bulkRecordEvents (0.00s)
    --- PASS: TestBulkOperations/bulkMarkDirty (0.00s)
=== RUN   TestDefensiveClosedAtFix
=== RUN   TestDefensiveClosedAtFix/sets_closed_at_for_closed_issues_missing_it
=== RUN   TestDefensiveClosedAtFix/preserves_existing_closed_at
=== RUN   TestDefensiveClosedAtFix/does_not_set_closed_at_for_open_issues
=== RUN   TestDefensiveClosedAtFix/sets_deleted_at_for_tombstones_missing_it
--- PASS: TestDefensiveClosedAtFix (0.00s)
    --- PASS: TestDefensiveClosedAtFix/sets_closed_at_for_closed_issues_missing_it (0.00s)
    --- PASS: TestDefensiveClosedAtFix/preserves_existing_closed_at (0.00s)
    --- PASS: TestDefensiveClosedAtFix/does_not_set_closed_at_for_open_issues (0.00s)
    --- PASS: TestDefensiveClosedAtFix/sets_deleted_at_for_tombstones_missing_it (0.00s)
=== RUN   TestBatchGetLabelsAndComments
--- PASS: TestBatchGetLabelsAndComments (0.04s)
=== RUN   TestBatchGetEmptyIssueIDs
--- PASS: TestBatchGetEmptyIssueIDs (0.03s)
=== RUN   TestCacheInvalidationOnDependencyAdd
--- PASS: TestCacheInvalidationOnDependencyAdd (0.04s)
=== RUN   TestCacheInvalidationOnDependencyRemove
--- PASS: TestCacheInvalidationOnDependencyRemove (0.06s)
=== RUN   TestCacheInvalidationOnStatusChange
--- PASS: TestCacheInvalidationOnStatusChange (0.05s)
=== RUN   TestCacheConsistencyAcrossOperations
--- PASS: TestCacheConsistencyAcrossOperations (0.05s)
=== RUN   TestParentChildTransitiveBlocking
--- PASS: TestParentChildTransitiveBlocking (0.05s)
=== RUN   TestRelatedDepsDoNotAffectCache
--- PASS: TestRelatedDepsDoNotAffectCache (0.05s)
=== RUN   TestDeepHierarchyCacheCorrectness
--- PASS: TestDeepHierarchyCacheCorrectness (0.06s)
=== RUN   TestMultipleBlockersInCache
--- PASS: TestMultipleBlockersInCache (0.05s)
=== RUN   TestMigrateChildCountersTable
=== RUN   TestMigrateChildCountersTable/creates_child_counters_table_if_not_exists
=== RUN   TestMigrateChildCountersTable/is_idempotent
=== RUN   TestMigrateChildCountersTable/has_ON_DELETE_CASCADE_constraint
--- PASS: TestMigrateChildCountersTable (0.08s)
    --- PASS: TestMigrateChildCountersTable/creates_child_counters_table_if_not_exists (0.01s)
    --- PASS: TestMigrateChildCountersTable/is_idempotent (0.03s)
    --- PASS: TestMigrateChildCountersTable/has_ON_DELETE_CASCADE_constraint (0.04s)
=== RUN   TestChildCountersTableExists
--- PASS: TestChildCountersTableExists (0.04s)
=== RUN   TestGetNextChildNumber
--- PASS: TestGetNextChildNumber (0.04s)
=== RUN   TestGetNextChildNumber_DifferentParents
--- PASS: TestGetNextChildNumber_DifferentParents (0.04s)
=== RUN   TestGetNextChildNumber_Concurrent
--- PASS: TestGetNextChildNumber_Concurrent (0.04s)
=== RUN   TestGetNextChildNumber_NestedHierarchy
--- PASS: TestGetNextChildNumber_NestedHierarchy (0.04s)
=== RUN   TestGetNextChildID
--- PASS: TestGetNextChildID (0.04s)
=== RUN   TestGetNextChildID_ParentNotExists
--- PASS: TestGetNextChildID_ParentNotExists (0.04s)
=== RUN   TestCreateIssue_HierarchicalID
--- PASS: TestCreateIssue_HierarchicalID (0.04s)
=== RUN   TestCreateIssue_HierarchicalID_ParentNotExists
--- PASS: TestCreateIssue_HierarchicalID_ParentNotExists (0.04s)
=== RUN   TestGetNextChildID_ResurrectParent
--- PASS: TestGetNextChildID_ResurrectParent (0.05s)
=== RUN   TestGetNextChildID_ResurrectParent_NotInJSONL
--- PASS: TestGetNextChildID_ResurrectParent_NotInJSONL (0.04s)
=== RUN   TestGetNextChildID_ResurrectParent_NoJSONL
--- PASS: TestGetNextChildID_ResurrectParent_NoJSONL (0.04s)
=== RUN   TestGetNextChildID_ResurrectParent_MalformedJSONL
--- PASS: TestGetNextChildID_ResurrectParent_MalformedJSONL (0.04s)
=== RUN   TestGetNextChildID_ResurrectParentChain
--- PASS: TestGetNextChildID_ResurrectParentChain (0.04s)
=== RUN   TestDetectCollisions
=== RUN   TestDetectCollisions/exact_match_-_idempotent
=== RUN   TestDetectCollisions/collision_-_different_title
=== RUN   TestDetectCollisions/collision_-_multiple_fields
=== RUN   TestDetectCollisions/new_issue
=== RUN   TestDetectCollisions/mixed_-_exact,_collision,_and_new
--- PASS: TestDetectCollisions (0.02s)
    --- PASS: TestDetectCollisions/exact_match_-_idempotent (0.00s)
    --- PASS: TestDetectCollisions/collision_-_different_title (0.00s)
    --- PASS: TestDetectCollisions/collision_-_multiple_fields (0.00s)
    --- PASS: TestDetectCollisions/new_issue (0.00s)
    --- PASS: TestDetectCollisions/mixed_-_exact,_collision,_and_new (0.00s)
=== RUN   TestCompareIssues
=== RUN   TestCompareIssues/identical_issues
=== RUN   TestCompareIssues/different_title
=== RUN   TestCompareIssues/different_description
=== RUN   TestCompareIssues/different_status
=== RUN   TestCompareIssues/different_priority
=== RUN   TestCompareIssues/different_assignee
=== RUN   TestCompareIssues/multiple_differences
--- PASS: TestCompareIssues (0.00s)
    --- PASS: TestCompareIssues/identical_issues (0.00s)
    --- PASS: TestCompareIssues/different_title (0.00s)
    --- PASS: TestCompareIssues/different_description (0.00s)
    --- PASS: TestCompareIssues/different_status (0.00s)
    --- PASS: TestCompareIssues/different_priority (0.00s)
    --- PASS: TestCompareIssues/different_assignee (0.00s)
    --- PASS: TestCompareIssues/multiple_differences (0.00s)
=== RUN   TestHashIssueContent
--- PASS: TestHashIssueContent (0.00s)
=== RUN   TestHashIssueContentWithExternalRef
--- PASS: TestHashIssueContentWithExternalRef (0.00s)
=== RUN   TestAddIssueComment
--- PASS: TestAddIssueComment (0.05s)
=== RUN   TestAddIssueCommentNonexistentIssue
--- PASS: TestAddIssueCommentNonexistentIssue (0.04s)
=== RUN   TestGetIssueComments
--- PASS: TestGetIssueComments (0.04s)
=== RUN   TestGetIssueCommentsOrdering
--- PASS: TestGetIssueCommentsOrdering (0.04s)
=== RUN   TestGetIssueCommentsEmpty
--- PASS: TestGetIssueCommentsEmpty (0.04s)
=== RUN   TestGetIssueCommentsNonexistentIssue
--- PASS: TestGetIssueCommentsNonexistentIssue (0.03s)
=== RUN   TestAddIssueCommentEmptyText
--- PASS: TestAddIssueCommentEmptyText (0.04s)
=== RUN   TestAddIssueCommentMarksDirty
--- PASS: TestAddIssueCommentMarksDirty (0.04s)
=== RUN   TestGetIssueCommentsMultipleIssues
--- PASS: TestGetIssueCommentsMultipleIssues (0.04s)
=== RUN   TestGetTier1Candidates
--- PASS: TestGetTier1Candidates (0.05s)
=== RUN   TestGetTier2Candidates
--- PASS: TestGetTier2Candidates (0.13s)
=== RUN   TestCheckEligibilityTier1
--- PASS: TestCheckEligibilityTier1 (0.04s)
=== RUN   TestCheckEligibilityOpenIssue
--- PASS: TestCheckEligibilityOpenIssue (0.04s)
=== RUN   TestCheckEligibilityAlreadyCompacted
--- PASS: TestCheckEligibilityAlreadyCompacted (0.04s)
=== RUN   TestTier1NoCircularDeps
--- PASS: TestTier1NoCircularDeps (0.04s)
=== RUN   TestApplyCompaction
--- PASS: TestApplyCompaction (0.04s)
=== RUN   TestApplyCompactionNotFound
--- PASS: TestApplyCompactionNotFound (0.04s)
=== RUN   TestDetectCyclesSimple
--- PASS: TestDetectCyclesSimple (0.05s)
=== RUN   TestDetectCyclesComplex
--- PASS: TestDetectCyclesComplex (0.06s)
=== RUN   TestDetectCyclesSelfLoop
--- PASS: TestDetectCyclesSelfLoop (2.76s)
=== RUN   TestDetectCyclesMultipleIndependent
--- PASS: TestDetectCyclesMultipleIndependent (0.05s)
=== RUN   TestDetectCyclesAcyclicGraph
--- PASS: TestDetectCyclesAcyclicGraph (0.05s)
=== RUN   TestDetectCyclesEmptyGraph
--- PASS: TestDetectCyclesEmptyGraph (0.04s)
=== RUN   TestDetectCyclesSingleNode
--- PASS: TestDetectCyclesSingleNode (0.04s)
=== RUN   TestDetectCyclesDiamond
--- PASS: TestDetectCyclesDiamond (0.05s)
=== RUN   TestDetectCyclesLongCycle
--- PASS: TestDetectCyclesLongCycle (0.11s)
=== RUN   TestDetectCyclesMixedTypes
--- PASS: TestDetectCyclesMixedTypes (0.05s)
=== RUN   TestDeleteIssues
=== RUN   TestDeleteIssues/delete_non-existent_issue
=== RUN   TestDeleteIssues/delete_with_dependents_-_should_fail_without_force_or_cascade
=== RUN   TestDeleteIssues/delete_with_cascade_-_should_delete_all_dependents
=== RUN   TestDeleteIssues/delete_with_force_-_should_orphan_dependents
=== RUN   TestDeleteIssues/dry_run_-_should_not_delete
=== RUN   TestDeleteIssues/delete_multiple_issues_at_once
--- PASS: TestDeleteIssues (0.17s)
    --- PASS: TestDeleteIssues/delete_non-existent_issue (0.03s)
    --- PASS: TestDeleteIssues/delete_with_dependents_-_should_fail_without_force_or_cascade (0.02s)
    --- PASS: TestDeleteIssues/delete_with_cascade_-_should_delete_all_dependents (0.03s)
    --- PASS: TestDeleteIssues/delete_with_force_-_should_orphan_dependents (0.03s)
    --- PASS: TestDeleteIssues/dry_run_-_should_not_delete (0.02s)
    --- PASS: TestDeleteIssues/delete_multiple_issues_at_once (0.03s)
=== RUN   TestDeleteIssue
--- PASS: TestDeleteIssue (0.03s)
=== RUN   TestBuildIDSet
--- PASS: TestBuildIDSet (0.00s)
=== RUN   TestBuildSQLInClause
--- PASS: TestBuildSQLInClause (0.00s)
=== RUN   TestAddDependency
--- PASS: TestAddDependency (0.04s)
=== RUN   TestAddDependencyDiscoveredFrom
--- PASS: TestAddDependencyDiscoveredFrom (0.05s)
=== RUN   TestParentChildValidation
--- PASS: TestParentChildValidation (0.05s)
=== RUN   TestRemoveDependency
--- PASS: TestRemoveDependency (0.04s)
=== RUN   TestAddDependencyPreservesProvidedMetadata
--- PASS: TestAddDependencyPreservesProvidedMetadata (0.05s)
=== RUN   TestGetDependents
--- PASS: TestGetDependents (0.05s)
=== RUN   TestGetDependencyTree
--- PASS: TestGetDependencyTree (0.05s)
=== RUN   TestGetDependencyTree_TruncationDepth
--- PASS: TestGetDependencyTree_TruncationDepth (0.06s)
=== RUN   TestGetDependencyTree_DefaultDepth
--- PASS: TestGetDependencyTree_DefaultDepth (0.04s)
=== RUN   TestGetDependencyTree_MaxDepthOne
--- PASS: TestGetDependencyTree_MaxDepthOne (0.05s)
=== RUN   TestDetectCycles
--- PASS: TestDetectCycles (0.05s)
=== RUN   TestNoCyclesDetected
--- PASS: TestNoCyclesDetected (0.04s)
=== RUN   TestCrossTypeCyclePrevention
--- PASS: TestCrossTypeCyclePrevention (0.05s)
=== RUN   TestCrossTypeCyclePreventionDiscoveredFrom
--- PASS: TestCrossTypeCyclePreventionDiscoveredFrom (0.04s)
=== RUN   TestSelfDependencyPrevention
--- PASS: TestSelfDependencyPrevention (0.04s)
=== RUN   TestRelatedTypeCyclePrevention
--- PASS: TestRelatedTypeCyclePrevention (0.04s)
=== RUN   TestMixedTypeRelatedCyclePrevention
--- PASS: TestMixedTypeRelatedCyclePrevention (0.04s)
=== RUN   TestCrossTypeCyclePreventionThreeIssues
--- PASS: TestCrossTypeCyclePreventionThreeIssues (0.05s)
=== RUN   TestGetDependencyTree_Reverse
--- PASS: TestGetDependencyTree_Reverse (0.05s)
=== RUN   TestGetDependencyTree_SubstringBug
--- PASS: TestGetDependencyTree_SubstringBug (0.07s)
=== RUN   TestGetDependencyCounts
--- PASS: TestGetDependencyCounts (0.05s)
=== RUN   TestGetDependencyCountsEmpty
--- PASS: TestGetDependencyCountsEmpty (0.03s)
=== RUN   TestGetDependencyCountsNonexistent
--- PASS: TestGetDependencyCountsNonexistent (0.04s)
=== RUN   TestGetDependenciesWithMetadata
--- PASS: TestGetDependenciesWithMetadata (0.05s)
=== RUN   TestGetDependentsWithMetadata
--- PASS: TestGetDependentsWithMetadata (0.05s)
=== RUN   TestGetDependenciesWithMetadataEmpty
--- PASS: TestGetDependenciesWithMetadataEmpty (0.04s)
=== RUN   TestGetDependenciesWithMetadataMultipleTypes
--- PASS: TestGetDependenciesWithMetadataMultipleTypes (0.05s)
=== RUN   TestMarkIssueDirty
--- PASS: TestMarkIssueDirty (0.04s)
=== RUN   TestMarkIssuesDirty
--- PASS: TestMarkIssuesDirty (0.04s)
=== RUN   TestMarkIssuesDirtyEmpty
--- PASS: TestMarkIssuesDirtyEmpty (0.04s)
=== RUN   TestGetDirtyIssueCount
--- PASS: TestGetDirtyIssueCount (0.04s)
=== RUN   TestClearDirtyIssuesByID
--- PASS: TestClearDirtyIssuesByID (0.06s)
=== RUN   TestClearDirtyIssuesByIDEmpty
--- PASS: TestClearDirtyIssuesByIDEmpty (0.04s)
=== RUN   TestDirtyIssuesOrdering
--- PASS: TestDirtyIssuesOrdering (0.08s)
=== RUN   TestDirtyIssuesUpdateTimestamp
--- PASS: TestDirtyIssuesUpdateTimestamp (0.09s)
=== RUN   TestGetEpicsEligibleForClosure
--- PASS: TestGetEpicsEligibleForClosure (0.05s)
=== RUN   TestGetEpicsEligibleForClosureWithNoChildren
--- PASS: TestGetEpicsEligibleForClosureWithNoChildren (0.04s)
=== RUN   TestWrapDBError
=== RUN   TestWrapDBError/nil_error_returns_nil
=== RUN   TestWrapDBError/sql.ErrNoRows_converted_to_ErrNotFound
=== RUN   TestWrapDBError/generic_error_wrapped_with_context
=== RUN   TestWrapDBError/already_wrapped_error_preserved
--- PASS: TestWrapDBError (0.00s)
    --- PASS: TestWrapDBError/nil_error_returns_nil (0.00s)
    --- PASS: TestWrapDBError/sql.ErrNoRows_converted_to_ErrNotFound (0.00s)
    --- PASS: TestWrapDBError/generic_error_wrapped_with_context (0.00s)
    --- PASS: TestWrapDBError/already_wrapped_error_preserved (0.00s)
=== RUN   TestWrapDBErrorf
=== RUN   TestWrapDBErrorf/nil_error_returns_nil
=== RUN   TestWrapDBErrorf/sql.ErrNoRows_converted_to_ErrNotFound_with_formatting
=== RUN   TestWrapDBErrorf/generic_error_with_formatted_context
=== RUN   TestWrapDBErrorf/multiple_format_args
--- PASS: TestWrapDBErrorf (0.00s)
    --- PASS: TestWrapDBErrorf/nil_error_returns_nil (0.00s)
    --- PASS: TestWrapDBErrorf/sql.ErrNoRows_converted_to_ErrNotFound_with_formatting (0.00s)
    --- PASS: TestWrapDBErrorf/generic_error_with_formatted_context (0.00s)
    --- PASS: TestWrapDBErrorf/multiple_format_args (0.00s)
=== RUN   TestSentinelErrors
=== RUN   TestSentinelErrors/ErrNotFound_detected_by_IsNotFound
=== RUN   TestSentinelErrors/wrapped_ErrNotFound_detected
=== RUN   TestSentinelErrors/other_error_not_detected_as_ErrNotFound
=== RUN   TestSentinelErrors/ErrConflict_detected_by_IsConflict
=== RUN   TestSentinelErrors/wrapped_ErrConflict_detected
=== RUN   TestSentinelErrors/ErrCycle_detected_by_IsCycle
=== RUN   TestSentinelErrors/wrapped_ErrCycle_detected
--- PASS: TestSentinelErrors (0.00s)
    --- PASS: TestSentinelErrors/ErrNotFound_detected_by_IsNotFound (0.00s)
    --- PASS: TestSentinelErrors/wrapped_ErrNotFound_detected (0.00s)
    --- PASS: TestSentinelErrors/other_error_not_detected_as_ErrNotFound (0.00s)
    --- PASS: TestSentinelErrors/ErrConflict_detected_by_IsConflict (0.00s)
    --- PASS: TestSentinelErrors/wrapped_ErrConflict_detected (0.00s)
    --- PASS: TestSentinelErrors/ErrCycle_detected_by_IsCycle (0.00s)
    --- PASS: TestSentinelErrors/wrapped_ErrCycle_detected (0.00s)
=== RUN   TestErrorChaining
--- PASS: TestErrorChaining (0.00s)
=== RUN   TestSQLErrNoRowsConversion
--- PASS: TestSQLErrNoRowsConversion (0.00s)
=== RUN   TestAddComment
--- PASS: TestAddComment (0.04s)
=== RUN   TestAddMultipleComments
--- PASS: TestAddMultipleComments (0.04s)
=== RUN   TestGetEventsWithLimit
--- PASS: TestGetEventsWithLimit (0.04s)
=== RUN   TestGetEventsEmpty
--- PASS: TestGetEventsEmpty (0.04s)
=== RUN   TestAddCommentMarksDirty
--- PASS: TestAddCommentMarksDirty (0.04s)
=== RUN   TestAddCommentUpdatesTimestamp
--- PASS: TestAddCommentUpdatesTimestamp (0.04s)
=== RUN   TestEventTypesInHistory
--- PASS: TestEventTypesInHistory (0.05s)
=== RUN   TestAddCommentNotFound
--- PASS: TestAddCommentNotFound (0.04s)
=== RUN   TestGetIssueByExternalRef
--- PASS: TestGetIssueByExternalRef (0.04s)
=== RUN   TestGetIssueByExternalRefNotFound
--- PASS: TestGetIssueByExternalRefNotFound (0.04s)
=== RUN   TestDetectCollisionsWithExternalRef
--- PASS: TestDetectCollisionsWithExternalRef (0.04s)
=== RUN   TestDetectCollisionsExternalRefPriorityOverID
--- PASS: TestDetectCollisionsExternalRefPriorityOverID (0.04s)
=== RUN   TestDetectCollisionsNoExternalRef
--- PASS: TestDetectCollisionsNoExternalRef (0.04s)
=== RUN   TestExternalRefIndex
--- PASS: TestExternalRefIndex (0.04s)
=== RUN   TestExternalRefIndexUsage
--- PASS: TestExternalRefIndexUsage (0.04s)
=== RUN   TestExternalInsertDetection
--- PASS: TestExternalInsertDetection (0.04s)
=== RUN   TestExternalUpdateDetection
--- PASS: TestExternalUpdateDetection (0.06s)
=== RUN   TestExternalDeleteDetection
--- PASS: TestExternalDeleteDetection (0.04s)
=== RUN   TestDataVersionChanges
--- PASS: TestDataVersionChanges (0.04s)
=== RUN   TestDetectionTiming
--- PASS: TestDetectionTiming (0.04s)
=== RUN   TestSameConnectionStaleness
--- PASS: TestSameConnectionStaleness (0.04s)
=== RUN   TestPooledConnectionStaleness
--- PASS: TestPooledConnectionStaleness (0.05s)
=== RUN   TestDatabaseFileReplacement
    freshness_test.go:461: Branch issue ID: bd-3rj
    freshness_test.go:468: Branch issue verified in branch store: Branch Issue
    freshness_test.go:483: Branch issue verified in branch db after close
    freshness_test.go:490: Before replacement: daemon db=4096 bytes, branch db=221184 bytes, inode=262665
    freshness_test.go:505: Read 221184 bytes from branch db
    freshness_test.go:519: Atomically replaced daemon db (via rename)
    freshness_test.go:523: Inode changed: 262665 -> 262670 (should be different!)
    freshness_test.go:546: SUCCESS: Branch issue visible in replaced db via independent connection
    freshness_test.go:562: DB file after replacement: mtime=2025-12-19 01:26:58.199077115 +0000 UTC size=221184
    freshness_test.go:566: Freshness checker enabled: true
    freshness_test.go:568: Freshness tracked state: inode=262665, mtime=2025-12-19 01:26:58.119056363 +0000 UTC, size=4096
    freshness_test.go:571: Current file state: mtime=2025-12-19 01:26:58.199077115 +0000 UTC, size=221184
--- PASS: TestDatabaseFileReplacement (0.21s)
=== RUN   TestBranchMergeNoErroneousDeletion
    freshness_test.go:679: Created issue A on main: bd-wnw
    freshness_test.go:721: Created issue B on branch: bd-8qj
    freshness_test.go:737: Daemon sees 1 issue(s) before merge
    freshness_test.go:764: Merge simulation: inode 262665 -> 262670
    freshness_test.go:776: Issue A visible after merge: Issue A (existed on main)
    freshness_test.go:783: Issue B visible after merge: Issue B (created on branch)
    freshness_test.go:787: Daemon sees 2 issue(s) after merge
--- PASS: TestBranchMergeNoErroneousDeletion (0.20s)
=== RUN   TestRelatesTo
--- PASS: TestRelatesTo (0.04s)
=== RUN   TestRelatesTo_MultipleLinks
--- PASS: TestRelatesTo_MultipleLinks (0.05s)
=== RUN   TestDuplicateOf
--- PASS: TestDuplicateOf (0.04s)
=== RUN   TestSupersededBy
--- PASS: TestSupersededBy (0.05s)
=== RUN   TestRepliesTo
--- PASS: TestRepliesTo (0.04s)
=== RUN   TestRepliesTo_Chain
--- PASS: TestRepliesTo_Chain (0.04s)
=== RUN   TestEphemeralField
--- PASS: TestEphemeralField (0.04s)
=== RUN   TestEphemeralFilter
--- PASS: TestEphemeralFilter (0.05s)
=== RUN   TestSenderField
--- PASS: TestSenderField (0.04s)
=== RUN   TestMessageType
--- PASS: TestMessageType (0.04s)
=== RUN   TestHashIDGeneration
--- PASS: TestHashIDGeneration (0.03s)
=== RUN   TestHashIDDeterministic
--- PASS: TestHashIDDeterministic (0.00s)
=== RUN   TestHashIDCollisionHandling
--- PASS: TestHashIDCollisionHandling (0.02s)
=== RUN   TestHashIDBatchCreation
--- PASS: TestHashIDBatchCreation (0.02s)
=== RUN   TestIsHierarchicalID
=== RUN   TestIsHierarchicalID/simple_child_.1
=== RUN   TestIsHierarchicalID/child_.2
=== RUN   TestIsHierarchicalID/multi-digit_child_.10
=== RUN   TestIsHierarchicalID/large_child_number_.999
=== RUN   TestIsHierarchicalID/nested_hierarchical
=== RUN   TestIsHierarchicalID/simple_top-level
=== RUN   TestIsHierarchicalID/no_dot_at_all
=== RUN   TestIsHierarchicalID/prefix_with_dot_-_my.project
=== RUN   TestIsHierarchicalID/prefix_with_multiple_dots
=== RUN   TestIsHierarchicalID/prefix_with_dot_AND_hierarchical_child
=== RUN   TestIsHierarchicalID/complex_prefix_with_hierarchical
=== RUN   TestIsHierarchicalID/dot_but_non-numeric_suffix
=== RUN   TestIsHierarchicalID/mixed_suffix_(starts_with_digit)
=== RUN   TestIsHierarchicalID/trailing_dot_only
=== RUN   TestIsHierarchicalID/empty_after_dot
=== RUN   TestIsHierarchicalID/child_0
--- PASS: TestIsHierarchicalID (0.00s)
    --- PASS: TestIsHierarchicalID/simple_child_.1 (0.00s)
    --- PASS: TestIsHierarchicalID/child_.2 (0.00s)
    --- PASS: TestIsHierarchicalID/multi-digit_child_.10 (0.00s)
    --- PASS: TestIsHierarchicalID/large_child_number_.999 (0.00s)
    --- PASS: TestIsHierarchicalID/nested_hierarchical (0.00s)
    --- PASS: TestIsHierarchicalID/simple_top-level (0.00s)
    --- PASS: TestIsHierarchicalID/no_dot_at_all (0.00s)
    --- PASS: TestIsHierarchicalID/prefix_with_dot_-_my.project (0.00s)
    --- PASS: TestIsHierarchicalID/prefix_with_multiple_dots (0.00s)
    --- PASS: TestIsHierarchicalID/prefix_with_dot_AND_hierarchical_child (0.00s)
    --- PASS: TestIsHierarchicalID/complex_prefix_with_hierarchical (0.00s)
    --- PASS: TestIsHierarchicalID/dot_but_non-numeric_suffix (0.00s)
    --- PASS: TestIsHierarchicalID/mixed_suffix_(starts_with_digit) (0.00s)
    --- PASS: TestIsHierarchicalID/trailing_dot_only (0.00s)
    --- PASS: TestIsHierarchicalID/empty_after_dot (0.00s)
    --- PASS: TestIsHierarchicalID/child_0 (0.00s)
=== RUN   TestAddLabel
--- PASS: TestAddLabel (0.04s)
=== RUN   TestAddMultipleLabels
--- PASS: TestAddMultipleLabels (0.04s)
=== RUN   TestAddDuplicateLabel
--- PASS: TestAddDuplicateLabel (0.04s)
=== RUN   TestRemoveLabel
--- PASS: TestRemoveLabel (0.05s)
=== RUN   TestRemoveNonexistentLabel
--- PASS: TestRemoveNonexistentLabel (0.04s)
=== RUN   TestGetLabelsEmpty
--- PASS: TestGetLabelsEmpty (0.04s)
=== RUN   TestGetIssuesByLabel
--- PASS: TestGetIssuesByLabel (0.04s)
=== RUN   TestGetIssuesByLabelEmpty
--- PASS: TestGetIssuesByLabelEmpty (0.03s)
=== RUN   TestLabelMarksDirty
--- PASS: TestLabelMarksDirty (0.04s)
=== RUN   TestCaptureSnapshot
--- PASS: TestCaptureSnapshot (0.02s)
=== RUN   TestCheckRequiredConfig
--- PASS: TestCheckRequiredConfig (0.02s)
=== RUN   TestCheckForeignKeys
--- PASS: TestCheckForeignKeys (0.02s)
=== RUN   TestCheckIssueCount
--- PASS: TestCheckIssueCount (0.02s)
=== RUN   TestVerifyInvariants
--- PASS: TestVerifyInvariants (0.02s)
=== RUN   TestGetInvariantNames
--- PASS: TestGetInvariantNames (0.00s)
=== RUN   TestMigrateDirtyIssuesTable
=== RUN   TestMigrateDirtyIssuesTable/creates_dirty_issues_table_if_not_exists
=== RUN   TestMigrateDirtyIssuesTable/adds_content_hash_column_to_existing_table
--- PASS: TestMigrateDirtyIssuesTable (0.07s)
    --- PASS: TestMigrateDirtyIssuesTable/creates_dirty_issues_table_if_not_exists (0.04s)
    --- PASS: TestMigrateDirtyIssuesTable/adds_content_hash_column_to_existing_table (0.04s)
=== RUN   TestMigrateExternalRefColumn
--- PASS: TestMigrateExternalRefColumn (0.04s)
=== RUN   TestMigrateCompositeIndexes
--- PASS: TestMigrateCompositeIndexes (0.04s)
=== RUN   TestMigrateClosedAtConstraint
--- PASS: TestMigrateClosedAtConstraint (0.04s)
=== RUN   TestMigrateCompactionColumns
--- PASS: TestMigrateCompactionColumns (0.05s)
=== RUN   TestMigrateSnapshotsTable
--- PASS: TestMigrateSnapshotsTable (0.04s)
=== RUN   TestMigrateCompactionConfig
--- PASS: TestMigrateCompactionConfig (0.04s)
=== RUN   TestMigrateCompactedAtCommitColumn
--- PASS: TestMigrateCompactedAtCommitColumn (0.04s)
=== RUN   TestMigrateExportHashesTable
--- PASS: TestMigrateExportHashesTable (0.04s)
=== RUN   TestMigrateExternalRefUnique
=== RUN   TestMigrateExternalRefUnique/creates_unique_index_on_external_ref
=== RUN   TestMigrateExternalRefUnique/fails_if_duplicates_exist
--- PASS: TestMigrateExternalRefUnique (0.08s)
    --- PASS: TestMigrateExternalRefUnique/creates_unique_index_on_external_ref (0.04s)
    --- PASS: TestMigrateExternalRefUnique/fails_if_duplicates_exist (0.04s)
=== RUN   TestMigrateRepoMtimesTable
=== RUN   TestMigrateRepoMtimesTable/creates_repo_mtimes_table_if_not_exists
=== RUN   TestMigrateRepoMtimesTable/is_idempotent
--- PASS: TestMigrateRepoMtimesTable (0.09s)
    --- PASS: TestMigrateRepoMtimesTable/creates_repo_mtimes_table_if_not_exists (0.04s)
    --- PASS: TestMigrateRepoMtimesTable/is_idempotent (0.05s)
=== RUN   TestMigrateContentHashColumn
=== RUN   TestMigrateContentHashColumn/adds_content_hash_column_if_missing
=== RUN   TestMigrateContentHashColumn/populates_content_hash_for_existing_issues
--- PASS: TestMigrateContentHashColumn (0.09s)
    --- PASS: TestMigrateContentHashColumn/adds_content_hash_column_if_missing (0.03s)
    --- PASS: TestMigrateContentHashColumn/populates_content_hash_for_existing_issues (0.06s)
=== RUN   TestMigrateOrphanDetection
=== RUN   TestMigrateOrphanDetection/detects_orphaned_child_issues
2025/12/19 01:27:00 ⚠️  Orphan Detection: Found 1 orphaned child issue(s):
2025/12/19 01:27:00   - bd-missing.1
2025/12/19 01:27:00
These issues have hierarchical IDs but their parent issues no longer exist.
2025/12/19 01:27:00 You can:
2025/12/19 01:27:00   1. Delete them if no longer needed: bd delete <issue-id>
2025/12/19 01:27:00   2. Convert to top-level issues by exporting and reimporting with new IDs
2025/12/19 01:27:00   3. Restore the missing parent issues
=== RUN   TestMigrateOrphanDetection/no_orphans_found_in_clean_database
=== RUN   TestMigrateOrphanDetection/is_idempotent
=== RUN   TestMigrateOrphanDetection/prefix_with_dots_is_not_flagged_as_orphan
--- PASS: TestMigrateOrphanDetection (0.16s)
    --- PASS: TestMigrateOrphanDetection/detects_orphaned_child_issues (0.04s)
    --- PASS: TestMigrateOrphanDetection/no_orphans_found_in_clean_database (0.05s)
    --- PASS: TestMigrateOrphanDetection/is_idempotent (0.04s)
    --- PASS: TestMigrateOrphanDetection/prefix_with_dots_is_not_flagged_as_orphan (0.04s)
=== RUN   TestExpandTilde
=== RUN   TestExpandTilde/no_tilde
=== RUN   TestExpandTilde/tilde_alone
=== RUN   TestExpandTilde/tilde_with_path
=== RUN   TestExpandTilde/relative_path
--- PASS: TestExpandTilde (0.00s)
    --- PASS: TestExpandTilde/no_tilde (0.00s)
    --- PASS: TestExpandTilde/tilde_alone (0.00s)
    --- PASS: TestExpandTilde/tilde_with_path (0.00s)
    --- PASS: TestExpandTilde/relative_path (0.00s)
=== RUN   TestHydrateFromMultiRepo
=== RUN   TestHydrateFromMultiRepo/single-repo_mode_returns_nil
=== RUN   TestHydrateFromMultiRepo/hydrates_from_primary_repo
=== RUN   TestHydrateFromMultiRepo/uses_mtime_caching_to_skip_unchanged_files
=== RUN   TestHydrateFromMultiRepo/imports_additional_repos
--- PASS: TestHydrateFromMultiRepo (0.17s)
    --- PASS: TestHydrateFromMultiRepo/single-repo_mode_returns_nil (0.04s)
    --- PASS: TestHydrateFromMultiRepo/hydrates_from_primary_repo (0.04s)
    --- PASS: TestHydrateFromMultiRepo/uses_mtime_caching_to_skip_unchanged_files (0.05s)
    --- PASS: TestHydrateFromMultiRepo/imports_additional_repos (0.04s)
=== RUN   TestImportJSONLFile
=== RUN   TestImportJSONLFile/imports_issues_with_dependencies_and_labels
--- PASS: TestImportJSONLFile (0.05s)
    --- PASS: TestImportJSONLFile/imports_issues_with_dependencies_and_labels (0.05s)
=== RUN   TestImportJSONLFileOutOfOrderDeps
=== RUN   TestImportJSONLFileOutOfOrderDeps/handles_out-of-order_dependencies
=== RUN   TestImportJSONLFileOutOfOrderDeps/detects_orphaned_dependencies_in_corrupted_data
--- PASS: TestImportJSONLFileOutOfOrderDeps (0.08s)
    --- PASS: TestImportJSONLFileOutOfOrderDeps/handles_out-of-order_dependencies (0.05s)
    --- PASS: TestImportJSONLFileOutOfOrderDeps/detects_orphaned_dependencies_in_corrupted_data (0.04s)
=== RUN   TestExportToMultiRepo
=== RUN   TestExportToMultiRepo/returns_nil_in_single-repo_mode
=== RUN   TestExportToMultiRepo/exports_issues_to_correct_repos
--- PASS: TestExportToMultiRepo (0.08s)
    --- PASS: TestExportToMultiRepo/returns_nil_in_single-repo_mode (0.04s)
    --- PASS: TestExportToMultiRepo/exports_issues_to_correct_repos (0.04s)
=== RUN   TestOrphanHandling_Strict
--- PASS: TestOrphanHandling_Strict (0.04s)
=== RUN   TestOrphanHandling_Resurrect
--- PASS: TestOrphanHandling_Resurrect (0.04s)
=== RUN   TestOrphanHandling_Skip
--- PASS: TestOrphanHandling_Skip (0.04s)
=== RUN   TestOrphanHandling_Allow
--- PASS: TestOrphanHandling_Allow (0.04s)
=== RUN   TestOrphanHandling_Config
=== RUN   TestOrphanHandling_Config/strict_mode
=== RUN   TestOrphanHandling_Config/resurrect_mode
=== RUN   TestOrphanHandling_Config/skip_mode
=== RUN   TestOrphanHandling_Config/allow_mode
=== RUN   TestOrphanHandling_Config/empty_defaults_to_allow
=== RUN   TestOrphanHandling_Config/invalid_defaults_to_allow
--- PASS: TestOrphanHandling_Config (0.04s)
    --- PASS: TestOrphanHandling_Config/strict_mode (0.00s)
    --- PASS: TestOrphanHandling_Config/resurrect_mode (0.00s)
    --- PASS: TestOrphanHandling_Config/skip_mode (0.00s)
    --- PASS: TestOrphanHandling_Config/allow_mode (0.00s)
    --- PASS: TestOrphanHandling_Config/empty_defaults_to_allow (0.00s)
    --- PASS: TestOrphanHandling_Config/invalid_defaults_to_allow (0.00s)
=== RUN   TestOrphanHandling_PrefixWithDots
--- PASS: TestOrphanHandling_PrefixWithDots (0.04s)
=== RUN   TestOrphanHandling_PrefixWithDotsAndChild
--- PASS: TestOrphanHandling_PrefixWithDotsAndChild (0.05s)
=== RUN   TestOrphanHandling_PrefixWithDotsOrphanChild
--- PASS: TestOrphanHandling_PrefixWithDotsOrphanChild (0.04s)
=== RUN   TestOrphanHandling_NonHierarchical
=== RUN   TestOrphanHandling_NonHierarchical/strict
=== RUN   TestOrphanHandling_NonHierarchical/resurrect
=== RUN   TestOrphanHandling_NonHierarchical/skip
=== RUN   TestOrphanHandling_NonHierarchical/allow
--- PASS: TestOrphanHandling_NonHierarchical (0.04s)
    --- PASS: TestOrphanHandling_NonHierarchical/strict (0.00s)
    --- PASS: TestOrphanHandling_NonHierarchical/resurrect (0.00s)
    --- PASS: TestOrphanHandling_NonHierarchical/skip (0.00s)
    --- PASS: TestOrphanHandling_NonHierarchical/allow (0.00s)
=== RUN   TestPrefixValidation
=== RUN   TestPrefixValidation/valid_prefix_-_matches
=== RUN   TestPrefixValidation/invalid_prefix_-_wrong_prefix
=== RUN   TestPrefixValidation/invalid_prefix_-_no_dash
=== RUN   TestPrefixValidation/invalid_prefix_-_empty
--- PASS: TestPrefixValidation (0.04s)
    --- PASS: TestPrefixValidation/valid_prefix_-_matches (0.00s)
    --- PASS: TestPrefixValidation/invalid_prefix_-_wrong_prefix (0.00s)
    --- PASS: TestPrefixValidation/invalid_prefix_-_no_dash (0.00s)
    --- PASS: TestPrefixValidation/invalid_prefix_-_empty (0.00s)
=== RUN   TestPrefixValidationBatch
=== RUN   TestPrefixValidationBatch/all_valid_prefixes
=== RUN   TestPrefixValidationBatch/one_invalid_prefix_in_batch
=== RUN   TestPrefixValidationBatch/mixed_auto-generated_and_explicit
=== RUN   TestPrefixValidationBatch/mixed_with_invalid_prefix
--- PASS: TestPrefixValidationBatch (0.04s)
    --- PASS: TestPrefixValidationBatch/all_valid_prefixes (0.00s)
    --- PASS: TestPrefixValidationBatch/one_invalid_prefix_in_batch (0.00s)
    --- PASS: TestPrefixValidationBatch/mixed_auto-generated_and_explicit (0.00s)
    --- PASS: TestPrefixValidationBatch/mixed_with_invalid_prefix (0.00s)
=== RUN   TestGetReadyWork
--- PASS: TestGetReadyWork (0.05s)
=== RUN   TestGetReadyWorkPriorityOrder
--- PASS: TestGetReadyWorkPriorityOrder (0.05s)
=== RUN   TestGetReadyWorkWithPriorityFilter
--- PASS: TestGetReadyWorkWithPriorityFilter (0.04s)
=== RUN   TestGetReadyWorkWithAssigneeFilter
--- PASS: TestGetReadyWorkWithAssigneeFilter (0.04s)
=== RUN   TestGetReadyWorkWithUnassignedFilter
--- PASS: TestGetReadyWorkWithUnassignedFilter (0.05s)
=== RUN   TestGetReadyWorkWithLimit
--- PASS: TestGetReadyWorkWithLimit (0.05s)
=== RUN   TestGetReadyWorkIgnoresRelatedDeps
--- PASS: TestGetReadyWorkIgnoresRelatedDeps (0.05s)
=== RUN   TestGetBlockedIssues
--- PASS: TestGetBlockedIssues (0.05s)
=== RUN   TestParentBlockerBlocksChildren
--- PASS: TestParentBlockerBlocksChildren (0.05s)
=== RUN   TestGrandparentBlockerBlocksGrandchildren
--- PASS: TestGrandparentBlockerBlocksGrandchildren (0.06s)
=== RUN   TestMultipleParentsOneBlocked
--- PASS: TestMultipleParentsOneBlocked (0.06s)
=== RUN   TestBlockerClosedUnblocksChildren
--- PASS: TestBlockerClosedUnblocksChildren (0.05s)
=== RUN   TestRelatedDoesNotPropagate
--- PASS: TestRelatedDoesNotPropagate (0.05s)
=== RUN   TestCompositeIndexExists
--- PASS: TestCompositeIndexExists (0.04s)
=== RUN   TestReadyIssuesViewMatchesGetReadyWork
--- PASS: TestReadyIssuesViewMatchesGetReadyWork (0.05s)
=== RUN   TestDeepHierarchyBlocking
--- PASS: TestDeepHierarchyBlocking (0.29s)
=== RUN   TestGetReadyWorkIncludesInProgress
--- PASS: TestGetReadyWorkIncludesInProgress (0.06s)
=== RUN   TestExplainQueryPlanReadyWork
    ready_test.go:935: Query plan:
    ready_test.go:937:   0: SEARCH i USING INDEX idx_issues_status (status=?)
    ready_test.go:937:   1: CORRELATED SCALAR SUBQUERY 4
    ready_test.go:937:   2: CO-ROUTINE blocked_transitively
    ready_test.go:937:   3: SETUP
    ready_test.go:937:   4: CO-ROUTINE blocked_directly
    ready_test.go:937:   5: SEARCH blocker USING INDEX idx_issues_status (status=?)
    ready_test.go:937:   6: SEARCH d USING COVERING INDEX idx_dependencies_depends_on_type_issue (depends_on_id=? AND type=?)
    ready_test.go:937:   7: USE TEMP B-TREE FOR DISTINCT
    ready_test.go:937:   8: SCAN blocked_directly
    ready_test.go:937:   9: RECURSIVE STEP
    ready_test.go:937:   10: SCAN bt
    ready_test.go:937:   11: SEARCH d USING COVERING INDEX idx_dependencies_depends_on_type_issue (depends_on_id=? AND type=?)
    ready_test.go:937:   12: SEARCH blocked_transitively USING AUTOMATIC COVERING INDEX (issue_id=?)
    ready_test.go:937:   13: USE TEMP B-TREE FOR ORDER BY
--- PASS: TestExplainQueryPlanReadyWork (0.05s)
=== RUN   TestSortPolicyPriority
--- PASS: TestSortPolicyPriority (0.05s)
=== RUN   TestSortPolicyOldest
--- PASS: TestSortPolicyOldest (0.04s)
=== RUN   TestSortPolicyHybrid
--- PASS: TestSortPolicyHybrid (0.04s)
=== RUN   TestSortPolicyDefault
--- PASS: TestSortPolicyDefault (0.04s)
=== RUN   TestTryResurrectParent_AlreadyExists
--- PASS: TestTryResurrectParent_AlreadyExists (0.04s)
=== RUN   TestTryResurrectParent_FoundInJSONL
--- PASS: TestTryResurrectParent_FoundInJSONL (0.04s)
=== RUN   TestTryResurrectParent_NotFoundInJSONL
--- PASS: TestTryResurrectParent_NotFoundInJSONL (0.04s)
=== RUN   TestTryResurrectParent_NoJSONLFile
--- PASS: TestTryResurrectParent_NoJSONLFile (0.04s)
=== RUN   TestTryResurrectParent_MalformedJSONL
Warning: skipping malformed JSONL line 2: unexpected end of JSON input
--- PASS: TestTryResurrectParent_MalformedJSONL (0.04s)
=== RUN   TestTryResurrectParent_WithDependencies
--- PASS: TestTryResurrectParent_WithDependencies (0.04s)
=== RUN   TestTryResurrectParentChain_MultiLevel
--- PASS: TestTryResurrectParentChain_MultiLevel (0.04s)
=== RUN   TestTryResurrectParentChain_PartialChainMissing
--- PASS: TestTryResurrectParentChain_PartialChainMissing (0.04s)
=== RUN   TestExtractParentChain
=== RUN   TestExtractParentChain/top-level_ID
=== RUN   TestExtractParentChain/one_level_deep
=== RUN   TestExtractParentChain/two_levels_deep
=== RUN   TestExtractParentChain/three_levels_deep
--- PASS: TestExtractParentChain (0.00s)
    --- PASS: TestExtractParentChain/top-level_ID (0.00s)
    --- PASS: TestExtractParentChain/one_level_deep (0.00s)
    --- PASS: TestExtractParentChain/two_levels_deep (0.00s)
    --- PASS: TestExtractParentChain/three_levels_deep (0.00s)
=== RUN   TestTryResurrectParent_Idempotent
--- PASS: TestTryResurrectParent_Idempotent (0.04s)
=== RUN   TestTryResurrectParent_MultipleVersionsInJSONL
--- PASS: TestTryResurrectParent_MultipleVersionsInJSONL (0.06s)
=== RUN   TestProbeSchema_AllTablesPresent
--- PASS: TestProbeSchema_AllTablesPresent (0.02s)
=== RUN   TestProbeSchema_MissingTable
--- PASS: TestProbeSchema_MissingTable (0.00s)
=== RUN   TestProbeSchema_MissingColumn
--- PASS: TestProbeSchema_MissingColumn (0.01s)
=== RUN   TestVerifySchemaCompatibility
--- PASS: TestVerifySchemaCompatibility (0.02s)
=== RUN   TestVerifySchemaCompatibility_Incompatible
    schema_probe_test.go:205: got error: database schema is incompatible: missing tables: config, metadata, dirty_issues, export_hashes, child_counters, issue_snapshots, comments, events, compaction_snapshots, repo_mtimes, dependencies, labels; missing columns in issues: description, design, acceptance_criteria, notes, status, priority, issue_type, assignee, estimated_minutes, created_at, updated_at, closed_at, content_hash, external_ref, compaction_level, compacted_at, compacted_at_commit, original_size
--- PASS: TestVerifySchemaCompatibility_Incompatible (0.00s)
=== RUN   TestCreateIssue
--- PASS: TestCreateIssue (0.04s)
=== RUN   TestCreateIssueValidation
=== RUN   TestCreateIssueValidation/valid_issue
=== RUN   TestCreateIssueValidation/missing_title
=== RUN   TestCreateIssueValidation/invalid_priority
=== RUN   TestCreateIssueValidation/invalid_status
--- PASS: TestCreateIssueValidation (0.04s)
    --- PASS: TestCreateIssueValidation/valid_issue (0.00s)
    --- PASS: TestCreateIssueValidation/missing_title (0.00s)
    --- PASS: TestCreateIssueValidation/invalid_priority (0.00s)
    --- PASS: TestCreateIssueValidation/invalid_status (0.00s)
=== RUN   TestGetIssue
--- PASS: TestGetIssue (0.04s)
=== RUN   TestGetIssueNotFound
--- PASS: TestGetIssueNotFound (0.03s)
=== RUN   TestCreateIssues
=== RUN   TestCreateIssues/empty_batch
=== RUN   TestCreateIssues/single_issue
=== RUN   TestCreateIssues/multiple_issues
=== RUN   TestCreateIssues/mixed_ID_assignment_-_explicit_and_auto-generated
=== RUN   TestCreateIssues/validation_error_-_missing_title
=== RUN   TestCreateIssues/validation_error_-_invalid_priority
=== RUN   TestCreateIssues/validation_error_-_invalid_status
=== RUN   TestCreateIssues/duplicate_ID_error
=== RUN   TestCreateIssues/closed_at_invariant_-_open_status_with_closed_at
=== RUN   TestCreateIssues/closed_at_invariant_-_closed_status_without_closed_at_auto-sets_it_(GH#523)
=== RUN   TestCreateIssues/nil_item_in_batch
=== RUN   TestCreateIssues/valid_closed_issue_with_closed_at
--- PASS: TestCreateIssues (0.05s)
    --- PASS: TestCreateIssues/empty_batch (0.00s)
    --- PASS: TestCreateIssues/single_issue (0.00s)
    --- PASS: TestCreateIssues/multiple_issues (0.00s)
    --- PASS: TestCreateIssues/mixed_ID_assignment_-_explicit_and_auto-generated (0.00s)
    --- PASS: TestCreateIssues/validation_error_-_missing_title (0.00s)
    --- PASS: TestCreateIssues/validation_error_-_invalid_priority (0.00s)
    --- PASS: TestCreateIssues/validation_error_-_invalid_status (0.00s)
    --- PASS: TestCreateIssues/duplicate_ID_error (0.00s)
    --- PASS: TestCreateIssues/closed_at_invariant_-_open_status_with_closed_at (0.00s)
    --- PASS: TestCreateIssues/closed_at_invariant_-_closed_status_without_closed_at_auto-sets_it_(GH#523) (0.00s)
    --- PASS: TestCreateIssues/nil_item_in_batch (0.00s)
    --- PASS: TestCreateIssues/valid_closed_issue_with_closed_at (0.00s)
=== RUN   TestCreateIssuesRollback
=== RUN   TestCreateIssuesRollback/rollback_on_validation_error
=== RUN   TestCreateIssuesRollback/rollback_on_conflict_with_existing_ID
--- PASS: TestCreateIssuesRollback (0.04s)
    --- PASS: TestCreateIssuesRollback/rollback_on_validation_error (0.00s)
    --- PASS: TestCreateIssuesRollback/rollback_on_conflict_with_existing_ID (0.00s)
=== RUN   TestUpdateIssue
--- PASS: TestUpdateIssue (0.04s)
=== RUN   TestUpdateIssueValidation
--- PASS: TestUpdateIssueValidation (0.04s)
=== RUN   TestCloseIssue
--- PASS: TestCloseIssue (0.04s)
=== RUN   TestClosedAtInvariant
=== RUN   TestClosedAtInvariant/UpdateIssue_auto-sets_closed_at_when_closing
=== RUN   TestClosedAtInvariant/UpdateIssue_clears_closed_at_when_reopening
=== RUN   TestClosedAtInvariant/CreateIssue_auto-sets_closed_at_for_closed_issue_(GH#523)
=== RUN   TestClosedAtInvariant/CreateIssue_rejects_open_issue_with_closed_at
--- PASS: TestClosedAtInvariant (0.05s)
    --- PASS: TestClosedAtInvariant/UpdateIssue_auto-sets_closed_at_when_closing (0.00s)
    --- PASS: TestClosedAtInvariant/UpdateIssue_clears_closed_at_when_reopening (0.01s)
    --- PASS: TestClosedAtInvariant/CreateIssue_auto-sets_closed_at_for_closed_issue_(GH#523) (0.00s)
    --- PASS: TestClosedAtInvariant/CreateIssue_rejects_open_issue_with_closed_at (0.00s)
=== RUN   TestSearchIssues
--- PASS: TestSearchIssues (0.05s)
=== RUN   TestGetStatistics
--- PASS: TestGetStatistics (0.05s)
=== RUN   TestParallelIssueCreation
--- PASS: TestParallelIssueCreation (0.09s)
=== RUN   TestSetAndGetMetadata
--- PASS: TestSetAndGetMetadata (0.04s)
=== RUN   TestGetMetadataNotFound
--- PASS: TestGetMetadataNotFound (0.04s)
=== RUN   TestSetMetadataUpdate
--- PASS: TestSetMetadataUpdate (0.04s)
=== RUN   TestMetadataMultipleKeys
--- PASS: TestMetadataMultipleKeys (0.04s)
=== RUN   TestPath
--- PASS: TestPath (0.04s)
=== RUN   TestMultipleStorageDistinctPaths
--- PASS: TestMultipleStorageDistinctPaths (0.07s)
=== RUN   TestInMemoryDatabase
--- PASS: TestInMemoryDatabase (0.02s)
=== RUN   TestInMemorySharedCache
    sqlite_test.go:1370: Multiple separate New(":memory:") calls create independent databases - this is expected SQLite behavior
--- SKIP: TestInMemorySharedCache (0.00s)
=== RUN   TestGetAllConfig
--- PASS: TestGetAllConfig (0.04s)
=== RUN   TestDeleteConfig
--- PASS: TestDeleteConfig (0.04s)
=== RUN   TestIsClosed
--- PASS: TestIsClosed (0.04s)
=== RUN   TestCreateTombstone
=== RUN   TestCreateTombstone/create_tombstone_for_existing_issue
=== RUN   TestCreateTombstone/create_tombstone_for_closed_issue
=== RUN   TestCreateTombstone/create_tombstone_for_non-existent_issue
=== RUN   TestCreateTombstone/tombstone_excluded_from_normal_search
=== RUN   TestCreateTombstone/tombstone_included_with_IncludeTombstones_flag
=== RUN   TestCreateTombstone/search_for_tombstones_explicitly
--- PASS: TestCreateTombstone (0.03s)
    --- PASS: TestCreateTombstone/create_tombstone_for_existing_issue (0.00s)
    --- PASS: TestCreateTombstone/create_tombstone_for_closed_issue (0.00s)
    --- PASS: TestCreateTombstone/create_tombstone_for_non-existent_issue (0.00s)
    --- PASS: TestCreateTombstone/tombstone_excluded_from_normal_search (0.00s)
    --- PASS: TestCreateTombstone/tombstone_included_with_IncludeTombstones_flag (0.00s)
    --- PASS: TestCreateTombstone/search_for_tombstones_explicitly (0.00s)
=== RUN   TestDeleteIssuesCreatesTombstones
=== RUN   TestDeleteIssuesCreatesTombstones/single_issue_deletion_creates_tombstone
=== RUN   TestDeleteIssuesCreatesTombstones/batch_deletion_creates_tombstones
=== RUN   TestDeleteIssuesCreatesTombstones/batch_deletion_of_closed_issues_creates_tombstones_(bd-tnsq)
=== RUN   TestDeleteIssuesCreatesTombstones/cascade_deletion_creates_tombstones
=== RUN   TestDeleteIssuesCreatesTombstones/dependencies_removed_from_tombstones
--- PASS: TestDeleteIssuesCreatesTombstones (0.13s)
    --- PASS: TestDeleteIssuesCreatesTombstones/single_issue_deletion_creates_tombstone (0.02s)
    --- PASS: TestDeleteIssuesCreatesTombstones/batch_deletion_creates_tombstones (0.03s)
    --- PASS: TestDeleteIssuesCreatesTombstones/batch_deletion_of_closed_issues_creates_tombstones_(bd-tnsq) (0.02s)
    --- PASS: TestDeleteIssuesCreatesTombstones/cascade_deletion_creates_tombstones (0.03s)
    --- PASS: TestDeleteIssuesCreatesTombstones/dependencies_removed_from_tombstones (0.03s)
=== RUN   TestRunInTransactionBasic
--- PASS: TestRunInTransactionBasic (0.04s)
=== RUN   TestRunInTransactionRollbackOnError
--- PASS: TestRunInTransactionRollbackOnError (0.04s)
=== RUN   TestRunInTransactionPanicRecovery
--- PASS: TestRunInTransactionPanicRecovery (0.04s)
=== RUN   TestTransactionCreateIssue
--- PASS: TestTransactionCreateIssue (0.04s)
=== RUN   TestTransactionRollbackOnCreateError
--- PASS: TestTransactionRollbackOnCreateError (0.04s)
=== RUN   TestTransactionMultipleIssues
--- PASS: TestTransactionMultipleIssues (0.04s)
=== RUN   TestTransactionUpdateIssue
--- PASS: TestTransactionUpdateIssue (0.04s)
=== RUN   TestTransactionCloseIssue
--- PASS: TestTransactionCloseIssue (0.04s)
=== RUN   TestTransactionDeleteIssue
--- PASS: TestTransactionDeleteIssue (0.07s)
=== RUN   TestTransactionGetIssue
--- PASS: TestTransactionGetIssue (0.06s)
=== RUN   TestTransactionCreateIssues
--- PASS: TestTransactionCreateIssues (0.04s)
=== RUN   TestTransactionAddDependency
--- PASS: TestTransactionAddDependency (0.05s)
=== RUN   TestTransactionRemoveDependency
--- PASS: TestTransactionRemoveDependency (0.05s)
=== RUN   TestTransactionAddLabel
--- PASS: TestTransactionAddLabel (0.04s)
=== RUN   TestTransactionRemoveLabel
--- PASS: TestTransactionRemoveLabel (0.04s)
=== RUN   TestTransactionAtomicIssueWithDependency
--- PASS: TestTransactionAtomicIssueWithDependency (0.05s)
=== RUN   TestTransactionAtomicIssueWithLabels
--- PASS: TestTransactionAtomicIssueWithLabels (0.04s)
=== RUN   TestTransactionEmpty
--- PASS: TestTransactionEmpty (0.04s)
=== RUN   TestTransactionConcurrent
--- PASS: TestTransactionConcurrent (0.07s)
=== RUN   TestTransactionNestedFailure
--- PASS: TestTransactionNestedFailure (0.04s)
=== RUN   TestTransactionAtomicPlanApproval
--- PASS: TestTransactionAtomicPlanApproval (0.05s)
=== RUN   TestTransactionSetConfig
--- PASS: TestTransactionSetConfig (0.03s)
=== RUN   TestTransactionGetConfig
--- PASS: TestTransactionGetConfig (0.03s)
=== RUN   TestTransactionConfigRollback
--- PASS: TestTransactionConfigRollback (0.04s)
=== RUN   TestTransactionSetMetadata
--- PASS: TestTransactionSetMetadata (0.03s)
=== RUN   TestTransactionGetMetadata
--- PASS: TestTransactionGetMetadata (0.04s)
=== RUN   TestTransactionMetadataRollback
--- PASS: TestTransactionMetadataRollback (0.04s)
=== RUN   TestTransactionAddComment
--- PASS: TestTransactionAddComment (0.04s)
=== RUN   TestTransactionAddCommentToCreatedIssue
--- PASS: TestTransactionAddCommentToCreatedIssue (0.04s)
=== RUN   TestTransactionAddCommentNonexistentIssue
--- PASS: TestTransactionAddCommentNonexistentIssue (0.04s)
=== RUN   TestTransactionCommentRollback
--- PASS: TestTransactionCommentRollback (0.04s)
=== RUN   TestTransactionAtomicConfigWithIssue
--- PASS: TestTransactionAtomicConfigWithIssue (0.04s)
=== RUN   TestTransactionConfigOverwrite
--- PASS: TestTransactionConfigOverwrite (0.04s)
=== RUN   TestTransactionGetConfigNonexistent
--- PASS: TestTransactionGetConfigNonexistent (0.03s)
=== RUN   TestTransactionGetMetadataNonexistent
--- PASS: TestTransactionGetMetadataNonexistent (0.03s)
=== RUN   TestTransactionSearchIssuesBasic
--- PASS: TestTransactionSearchIssuesBasic (0.04s)
=== RUN   TestTransactionSearchIssuesReadYourWrites
--- PASS: TestTransactionSearchIssuesReadYourWrites (0.04s)
=== RUN   TestTransactionSearchIssuesWithFilters
--- PASS: TestTransactionSearchIssuesWithFilters (0.04s)
=== RUN   TestTransactionSearchIssuesWithLabels
--- PASS: TestTransactionSearchIssuesWithLabels (0.04s)
=== RUN   TestTransactionSearchIssuesRollback
--- PASS: TestTransactionSearchIssuesRollback (0.04s)
=== RUN   TestTransactionSearchIssuesLimit
--- PASS: TestTransactionSearchIssuesLimit (0.05s)
=== RUN   TestTransactionSearchIssuesWithPriorityRange
--- PASS: TestTransactionSearchIssuesWithPriorityRange (0.04s)
=== RUN   TestTransactionSearchIssuesWithDateRange
--- PASS: TestTransactionSearchIssuesWithDateRange (0.04s)
=== RUN   TestTransactionSearchIssuesWithIDs
--- PASS: TestTransactionSearchIssuesWithIDs (0.05s)
=== RUN   TestUnderlyingDB_BasicAccess
--- PASS: TestUnderlyingDB_BasicAccess (0.04s)
=== RUN   TestUnderlyingDB_CreateExtensionTable
--- PASS: TestUnderlyingDB_CreateExtensionTable (0.04s)
=== RUN   TestUnderlyingDB_ConcurrentAccess
--- PASS: TestUnderlyingDB_ConcurrentAccess (0.07s)
=== RUN   TestUnderlyingDB_AfterClose
--- PASS: TestUnderlyingDB_AfterClose (0.04s)
=== RUN   TestUnderlyingDB_LongTxDoesNotDeadlock
--- PASS: TestUnderlyingDB_LongTxDoesNotDeadlock (0.04s)
=== RUN   TestUnderlyingConn_BasicAccess
--- PASS: TestUnderlyingConn_BasicAccess (0.04s)
=== RUN   TestUnderlyingConn_DDLOperations
--- PASS: TestUnderlyingConn_DDLOperations (0.05s)
=== RUN   TestUnderlyingConn_ContextCancellation
--- PASS: TestUnderlyingConn_ContextCancellation (0.03s)
=== RUN   TestUnderlyingConn_MultipleConnections
--- PASS: TestUnderlyingConn_MultipleConnections (0.04s)
=== RUN   TestIsUniqueConstraintError
=== RUN   TestIsUniqueConstraintError/nil_error
=== RUN   TestIsUniqueConstraintError/UNIQUE_constraint_error
=== RUN   TestIsUniqueConstraintError/unique_constraint_lowercase
=== RUN   TestIsUniqueConstraintError/other_error
=== RUN   TestIsUniqueConstraintError/empty_error_message
--- PASS: TestIsUniqueConstraintError (0.00s)
    --- PASS: TestIsUniqueConstraintError/nil_error (0.00s)
    --- PASS: TestIsUniqueConstraintError/UNIQUE_constraint_error (0.00s)
    --- PASS: TestIsUniqueConstraintError/unique_constraint_lowercase (0.00s)
    --- PASS: TestIsUniqueConstraintError/other_error (0.00s)
    --- PASS: TestIsUniqueConstraintError/empty_error_message (0.00s)
=== RUN   TestIsForeignKeyConstraintError
=== RUN   TestIsForeignKeyConstraintError/nil_error
=== RUN   TestIsForeignKeyConstraintError/FOREIGN_KEY_constraint_error_(uppercase)
=== RUN   TestIsForeignKeyConstraintError/foreign_key_constraint_error_(lowercase)
=== RUN   TestIsForeignKeyConstraintError/FOREIGN_KEY_with_details
=== RUN   TestIsForeignKeyConstraintError/UNIQUE_constraint_error
=== RUN   TestIsForeignKeyConstraintError/other_error
--- PASS: TestIsForeignKeyConstraintError (0.00s)
    --- PASS: TestIsForeignKeyConstraintError/nil_error (0.00s)
    --- PASS: TestIsForeignKeyConstraintError/FOREIGN_KEY_constraint_error_(uppercase) (0.00s)
    --- PASS: TestIsForeignKeyConstraintError/foreign_key_constraint_error_(lowercase) (0.00s)
    --- PASS: TestIsForeignKeyConstraintError/FOREIGN_KEY_with_details (0.00s)
    --- PASS: TestIsForeignKeyConstraintError/UNIQUE_constraint_error (0.00s)
    --- PASS: TestIsForeignKeyConstraintError/other_error (0.00s)
=== RUN   TestExecInTransaction
=== RUN   TestExecInTransaction/successful_transaction
=== RUN   TestExecInTransaction/failed_transaction_rolls_back
--- PASS: TestExecInTransaction (0.04s)
    --- PASS: TestExecInTransaction/successful_transaction (0.00s)
    --- PASS: TestExecInTransaction/failed_transaction_rolls_back (0.00s)
=== RUN   TestBeginTx
--- PASS: TestBeginTx (0.03s)
=== RUN   TestQueryContext
--- PASS: TestQueryContext (0.04s)
=== RUN   TestIsBusyError
=== RUN   TestIsBusyError/nil_error
=== RUN   TestIsBusyError/database_is_locked
=== RUN   TestIsBusyError/SQLITE_BUSY
=== RUN   TestIsBusyError/SQLITE_BUSY_with_context
=== RUN   TestIsBusyError/other_error
=== RUN   TestIsBusyError/UNIQUE_constraint_error
--- PASS: TestIsBusyError (0.00s)
    --- PASS: TestIsBusyError/nil_error (0.00s)
    --- PASS: TestIsBusyError/database_is_locked (0.00s)
    --- PASS: TestIsBusyError/SQLITE_BUSY (0.00s)
    --- PASS: TestIsBusyError/SQLITE_BUSY_with_context (0.00s)
    --- PASS: TestIsBusyError/other_error (0.00s)
    --- PASS: TestIsBusyError/UNIQUE_constraint_error (0.00s)
=== RUN   TestBeginImmediateWithRetry
=== RUN   TestBeginImmediateWithRetry/successful_on_first_try
=== RUN   TestBeginImmediateWithRetry/context_cancellation
=== RUN   TestBeginImmediateWithRetry/defaults_for_invalid_parameters
--- PASS: TestBeginImmediateWithRetry (0.04s)
    --- PASS: TestBeginImmediateWithRetry/successful_on_first_try (0.00s)
    --- PASS: TestBeginImmediateWithRetry/context_cancellation (0.00s)
    --- PASS: TestBeginImmediateWithRetry/defaults_for_invalid_parameters (0.00s)
=== RUN   TestValidatePriority
=== RUN   TestValidatePriority/valid_priority_0
=== RUN   TestValidatePriority/valid_priority_1
=== RUN   TestValidatePriority/valid_priority_2
=== RUN   TestValidatePriority/valid_priority_3
=== RUN   TestValidatePriority/valid_priority_4
=== RUN   TestValidatePriority/invalid_negative
=== RUN   TestValidatePriority/invalid_too_high
=== RUN   TestValidatePriority/non-int_ignored
--- PASS: TestValidatePriority (0.00s)
    --- PASS: TestValidatePriority/valid_priority_0 (0.00s)
    --- PASS: TestValidatePriority/valid_priority_1 (0.00s)
    --- PASS: TestValidatePriority/valid_priority_2 (0.00s)
    --- PASS: TestValidatePriority/valid_priority_3 (0.00s)
    --- PASS: TestValidatePriority/valid_priority_4 (0.00s)
    --- PASS: TestValidatePriority/invalid_negative (0.00s)
    --- PASS: TestValidatePriority/invalid_too_high (0.00s)
    --- PASS: TestValidatePriority/non-int_ignored (0.00s)
=== RUN   TestValidateStatus
=== RUN   TestValidateStatus/valid_open
=== RUN   TestValidateStatus/valid_in_progress
=== RUN   TestValidateStatus/valid_blocked
=== RUN   TestValidateStatus/valid_closed
=== RUN   TestValidateStatus/invalid_status
=== RUN   TestValidateStatus/non-string_ignored
--- PASS: TestValidateStatus (0.00s)
    --- PASS: TestValidateStatus/valid_open (0.00s)
    --- PASS: TestValidateStatus/valid_in_progress (0.00s)
    --- PASS: TestValidateStatus/valid_blocked (0.00s)
    --- PASS: TestValidateStatus/valid_closed (0.00s)
    --- PASS: TestValidateStatus/invalid_status (0.00s)
    --- PASS: TestValidateStatus/non-string_ignored (0.00s)
=== RUN   TestValidateIssueType
=== RUN   TestValidateIssueType/valid_bug
=== RUN   TestValidateIssueType/valid_feature
=== RUN   TestValidateIssueType/valid_task
=== RUN   TestValidateIssueType/valid_epic
=== RUN   TestValidateIssueType/valid_chore
=== RUN   TestValidateIssueType/invalid_type
=== RUN   TestValidateIssueType/non-string_ignored
--- PASS: TestValidateIssueType (0.00s)
    --- PASS: TestValidateIssueType/valid_bug (0.00s)
    --- PASS: TestValidateIssueType/valid_feature (0.00s)
    --- PASS: TestValidateIssueType/valid_task (0.00s)
    --- PASS: TestValidateIssueType/valid_epic (0.00s)
    --- PASS: TestValidateIssueType/valid_chore (0.00s)
    --- PASS: TestValidateIssueType/invalid_type (0.00s)
    --- PASS: TestValidateIssueType/non-string_ignored (0.00s)
=== RUN   TestValidateTitle
=== RUN   TestValidateTitle/valid_title
=== RUN   TestValidateTitle/empty_title
=== RUN   TestValidateTitle/max_length_title
=== RUN   TestValidateTitle/too_long_title
=== RUN   TestValidateTitle/non-string_ignored
--- PASS: TestValidateTitle (0.00s)
    --- PASS: TestValidateTitle/valid_title (0.00s)
    --- PASS: TestValidateTitle/empty_title (0.00s)
    --- PASS: TestValidateTitle/max_length_title (0.00s)
    --- PASS: TestValidateTitle/too_long_title (0.00s)
    --- PASS: TestValidateTitle/non-string_ignored (0.00s)
=== RUN   TestValidateEstimatedMinutes
=== RUN   TestValidateEstimatedMinutes/valid_zero
=== RUN   TestValidateEstimatedMinutes/valid_positive
=== RUN   TestValidateEstimatedMinutes/invalid_negative
=== RUN   TestValidateEstimatedMinutes/non-int_ignored
--- PASS: TestValidateEstimatedMinutes (0.00s)
    --- PASS: TestValidateEstimatedMinutes/valid_zero (0.00s)
    --- PASS: TestValidateEstimatedMinutes/valid_positive (0.00s)
    --- PASS: TestValidateEstimatedMinutes/invalid_negative (0.00s)
    --- PASS: TestValidateEstimatedMinutes/non-int_ignored (0.00s)
=== RUN   TestValidateFieldUpdate
=== RUN   TestValidateFieldUpdate/valid_priority
=== RUN   TestValidateFieldUpdate/invalid_priority
=== RUN   TestValidateFieldUpdate/valid_status
=== RUN   TestValidateFieldUpdate/invalid_status
=== RUN   TestValidateFieldUpdate/unknown_field
--- PASS: TestValidateFieldUpdate (0.00s)
    --- PASS: TestValidateFieldUpdate/valid_priority (0.00s)
    --- PASS: TestValidateFieldUpdate/invalid_priority (0.00s)
    --- PASS: TestValidateFieldUpdate/valid_status (0.00s)
    --- PASS: TestValidateFieldUpdate/invalid_status (0.00s)
    --- PASS: TestValidateFieldUpdate/unknown_field (0.00s)
=== RUN   TestValidateFieldUpdateWithCustomStatuses
=== RUN   TestValidateFieldUpdateWithCustomStatuses/built-in_status_no_custom
=== RUN   TestValidateFieldUpdateWithCustomStatuses/built-in_status_with_custom
=== RUN   TestValidateFieldUpdateWithCustomStatuses/built-in_closed_with_custom
=== RUN   TestValidateFieldUpdateWithCustomStatuses/custom_status_configured
=== RUN   TestValidateFieldUpdateWithCustomStatuses/custom_status_awaiting_testing
=== RUN   TestValidateFieldUpdateWithCustomStatuses/custom_status_not_configured
=== RUN   TestValidateFieldUpdateWithCustomStatuses/custom_status_not_in_list
=== RUN   TestValidateFieldUpdateWithCustomStatuses/valid_priority
=== RUN   TestValidateFieldUpdateWithCustomStatuses/invalid_priority
=== RUN   TestValidateFieldUpdateWithCustomStatuses/unknown_field
--- PASS: TestValidateFieldUpdateWithCustomStatuses (0.00s)
    --- PASS: TestValidateFieldUpdateWithCustomStatuses/built-in_status_no_custom (0.00s)
    --- PASS: TestValidateFieldUpdateWithCustomStatuses/built-in_status_with_custom (0.00s)
    --- PASS: TestValidateFieldUpdateWithCustomStatuses/built-in_closed_with_custom (0.00s)
    --- PASS: TestValidateFieldUpdateWithCustomStatuses/custom_status_configured (0.00s)
    --- PASS: TestValidateFieldUpdateWithCustomStatuses/custom_status_awaiting_testing (0.00s)
    --- PASS: TestValidateFieldUpdateWithCustomStatuses/custom_status_not_configured (0.00s)
    --- PASS: TestValidateFieldUpdateWithCustomStatuses/custom_status_not_in_list (0.00s)
    --- PASS: TestValidateFieldUpdateWithCustomStatuses/valid_priority (0.00s)
    --- PASS: TestValidateFieldUpdateWithCustomStatuses/invalid_priority (0.00s)
    --- PASS: TestValidateFieldUpdateWithCustomStatuses/unknown_field (0.00s)
=== RUN   TestParseCustomStatuses
=== RUN   TestParseCustomStatuses/empty_string
=== RUN   TestParseCustomStatuses/single_status
=== RUN   TestParseCustomStatuses/multiple_statuses
=== RUN   TestParseCustomStatuses/with_spaces
=== RUN   TestParseCustomStatuses/empty_entries_filtered
=== RUN   TestParseCustomStatuses/whitespace_only_entries
--- PASS: TestParseCustomStatuses (0.00s)
    --- PASS: TestParseCustomStatuses/empty_string (0.00s)
    --- PASS: TestParseCustomStatuses/single_status (0.00s)
    --- PASS: TestParseCustomStatuses/multiple_statuses (0.00s)
    --- PASS: TestParseCustomStatuses/with_spaces (0.00s)
    --- PASS: TestParseCustomStatuses/empty_entries_filtered (0.00s)
    --- PASS: TestParseCustomStatuses/whitespace_only_entries (0.00s)
PASS
ok  	github.com/steveyegge/beads/internal/storage/sqlite	(cached)
?   	github.com/steveyegge/beads/internal/storage/sqlite/migrations	[no test files]
=== RUN   TestValidateBranchName
=== RUN   TestValidateBranchName/empty_is_valid
=== RUN   TestValidateBranchName/simple_branch
=== RUN   TestValidateBranchName/branch_with_hyphen
=== RUN   TestValidateBranchName/branch_with_slash
=== RUN   TestValidateBranchName/branch_with_underscore
=== RUN   TestValidateBranchName/branch_with_dot
=== RUN   TestValidateBranchName/complex_valid_branch
=== RUN   TestValidateBranchName/invalid:_HEAD
=== RUN   TestValidateBranchName/invalid:_single_dot
=== RUN   TestValidateBranchName/invalid:_double_dot
=== RUN   TestValidateBranchName/invalid:_contains_..
=== RUN   TestValidateBranchName/invalid:_starts_with_slash
=== RUN   TestValidateBranchName/invalid:_ends_with_slash
=== RUN   TestValidateBranchName/invalid:_starts_with_hyphen
=== RUN   TestValidateBranchName/invalid:_ends_with_hyphen
=== RUN   TestValidateBranchName/invalid:_starts_with_dot
=== RUN   TestValidateBranchName/invalid:_ends_with_dot
=== RUN   TestValidateBranchName/invalid:_special_char_@
=== RUN   TestValidateBranchName/invalid:_special_char_#
=== RUN   TestValidateBranchName/invalid:_space
=== RUN   TestValidateBranchName/invalid:_too_long
--- PASS: TestValidateBranchName (0.00s)
    --- PASS: TestValidateBranchName/empty_is_valid (0.00s)
    --- PASS: TestValidateBranchName/simple_branch (0.00s)
    --- PASS: TestValidateBranchName/branch_with_hyphen (0.00s)
    --- PASS: TestValidateBranchName/branch_with_slash (0.00s)
    --- PASS: TestValidateBranchName/branch_with_underscore (0.00s)
    --- PASS: TestValidateBranchName/branch_with_dot (0.00s)
    --- PASS: TestValidateBranchName/complex_valid_branch (0.00s)
    --- PASS: TestValidateBranchName/invalid:_HEAD (0.00s)
    --- PASS: TestValidateBranchName/invalid:_single_dot (0.00s)
    --- PASS: TestValidateBranchName/invalid:_double_dot (0.00s)
    --- PASS: TestValidateBranchName/invalid:_contains_.. (0.00s)
    --- PASS: TestValidateBranchName/invalid:_starts_with_slash (0.00s)
    --- PASS: TestValidateBranchName/invalid:_ends_with_slash (0.00s)
    --- PASS: TestValidateBranchName/invalid:_starts_with_hyphen (0.00s)
    --- PASS: TestValidateBranchName/invalid:_ends_with_hyphen (0.00s)
    --- PASS: TestValidateBranchName/invalid:_starts_with_dot (0.00s)
    --- PASS: TestValidateBranchName/invalid:_ends_with_dot (0.00s)
    --- PASS: TestValidateBranchName/invalid:_special_char_@ (0.00s)
    --- PASS: TestValidateBranchName/invalid:_special_char_# (0.00s)
    --- PASS: TestValidateBranchName/invalid:_space (0.00s)
    --- PASS: TestValidateBranchName/invalid:_too_long (0.00s)
=== RUN   TestGet
=== RUN   TestGet/returns_empty_when_not_set
=== RUN   TestGet/returns_database_config_value
=== RUN   TestGet/environment_variable_overrides_database
=== RUN   TestGet/returns_error_for_invalid_env_var
=== RUN   TestGet/returns_error_for_invalid_db_config
--- PASS: TestGet (0.35s)
    --- PASS: TestGet/returns_empty_when_not_set (0.26s)
    --- PASS: TestGet/returns_database_config_value (0.03s)
    --- PASS: TestGet/environment_variable_overrides_database (0.02s)
    --- PASS: TestGet/returns_error_for_invalid_env_var (0.02s)
    --- PASS: TestGet/returns_error_for_invalid_db_config (0.02s)
=== RUN   TestSet
=== RUN   TestSet/sets_valid_branch_name
=== RUN   TestSet/allows_empty_string
=== RUN   TestSet/rejects_invalid_branch_name
--- PASS: TestSet (0.07s)
    --- PASS: TestSet/sets_valid_branch_name (0.02s)
    --- PASS: TestSet/allows_empty_string (0.02s)
    --- PASS: TestSet/rejects_invalid_branch_name (0.02s)
=== RUN   TestUnset
=== RUN   TestUnset/removes_config_value
--- PASS: TestUnset (0.02s)
    --- PASS: TestUnset/removes_config_value (0.02s)
=== RUN   TestGetDivergence
    worktree_divergence_test.go:16: skipping integration test in short mode
--- SKIP: TestGetDivergence (0.00s)
=== RUN   TestExtractJSONLFromCommit
    worktree_divergence_test.go:145: skipping integration test in short mode
--- SKIP: TestExtractJSONLFromCommit (0.00s)
=== RUN   TestPerformContentMerge
    worktree_divergence_test.go:214: skipping integration test in short mode
--- SKIP: TestPerformContentMerge (0.00s)
=== RUN   TestParseIssuesFromContent
=== RUN   TestParseIssuesFromContent/empty_content
=== RUN   TestParseIssuesFromContent/nil_content
=== RUN   TestParseIssuesFromContent/single_issue
=== RUN   TestParseIssuesFromContent/multiple_issues
=== RUN   TestParseIssuesFromContent/malformed_line_skipped
=== RUN   TestParseIssuesFromContent/empty_id_skipped
--- PASS: TestParseIssuesFromContent (0.00s)
    --- PASS: TestParseIssuesFromContent/empty_content (0.00s)
    --- PASS: TestParseIssuesFromContent/nil_content (0.00s)
    --- PASS: TestParseIssuesFromContent/single_issue (0.00s)
    --- PASS: TestParseIssuesFromContent/multiple_issues (0.00s)
    --- PASS: TestParseIssuesFromContent/malformed_line_skipped (0.00s)
    --- PASS: TestParseIssuesFromContent/empty_id_skipped (0.00s)
=== RUN   TestSafetyCheckMassDeletion
    worktree_divergence_test.go:431: skipping integration test in short mode
--- SKIP: TestSafetyCheckMassDeletion (0.00s)
=== RUN   TestCountIssuesInContent
=== RUN   TestCountIssuesInContent/empty_content
=== RUN   TestCountIssuesInContent/nil_content
=== RUN   TestCountIssuesInContent/single_issue
=== RUN   TestCountIssuesInContent/multiple_issues
=== RUN   TestCountIssuesInContent/trailing_newline
=== RUN   TestCountIssuesInContent/empty_lines_ignored
--- PASS: TestCountIssuesInContent (0.00s)
    --- PASS: TestCountIssuesInContent/empty_content (0.00s)
    --- PASS: TestCountIssuesInContent/nil_content (0.00s)
    --- PASS: TestCountIssuesInContent/single_issue (0.00s)
    --- PASS: TestCountIssuesInContent/multiple_issues (0.00s)
    --- PASS: TestCountIssuesInContent/trailing_newline (0.00s)
    --- PASS: TestCountIssuesInContent/empty_lines_ignored (0.00s)
=== RUN   TestIsSyncBranchSameAsCurrent
    worktree_divergence_test.go:600: skipping integration test in short mode
--- SKIP: TestIsSyncBranchSameAsCurrent (0.00s)
PASS
ok  	github.com/steveyegge/beads/internal/syncbranch	(cached)
=== RUN   TestTempDirInMemory
    tmpfs_test.go:30: ✓ Using tmpfs ramdisk: /dev/shm/beads-test/beads-test-1336324446
--- PASS: TestTempDirInMemory (0.00s)
=== RUN   TestTempDirInMemory_Cleanup
=== RUN   TestTempDirInMemory_Cleanup/create
--- PASS: TestTempDirInMemory_Cleanup (0.00s)
    --- PASS: TestTempDirInMemory_Cleanup/create (0.00s)
PASS
ok  	github.com/steveyegge/beads/internal/testutil	(cached)
?   	github.com/steveyegge/beads/internal/testutil/fixtures	[no test files]
=== RUN   TestGenerateHashID
=== RUN   TestGenerateHashID/basic_hash_ID
=== RUN   TestGenerateHashID/different_prefix_ignored_(returns_hash_only)
--- PASS: TestGenerateHashID (0.00s)
    --- PASS: TestGenerateHashID/basic_hash_ID (0.00s)
    --- PASS: TestGenerateHashID/different_prefix_ignored_(returns_hash_only) (0.00s)
=== RUN   TestGenerateHashID_Deterministic
--- PASS: TestGenerateHashID_Deterministic (0.00s)
=== RUN   TestGenerateHashID_DifferentInputs
=== RUN   TestGenerateHashID_DifferentInputs/different_title
=== RUN   TestGenerateHashID_DifferentInputs/different_description
=== RUN   TestGenerateHashID_DifferentInputs/different_timestamp
=== RUN   TestGenerateHashID_DifferentInputs/different_workspace
--- PASS: TestGenerateHashID_DifferentInputs (0.00s)
    --- PASS: TestGenerateHashID_DifferentInputs/different_title (0.00s)
    --- PASS: TestGenerateHashID_DifferentInputs/different_description (0.00s)
    --- PASS: TestGenerateHashID_DifferentInputs/different_timestamp (0.00s)
    --- PASS: TestGenerateHashID_DifferentInputs/different_workspace (0.00s)
=== RUN   TestGenerateChildID
=== RUN   TestGenerateChildID/first_level_child
=== RUN   TestGenerateChildID/second_level_child
=== RUN   TestGenerateChildID/third_level_child
=== RUN   TestGenerateChildID/large_child_number
--- PASS: TestGenerateChildID (0.00s)
    --- PASS: TestGenerateChildID/first_level_child (0.00s)
    --- PASS: TestGenerateChildID/second_level_child (0.00s)
    --- PASS: TestGenerateChildID/third_level_child (0.00s)
    --- PASS: TestGenerateChildID/large_child_number (0.00s)
=== RUN   TestParseHierarchicalID
=== RUN   TestParseHierarchicalID/root_level_(no_parent)
=== RUN   TestParseHierarchicalID/first_level_child
=== RUN   TestParseHierarchicalID/second_level_child
=== RUN   TestParseHierarchicalID/third_level_child
--- PASS: TestParseHierarchicalID (0.00s)
    --- PASS: TestParseHierarchicalID/root_level_(no_parent) (0.00s)
    --- PASS: TestParseHierarchicalID/first_level_child (0.00s)
    --- PASS: TestParseHierarchicalID/second_level_child (0.00s)
    --- PASS: TestParseHierarchicalID/third_level_child (0.00s)
=== RUN   TestShouldSkipDatabase
=== RUN   TestShouldSkipDatabase/no_lock_file_exists
=== RUN   TestShouldSkipDatabase/valid_lock_with_alive_process
=== RUN   TestShouldSkipDatabase/stale_lock_with_dead_process
=== RUN   TestShouldSkipDatabase/malformed_lock_file
=== RUN   TestShouldSkipDatabase/invalid_lock_(missing_required_fields)
=== RUN   TestShouldSkipDatabase/remote_hostname_(assume_alive)
--- PASS: TestShouldSkipDatabase (0.00s)
    --- PASS: TestShouldSkipDatabase/no_lock_file_exists (0.00s)
    --- PASS: TestShouldSkipDatabase/valid_lock_with_alive_process (0.00s)
    --- PASS: TestShouldSkipDatabase/stale_lock_with_dead_process (0.00s)
    --- PASS: TestShouldSkipDatabase/malformed_lock_file (0.00s)
    --- PASS: TestShouldSkipDatabase/invalid_lock_(missing_required_fields) (0.00s)
    --- PASS: TestShouldSkipDatabase/remote_hostname_(assume_alive) (0.00s)
=== RUN   TestExclusiveLock_MarshalJSON
--- PASS: TestExclusiveLock_MarshalJSON (0.00s)
=== RUN   TestExclusiveLock_UnmarshalJSON
--- PASS: TestExclusiveLock_UnmarshalJSON (0.00s)
=== RUN   TestExclusiveLock_Validate
=== RUN   TestExclusiveLock_Validate/valid_lock
=== RUN   TestExclusiveLock_Validate/missing_holder
=== RUN   TestExclusiveLock_Validate/invalid_PID_(zero)
=== RUN   TestExclusiveLock_Validate/invalid_PID_(negative)
=== RUN   TestExclusiveLock_Validate/missing_hostname
=== RUN   TestExclusiveLock_Validate/missing_started_at
=== RUN   TestExclusiveLock_Validate/missing_version_(allowed)
--- PASS: TestExclusiveLock_Validate (0.00s)
    --- PASS: TestExclusiveLock_Validate/valid_lock (0.00s)
    --- PASS: TestExclusiveLock_Validate/missing_holder (0.00s)
    --- PASS: TestExclusiveLock_Validate/invalid_PID_(zero) (0.00s)
    --- PASS: TestExclusiveLock_Validate/invalid_PID_(negative) (0.00s)
    --- PASS: TestExclusiveLock_Validate/missing_hostname (0.00s)
    --- PASS: TestExclusiveLock_Validate/missing_started_at (0.00s)
    --- PASS: TestExclusiveLock_Validate/missing_version_(allowed) (0.00s)
=== RUN   TestNewExclusiveLock
--- PASS: TestNewExclusiveLock (0.00s)
=== RUN   TestIsProcessAlive
=== RUN   TestIsProcessAlive/current_process_(should_be_alive)
=== RUN   TestIsProcessAlive/different_hostname_(assume_alive)
=== RUN   TestIsProcessAlive/current_process_on_different_hostname_(assume_alive)
--- PASS: TestIsProcessAlive (0.00s)
    --- PASS: TestIsProcessAlive/current_process_(should_be_alive) (0.00s)
    --- PASS: TestIsProcessAlive/different_hostname_(assume_alive) (0.00s)
    --- PASS: TestIsProcessAlive/current_process_on_different_hostname_(assume_alive) (0.00s)
=== RUN   TestIsProcessAlive_CurrentProcess
--- PASS: TestIsProcessAlive_CurrentProcess (0.00s)
=== RUN   TestIsProcessAlive_RemoteHost
--- PASS: TestIsProcessAlive_RemoteHost (0.00s)
=== RUN   TestIssueValidation
=== RUN   TestIssueValidation/valid_issue
=== RUN   TestIssueValidation/missing_title
=== RUN   TestIssueValidation/title_too_long
=== RUN   TestIssueValidation/invalid_priority_too_low
=== RUN   TestIssueValidation/invalid_priority_too_high
=== RUN   TestIssueValidation/invalid_status
=== RUN   TestIssueValidation/invalid_issue_type
=== RUN   TestIssueValidation/negative_estimated_minutes
=== RUN   TestIssueValidation/valid_estimated_minutes
=== RUN   TestIssueValidation/closed_issue_without_closed_at
=== RUN   TestIssueValidation/open_issue_with_closed_at
=== RUN   TestIssueValidation/in_progress_issue_with_closed_at
=== RUN   TestIssueValidation/closed_issue_with_closed_at
--- PASS: TestIssueValidation (0.00s)
    --- PASS: TestIssueValidation/valid_issue (0.00s)
    --- PASS: TestIssueValidation/missing_title (0.00s)
    --- PASS: TestIssueValidation/title_too_long (0.00s)
    --- PASS: TestIssueValidation/invalid_priority_too_low (0.00s)
    --- PASS: TestIssueValidation/invalid_priority_too_high (0.00s)
    --- PASS: TestIssueValidation/invalid_status (0.00s)
    --- PASS: TestIssueValidation/invalid_issue_type (0.00s)
    --- PASS: TestIssueValidation/negative_estimated_minutes (0.00s)
    --- PASS: TestIssueValidation/valid_estimated_minutes (0.00s)
    --- PASS: TestIssueValidation/closed_issue_without_closed_at (0.00s)
    --- PASS: TestIssueValidation/open_issue_with_closed_at (0.00s)
    --- PASS: TestIssueValidation/in_progress_issue_with_closed_at (0.00s)
    --- PASS: TestIssueValidation/closed_issue_with_closed_at (0.00s)
=== RUN   TestStatusIsValid
=== RUN   TestStatusIsValid/open
=== RUN   TestStatusIsValid/in_progress
=== RUN   TestStatusIsValid/blocked
=== RUN   TestStatusIsValid/closed
=== RUN   TestStatusIsValid/tombstone
=== RUN   TestStatusIsValid/invalid
=== RUN   TestStatusIsValid/#00
--- PASS: TestStatusIsValid (0.00s)
    --- PASS: TestStatusIsValid/open (0.00s)
    --- PASS: TestStatusIsValid/in_progress (0.00s)
    --- PASS: TestStatusIsValid/blocked (0.00s)
    --- PASS: TestStatusIsValid/closed (0.00s)
    --- PASS: TestStatusIsValid/tombstone (0.00s)
    --- PASS: TestStatusIsValid/invalid (0.00s)
    --- PASS: TestStatusIsValid/#00 (0.00s)
=== RUN   TestIsTombstone
=== RUN   TestIsTombstone/tombstone_issue
=== RUN   TestIsTombstone/open_issue
=== RUN   TestIsTombstone/closed_issue
=== RUN   TestIsTombstone/in_progress_issue
=== RUN   TestIsTombstone/blocked_issue
--- PASS: TestIsTombstone (0.00s)
    --- PASS: TestIsTombstone/tombstone_issue (0.00s)
    --- PASS: TestIsTombstone/open_issue (0.00s)
    --- PASS: TestIsTombstone/closed_issue (0.00s)
    --- PASS: TestIsTombstone/in_progress_issue (0.00s)
    --- PASS: TestIsTombstone/blocked_issue (0.00s)
=== RUN   TestStatusIsValidWithCustom
=== RUN   TestStatusIsValidWithCustom/built-in_open
=== RUN   TestStatusIsValidWithCustom/built-in_open_with_custom
=== RUN   TestStatusIsValidWithCustom/built-in_closed
=== RUN   TestStatusIsValidWithCustom/custom_awaiting_review
=== RUN   TestStatusIsValidWithCustom/custom_awaiting_testing
=== RUN   TestStatusIsValidWithCustom/custom_awaiting_docs
=== RUN   TestStatusIsValidWithCustom/custom_without_config
=== RUN   TestStatusIsValidWithCustom/custom_without_config_empty
=== RUN   TestStatusIsValidWithCustom/invalid_status
=== RUN   TestStatusIsValidWithCustom/empty_status
--- PASS: TestStatusIsValidWithCustom (0.00s)
    --- PASS: TestStatusIsValidWithCustom/built-in_open (0.00s)
    --- PASS: TestStatusIsValidWithCustom/built-in_open_with_custom (0.00s)
    --- PASS: TestStatusIsValidWithCustom/built-in_closed (0.00s)
    --- PASS: TestStatusIsValidWithCustom/custom_awaiting_review (0.00s)
    --- PASS: TestStatusIsValidWithCustom/custom_awaiting_testing (0.00s)
    --- PASS: TestStatusIsValidWithCustom/custom_awaiting_docs (0.00s)
    --- PASS: TestStatusIsValidWithCustom/custom_without_config (0.00s)
    --- PASS: TestStatusIsValidWithCustom/custom_without_config_empty (0.00s)
    --- PASS: TestStatusIsValidWithCustom/invalid_status (0.00s)
    --- PASS: TestStatusIsValidWithCustom/empty_status (0.00s)
=== RUN   TestValidateWithCustomStatuses
=== RUN   TestValidateWithCustomStatuses/valid_issue_with_built-in_status
=== RUN   TestValidateWithCustomStatuses/valid_issue_with_custom_status
=== RUN   TestValidateWithCustomStatuses/invalid_custom_status_without_config
=== RUN   TestValidateWithCustomStatuses/invalid_custom_status_not_in_config
--- PASS: TestValidateWithCustomStatuses (0.00s)
    --- PASS: TestValidateWithCustomStatuses/valid_issue_with_built-in_status (0.00s)
    --- PASS: TestValidateWithCustomStatuses/valid_issue_with_custom_status (0.00s)
    --- PASS: TestValidateWithCustomStatuses/invalid_custom_status_without_config (0.00s)
    --- PASS: TestValidateWithCustomStatuses/invalid_custom_status_not_in_config (0.00s)
=== RUN   TestIssueTypeIsValid
=== RUN   TestIssueTypeIsValid/bug
=== RUN   TestIssueTypeIsValid/feature
=== RUN   TestIssueTypeIsValid/task
=== RUN   TestIssueTypeIsValid/epic
=== RUN   TestIssueTypeIsValid/chore
=== RUN   TestIssueTypeIsValid/invalid
=== RUN   TestIssueTypeIsValid/#00
--- PASS: TestIssueTypeIsValid (0.00s)
    --- PASS: TestIssueTypeIsValid/bug (0.00s)
    --- PASS: TestIssueTypeIsValid/feature (0.00s)
    --- PASS: TestIssueTypeIsValid/task (0.00s)
    --- PASS: TestIssueTypeIsValid/epic (0.00s)
    --- PASS: TestIssueTypeIsValid/chore (0.00s)
    --- PASS: TestIssueTypeIsValid/invalid (0.00s)
    --- PASS: TestIssueTypeIsValid/#00 (0.00s)
=== RUN   TestDependencyTypeIsValid
=== RUN   TestDependencyTypeIsValid/blocks
=== RUN   TestDependencyTypeIsValid/related
=== RUN   TestDependencyTypeIsValid/parent-child
=== RUN   TestDependencyTypeIsValid/discovered-from
=== RUN   TestDependencyTypeIsValid/invalid
=== RUN   TestDependencyTypeIsValid/#00
--- PASS: TestDependencyTypeIsValid (0.00s)
    --- PASS: TestDependencyTypeIsValid/blocks (0.00s)
    --- PASS: TestDependencyTypeIsValid/related (0.00s)
    --- PASS: TestDependencyTypeIsValid/parent-child (0.00s)
    --- PASS: TestDependencyTypeIsValid/discovered-from (0.00s)
    --- PASS: TestDependencyTypeIsValid/invalid (0.00s)
    --- PASS: TestDependencyTypeIsValid/#00 (0.00s)
=== RUN   TestIssueStructFields
--- PASS: TestIssueStructFields (0.00s)
=== RUN   TestBlockedIssueEmbedding
--- PASS: TestBlockedIssueEmbedding (0.00s)
=== RUN   TestTreeNodeEmbedding
--- PASS: TestTreeNodeEmbedding (0.00s)
=== RUN   TestComputeContentHash
--- PASS: TestComputeContentHash (0.00s)
=== RUN   TestSortPolicyIsValid
=== RUN   TestSortPolicyIsValid/hybrid
=== RUN   TestSortPolicyIsValid/priority
=== RUN   TestSortPolicyIsValid/oldest
=== RUN   TestSortPolicyIsValid/#00
=== RUN   TestSortPolicyIsValid/invalid
--- PASS: TestSortPolicyIsValid (0.00s)
    --- PASS: TestSortPolicyIsValid/hybrid (0.00s)
    --- PASS: TestSortPolicyIsValid/priority (0.00s)
    --- PASS: TestSortPolicyIsValid/oldest (0.00s)
    --- PASS: TestSortPolicyIsValid/#00 (0.00s)
    --- PASS: TestSortPolicyIsValid/invalid (0.00s)
=== RUN   TestIsExpired
=== RUN   TestIsExpired/non-tombstone_issue_never_expires
=== RUN   TestIsExpired/closed_issue_never_expires
=== RUN   TestIsExpired/tombstone_without_DeletedAt_does_not_expire
=== RUN   TestIsExpired/tombstone_within_default_TTL_(30_days)
=== RUN   TestIsExpired/tombstone_past_default_TTL_(30_days)
=== RUN   TestIsExpired/tombstone_within_custom_TTL_(7_days)
=== RUN   TestIsExpired/tombstone_past_custom_TTL_(7_days)
=== RUN   TestIsExpired/tombstone_at_exact_TTL_boundary_(within_grace_period)
=== RUN   TestIsExpired/tombstone_just_past_TTL_boundary_(beyond_grace_period)
=== RUN   TestIsExpired/tombstone_within_grace_period
=== RUN   TestIsExpired/tombstone_with_MinTombstoneTTL_(7_days)
=== RUN   TestIsExpired/tombstone_with_very_short_TTL_(1_hour)
=== RUN   TestIsExpired/tombstone_deleted_in_the_future_(clock_skew)
=== RUN   TestIsExpired/negative_TTL_means_immediately_expired_(bd-4q8_--hard_mode)
=== RUN   TestIsExpired/non-tombstone_never_expires_even_with_negative_TTL
--- PASS: TestIsExpired (0.00s)
    --- PASS: TestIsExpired/non-tombstone_issue_never_expires (0.00s)
    --- PASS: TestIsExpired/closed_issue_never_expires (0.00s)
    --- PASS: TestIsExpired/tombstone_without_DeletedAt_does_not_expire (0.00s)
    --- PASS: TestIsExpired/tombstone_within_default_TTL_(30_days) (0.00s)
    --- PASS: TestIsExpired/tombstone_past_default_TTL_(30_days) (0.00s)
    --- PASS: TestIsExpired/tombstone_within_custom_TTL_(7_days) (0.00s)
    --- PASS: TestIsExpired/tombstone_past_custom_TTL_(7_days) (0.00s)
    --- PASS: TestIsExpired/tombstone_at_exact_TTL_boundary_(within_grace_period) (0.00s)
    --- PASS: TestIsExpired/tombstone_just_past_TTL_boundary_(beyond_grace_period) (0.00s)
    --- PASS: TestIsExpired/tombstone_within_grace_period (0.00s)
    --- PASS: TestIsExpired/tombstone_with_MinTombstoneTTL_(7_days) (0.00s)
    --- PASS: TestIsExpired/tombstone_with_very_short_TTL_(1_hour) (0.00s)
    --- PASS: TestIsExpired/tombstone_deleted_in_the_future_(clock_skew) (0.00s)
    --- PASS: TestIsExpired/negative_TTL_means_immediately_expired_(bd-4q8_--hard_mode) (0.00s)
    --- PASS: TestIsExpired/non-tombstone_never_expires_even_with_negative_TTL (0.00s)
=== RUN   TestTombstoneTTLConstants
--- PASS: TestTombstoneTTLConstants (0.00s)
PASS
ok  	github.com/steveyegge/beads/internal/types	(cached)
=== RUN   TestNormalizeLabels
=== RUN   TestNormalizeLabels/empty_slice
=== RUN   TestNormalizeLabels/nil_slice
=== RUN   TestNormalizeLabels/single_label
=== RUN   TestNormalizeLabels/multiple_labels
=== RUN   TestNormalizeLabels/labels_with_whitespace
=== RUN   TestNormalizeLabels/duplicate_labels
=== RUN   TestNormalizeLabels/duplicates_after_trimming
=== RUN   TestNormalizeLabels/empty_strings
=== RUN   TestNormalizeLabels/whitespace-only_strings
=== RUN   TestNormalizeLabels/preserves_order
=== RUN   TestNormalizeLabels/complex_case_with_all_issues
=== RUN   TestNormalizeLabels/unicode_labels
=== RUN   TestNormalizeLabels/case-sensitive
=== RUN   TestNormalizeLabels/labels_with_internal_spaces
--- PASS: TestNormalizeLabels (0.00s)
    --- PASS: TestNormalizeLabels/empty_slice (0.00s)
    --- PASS: TestNormalizeLabels/nil_slice (0.00s)
    --- PASS: TestNormalizeLabels/single_label (0.00s)
    --- PASS: TestNormalizeLabels/multiple_labels (0.00s)
    --- PASS: TestNormalizeLabels/labels_with_whitespace (0.00s)
    --- PASS: TestNormalizeLabels/duplicate_labels (0.00s)
    --- PASS: TestNormalizeLabels/duplicates_after_trimming (0.00s)
    --- PASS: TestNormalizeLabels/empty_strings (0.00s)
    --- PASS: TestNormalizeLabels/whitespace-only_strings (0.00s)
    --- PASS: TestNormalizeLabels/preserves_order (0.00s)
    --- PASS: TestNormalizeLabels/complex_case_with_all_issues (0.00s)
    --- PASS: TestNormalizeLabels/unicode_labels (0.00s)
    --- PASS: TestNormalizeLabels/case-sensitive (0.00s)
    --- PASS: TestNormalizeLabels/labels_with_internal_spaces (0.00s)
=== RUN   TestNormalizeLabels_PreservesCapacity
--- PASS: TestNormalizeLabels_PreservesCapacity (0.00s)
PASS
ok  	github.com/steveyegge/beads/internal/util	(cached)
=== RUN   TestParseIssueID
=== RUN   TestParseIssueID/already_has_prefix
=== RUN   TestParseIssueID/missing_prefix
=== RUN   TestParseIssueID/hierarchical_with_prefix
=== RUN   TestParseIssueID/hierarchical_without_prefix
=== RUN   TestParseIssueID/custom_prefix_with_ID
=== RUN   TestParseIssueID/custom_prefix_without_ID
--- PASS: TestParseIssueID (0.00s)
    --- PASS: TestParseIssueID/already_has_prefix (0.00s)
    --- PASS: TestParseIssueID/missing_prefix (0.00s)
    --- PASS: TestParseIssueID/hierarchical_with_prefix (0.00s)
    --- PASS: TestParseIssueID/hierarchical_without_prefix (0.00s)
    --- PASS: TestParseIssueID/custom_prefix_with_ID (0.00s)
    --- PASS: TestParseIssueID/custom_prefix_without_ID (0.00s)
=== RUN   TestResolvePartialID
=== RUN   TestResolvePartialID/exact_match_with_prefix
=== RUN   TestResolvePartialID/exact_match_without_prefix
=== RUN   TestResolvePartialID/exact_match_with_prefix_(two_digits)
=== RUN   TestResolvePartialID/exact_match_without_prefix_(two_digits)
=== RUN   TestResolvePartialID/nonexistent_issue
=== RUN   TestResolvePartialID/partial_match_-_unique_substring
=== RUN   TestResolvePartialID/ambiguous_partial_match
=== RUN   TestResolvePartialID/exact_match_parent_ID_with_hierarchical_child_-_gh-316
=== RUN   TestResolvePartialID/exact_match_parent_without_prefix_-_gh-316
--- PASS: TestResolvePartialID (0.00s)
    --- PASS: TestResolvePartialID/exact_match_with_prefix (0.00s)
    --- PASS: TestResolvePartialID/exact_match_without_prefix (0.00s)
    --- PASS: TestResolvePartialID/exact_match_with_prefix_(two_digits) (0.00s)
    --- PASS: TestResolvePartialID/exact_match_without_prefix_(two_digits) (0.00s)
    --- PASS: TestResolvePartialID/nonexistent_issue (0.00s)
    --- PASS: TestResolvePartialID/partial_match_-_unique_substring (0.00s)
    --- PASS: TestResolvePartialID/ambiguous_partial_match (0.00s)
    --- PASS: TestResolvePartialID/exact_match_parent_ID_with_hierarchical_child_-_gh-316 (0.00s)
    --- PASS: TestResolvePartialID/exact_match_parent_without_prefix_-_gh-316 (0.00s)
=== RUN   TestResolvePartialIDs
=== RUN   TestResolvePartialIDs/resolve_multiple_IDs_without_prefix
=== RUN   TestResolvePartialIDs/resolve_mixed_full_and_partial_IDs
=== RUN   TestResolvePartialIDs/error_on_nonexistent_ID
=== RUN   TestResolvePartialIDs/empty_input_list
--- PASS: TestResolvePartialIDs (0.00s)
    --- PASS: TestResolvePartialIDs/resolve_multiple_IDs_without_prefix (0.00s)
    --- PASS: TestResolvePartialIDs/resolve_mixed_full_and_partial_IDs (0.00s)
    --- PASS: TestResolvePartialIDs/error_on_nonexistent_ID (0.00s)
    --- PASS: TestResolvePartialIDs/empty_input_list (0.00s)
=== RUN   TestResolvePartialID_NoConfig
--- PASS: TestResolvePartialID_NoConfig (0.00s)
=== RUN   TestExtractIssuePrefix
=== RUN   TestExtractIssuePrefix/standard_format
=== RUN   TestExtractIssuePrefix/custom_prefix
=== RUN   TestExtractIssuePrefix/hierarchical_ID
=== RUN   TestExtractIssuePrefix/no_hyphen
=== RUN   TestExtractIssuePrefix/empty_string
=== RUN   TestExtractIssuePrefix/only_prefix
=== RUN   TestExtractIssuePrefix/multi-part_prefix_with_numeric_suffix
=== RUN   TestExtractIssuePrefix/multi-part_non-numeric_suffix_(word-like)
=== RUN   TestExtractIssuePrefix/beads-vscode_style_prefix
=== RUN   TestExtractIssuePrefix/web-app_style_prefix
=== RUN   TestExtractIssuePrefix/three-part_prefix_with_hash
=== RUN   TestExtractIssuePrefix/four-part_prefix_with_4-char_hash
=== RUN   TestExtractIssuePrefix/prefix_with_5-char_hash
=== RUN   TestExtractIssuePrefix/prefix_with_6-char_hash
=== RUN   TestExtractIssuePrefix/uppercase_hash
=== RUN   TestExtractIssuePrefix/mixed_case_hash
=== RUN   TestExtractIssuePrefix/3-char_hash_with_hyphenated_prefix
=== RUN   TestExtractIssuePrefix/3-char_hash_with_multi-part_prefix
=== RUN   TestExtractIssuePrefix/3-char_all-letters_suffix_(now_treated_as_hash,_GH_#446)
--- PASS: TestExtractIssuePrefix (0.01s)
    --- PASS: TestExtractIssuePrefix/standard_format (0.00s)
    --- PASS: TestExtractIssuePrefix/custom_prefix (0.00s)
    --- PASS: TestExtractIssuePrefix/hierarchical_ID (0.00s)
    --- PASS: TestExtractIssuePrefix/no_hyphen (0.00s)
    --- PASS: TestExtractIssuePrefix/empty_string (0.00s)
    --- PASS: TestExtractIssuePrefix/only_prefix (0.00s)
    --- PASS: TestExtractIssuePrefix/multi-part_prefix_with_numeric_suffix (0.00s)
    --- PASS: TestExtractIssuePrefix/multi-part_non-numeric_suffix_(word-like) (0.00s)
    --- PASS: TestExtractIssuePrefix/beads-vscode_style_prefix (0.00s)
    --- PASS: TestExtractIssuePrefix/web-app_style_prefix (0.00s)
    --- PASS: TestExtractIssuePrefix/three-part_prefix_with_hash (0.00s)
    --- PASS: TestExtractIssuePrefix/four-part_prefix_with_4-char_hash (0.00s)
    --- PASS: TestExtractIssuePrefix/prefix_with_5-char_hash (0.00s)
    --- PASS: TestExtractIssuePrefix/prefix_with_6-char_hash (0.00s)
    --- PASS: TestExtractIssuePrefix/uppercase_hash (0.00s)
    --- PASS: TestExtractIssuePrefix/mixed_case_hash (0.00s)
    --- PASS: TestExtractIssuePrefix/3-char_hash_with_hyphenated_prefix (0.00s)
    --- PASS: TestExtractIssuePrefix/3-char_hash_with_multi-part_prefix (0.00s)
    --- PASS: TestExtractIssuePrefix/3-char_all-letters_suffix_(now_treated_as_hash,_GH_#446) (0.00s)
=== RUN   TestExtractIssueNumber
=== RUN   TestExtractIssueNumber/simple_number
=== RUN   TestExtractIssueNumber/hash_ID_(no_number)
=== RUN   TestExtractIssueNumber/hierarchical_with_number
=== RUN   TestExtractIssueNumber/no_hyphen
=== RUN   TestExtractIssueNumber/empty_string
=== RUN   TestExtractIssueNumber/zero
=== RUN   TestExtractIssueNumber/large_number
=== RUN   TestExtractIssueNumber/number_with_text_after
=== RUN   TestExtractIssueNumber/hyphenated_prefix_with_number
--- PASS: TestExtractIssueNumber (0.00s)
    --- PASS: TestExtractIssueNumber/simple_number (0.00s)
    --- PASS: TestExtractIssueNumber/hash_ID_(no_number) (0.00s)
    --- PASS: TestExtractIssueNumber/hierarchical_with_number (0.00s)
    --- PASS: TestExtractIssueNumber/no_hyphen (0.00s)
    --- PASS: TestExtractIssueNumber/empty_string (0.00s)
    --- PASS: TestExtractIssueNumber/zero (0.00s)
    --- PASS: TestExtractIssueNumber/large_number (0.00s)
    --- PASS: TestExtractIssueNumber/number_with_text_after (0.00s)
    --- PASS: TestExtractIssueNumber/hyphenated_prefix_with_number (0.00s)
=== RUN   TestExtractIssuePrefixAllLetterHash
=== RUN   TestExtractIssuePrefixAllLetterHash/xa-adt-bat
=== RUN   TestExtractIssuePrefixAllLetterHash/xa-adt-dev
=== RUN   TestExtractIssuePrefixAllLetterHash/xa-adt-fbi
=== RUN   TestExtractIssuePrefixAllLetterHash/xa-adt-oil
=== RUN   TestExtractIssuePrefixAllLetterHash/xa-adt-r71
=== RUN   TestExtractIssuePrefixAllLetterHash/xa-adt-b4r
=== RUN   TestExtractIssuePrefixAllLetterHash/xa-adt-0lj
--- PASS: TestExtractIssuePrefixAllLetterHash (0.00s)
    --- PASS: TestExtractIssuePrefixAllLetterHash/xa-adt-bat (0.00s)
    --- PASS: TestExtractIssuePrefixAllLetterHash/xa-adt-dev (0.00s)
    --- PASS: TestExtractIssuePrefixAllLetterHash/xa-adt-fbi (0.00s)
    --- PASS: TestExtractIssuePrefixAllLetterHash/xa-adt-oil (0.00s)
    --- PASS: TestExtractIssuePrefixAllLetterHash/xa-adt-r71 (0.00s)
    --- PASS: TestExtractIssuePrefixAllLetterHash/xa-adt-b4r (0.00s)
    --- PASS: TestExtractIssuePrefixAllLetterHash/xa-adt-0lj (0.00s)
=== RUN   TestExtractIssuePrefixWordSuffix
=== RUN   TestExtractIssuePrefixWordSuffix/vc-baseline-test
=== RUN   TestExtractIssuePrefixWordSuffix/vc-baseline-hello
=== RUN   TestExtractIssuePrefixWordSuffix/vc-some-feature
--- PASS: TestExtractIssuePrefixWordSuffix (0.00s)
    --- PASS: TestExtractIssuePrefixWordSuffix/vc-baseline-test (0.00s)
    --- PASS: TestExtractIssuePrefixWordSuffix/vc-baseline-hello (0.00s)
    --- PASS: TestExtractIssuePrefixWordSuffix/vc-some-feature (0.00s)
=== RUN   TestIsLikelyHashAllLetters
=== RUN   TestIsLikelyHashAllLetters/r71
=== RUN   TestIsLikelyHashAllLetters/b4r
=== RUN   TestIsLikelyHashAllLetters/0lj
=== RUN   TestIsLikelyHashAllLetters/a3f
=== RUN   TestIsLikelyHashAllLetters/a1b2
=== RUN   TestIsLikelyHashAllLetters/test1
=== RUN   TestIsLikelyHashAllLetters/bat
=== RUN   TestIsLikelyHashAllLetters/dev
=== RUN   TestIsLikelyHashAllLetters/oil
=== RUN   TestIsLikelyHashAllLetters/fbi
=== RUN   TestIsLikelyHashAllLetters/abc
=== RUN   TestIsLikelyHashAllLetters/test
=== RUN   TestIsLikelyHashAllLetters/abcd
=== RUN   TestIsLikelyHashAllLetters/hello
=== RUN   TestIsLikelyHashAllLetters/foobar
=== RUN   TestIsLikelyHashAllLetters/baseline
=== RUN   TestIsLikelyHashAllLetters/ab
=== RUN   TestIsLikelyHashAllLetters/abcdefghi
--- PASS: TestIsLikelyHashAllLetters (0.00s)
    --- PASS: TestIsLikelyHashAllLetters/r71 (0.00s)
    --- PASS: TestIsLikelyHashAllLetters/b4r (0.00s)
    --- PASS: TestIsLikelyHashAllLetters/0lj (0.00s)
    --- PASS: TestIsLikelyHashAllLetters/a3f (0.00s)
    --- PASS: TestIsLikelyHashAllLetters/a1b2 (0.00s)
    --- PASS: TestIsLikelyHashAllLetters/test1 (0.00s)
    --- PASS: TestIsLikelyHashAllLetters/bat (0.00s)
    --- PASS: TestIsLikelyHashAllLetters/dev (0.00s)
    --- PASS: TestIsLikelyHashAllLetters/oil (0.00s)
    --- PASS: TestIsLikelyHashAllLetters/fbi (0.00s)
    --- PASS: TestIsLikelyHashAllLetters/abc (0.00s)
    --- PASS: TestIsLikelyHashAllLetters/test (0.00s)
    --- PASS: TestIsLikelyHashAllLetters/abcd (0.00s)
    --- PASS: TestIsLikelyHashAllLetters/hello (0.00s)
    --- PASS: TestIsLikelyHashAllLetters/foobar (0.00s)
    --- PASS: TestIsLikelyHashAllLetters/baseline (0.00s)
    --- PASS: TestIsLikelyHashAllLetters/ab (0.00s)
    --- PASS: TestIsLikelyHashAllLetters/abcdefghi (0.00s)
=== RUN   TestCanonicalizePath
=== RUN   TestCanonicalizePath/absolute_path
=== RUN   TestCanonicalizePath/relative_path
=== RUN   TestCanonicalizePath/current_directory
=== RUN   TestCanonicalizePath/empty_path
--- PASS: TestCanonicalizePath (0.00s)
    --- PASS: TestCanonicalizePath/absolute_path (0.00s)
    --- PASS: TestCanonicalizePath/relative_path (0.00s)
    --- PASS: TestCanonicalizePath/current_directory (0.00s)
    --- PASS: TestCanonicalizePath/empty_path (0.00s)
=== RUN   TestFindJSONLInDir
=== RUN   TestFindJSONLInDir/only_issues.jsonl
=== RUN   TestFindJSONLInDir/issues.jsonl_and_deletions.jsonl_-_prefers_issues
=== RUN   TestFindJSONLInDir/issues.jsonl_with_merge_artifacts_-_prefers_issues
=== RUN   TestFindJSONLInDir/beads.jsonl_as_legacy_fallback
=== RUN   TestFindJSONLInDir/issues.jsonl_preferred_over_beads.jsonl
=== RUN   TestFindJSONLInDir/only_deletions.jsonl_-_returns_default_issues.jsonl
=== RUN   TestFindJSONLInDir/only_merge_artifacts_-_returns_default_issues.jsonl
=== RUN   TestFindJSONLInDir/no_files_-_returns_default_issues.jsonl
--- PASS: TestFindJSONLInDir (0.01s)
    --- PASS: TestFindJSONLInDir/only_issues.jsonl (0.00s)
    --- PASS: TestFindJSONLInDir/issues.jsonl_and_deletions.jsonl_-_prefers_issues (0.00s)
    --- PASS: TestFindJSONLInDir/issues.jsonl_with_merge_artifacts_-_prefers_issues (0.00s)
    --- PASS: TestFindJSONLInDir/beads.jsonl_as_legacy_fallback (0.00s)
    --- PASS: TestFindJSONLInDir/issues.jsonl_preferred_over_beads.jsonl (0.00s)
    --- PASS: TestFindJSONLInDir/only_deletions.jsonl_-_returns_default_issues.jsonl (0.00s)
    --- PASS: TestFindJSONLInDir/only_merge_artifacts_-_returns_default_issues.jsonl (0.00s)
    --- PASS: TestFindJSONLInDir/no_files_-_returns_default_issues.jsonl (0.00s)
=== RUN   TestCanonicalizePathSymlink
--- PASS: TestCanonicalizePathSymlink (0.00s)
PASS
ok  	github.com/steveyegge/beads/internal/utils	1.043s
=== RUN   TestParsePriority
=== RUN   TestParsePriority/0
=== RUN   TestParsePriority/1
=== RUN   TestParsePriority/2
=== RUN   TestParsePriority/3
=== RUN   TestParsePriority/4
=== RUN   TestParsePriority/P0
=== RUN   TestParsePriority/P1
=== RUN   TestParsePriority/P2
=== RUN   TestParsePriority/P3
=== RUN   TestParsePriority/P4
=== RUN   TestParsePriority/p0
=== RUN   TestParsePriority/p1
=== RUN   TestParsePriority/p2
=== RUN   TestParsePriority/_1_
=== RUN   TestParsePriority/_P1_
=== RUN   TestParsePriority/5
=== RUN   TestParsePriority/-1
=== RUN   TestParsePriority/P5
=== RUN   TestParsePriority/abc
=== RUN   TestParsePriority/P
=== RUN   TestParsePriority/PP1
--- PASS: TestParsePriority (0.00s)
    --- PASS: TestParsePriority/0 (0.00s)
    --- PASS: TestParsePriority/1 (0.00s)
    --- PASS: TestParsePriority/2 (0.00s)
    --- PASS: TestParsePriority/3 (0.00s)
    --- PASS: TestParsePriority/4 (0.00s)
    --- PASS: TestParsePriority/P0 (0.00s)
    --- PASS: TestParsePriority/P1 (0.00s)
    --- PASS: TestParsePriority/P2 (0.00s)
    --- PASS: TestParsePriority/P3 (0.00s)
    --- PASS: TestParsePriority/P4 (0.00s)
    --- PASS: TestParsePriority/p0 (0.00s)
    --- PASS: TestParsePriority/p1 (0.00s)
    --- PASS: TestParsePriority/p2 (0.00s)
    --- PASS: TestParsePriority/_1_ (0.00s)
    --- PASS: TestParsePriority/_P1_ (0.00s)
    --- PASS: TestParsePriority/5 (0.00s)
    --- PASS: TestParsePriority/-1 (0.00s)
    --- PASS: TestParsePriority/P5 (0.00s)
    --- PASS: TestParsePriority/abc (0.00s)
    --- PASS: TestParsePriority/P (0.00s)
    --- PASS: TestParsePriority/PP1 (0.00s)
=== RUN   TestValidatePriority
=== RUN   TestValidatePriority/0
=== RUN   TestValidatePriority/2
=== RUN   TestValidatePriority/P1
=== RUN   TestValidatePriority/5
=== RUN   TestValidatePriority/abc
--- PASS: TestValidatePriority (0.00s)
    --- PASS: TestValidatePriority/0 (0.00s)
    --- PASS: TestValidatePriority/2 (0.00s)
    --- PASS: TestValidatePriority/P1 (0.00s)
    --- PASS: TestValidatePriority/5 (0.00s)
    --- PASS: TestValidatePriority/abc (0.00s)
=== RUN   TestValidateIDFormat
=== RUN   TestValidateIDFormat/#00
=== RUN   TestValidateIDFormat/bd-a3f8e9
=== RUN   TestValidateIDFormat/bd-42
=== RUN   TestValidateIDFormat/bd-a3f8e9.1
=== RUN   TestValidateIDFormat/foo-bar
=== RUN   TestValidateIDFormat/nohyphen
--- PASS: TestValidateIDFormat (0.00s)
    --- PASS: TestValidateIDFormat/#00 (0.00s)
    --- PASS: TestValidateIDFormat/bd-a3f8e9 (0.00s)
    --- PASS: TestValidateIDFormat/bd-42 (0.00s)
    --- PASS: TestValidateIDFormat/bd-a3f8e9.1 (0.00s)
    --- PASS: TestValidateIDFormat/foo-bar (0.00s)
    --- PASS: TestValidateIDFormat/nohyphen (0.00s)
=== RUN   TestValidatePrefix
=== RUN   TestValidatePrefix/matching_prefixes
=== RUN   TestValidatePrefix/empty_db_prefix
=== RUN   TestValidatePrefix/mismatched_with_force
=== RUN   TestValidatePrefix/mismatched_without_force
--- PASS: TestValidatePrefix (0.00s)
    --- PASS: TestValidatePrefix/matching_prefixes (0.00s)
    --- PASS: TestValidatePrefix/empty_db_prefix (0.00s)
    --- PASS: TestValidatePrefix/mismatched_with_force (0.00s)
    --- PASS: TestValidatePrefix/mismatched_without_force (0.00s)
PASS
ok  	github.com/steveyegge/beads/internal/validation	(cached)
